(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-30b5c7a5"],{"268f":function(a,t,e){var n=e("4ea4");e("b0c0"),e("d3b7"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(e("5530")),r={name:"Bind",data:function(){return{formData:{bank_name:"",bank_type:"",bank_number:"",zfb_name:"",zfb_number:"",wx_name:"",wx_number:""},is_id:""}},created:function(){this.getNetWork()},methods:{getNetWork:function(){var a=this,t=(0,i.default)((0,i.default)({},this.$user),{},{page:1});this.$api.user.user_bank_index(t).then((function(t){a.is_id=t.list.id,a.formData.bank_name=t.list.bank_name,a.formData.bank_type=t.list.bank_type,a.formData.bank_number=t.list.bank_number,a.formData.zfb_name=t.list.zfb_name,a.formData.zfb_number=t.list.zfb_number,a.formData.wx_name=t.list.wx_name,a.formData.wx_number=t.list.wx_number}))},submitFun:function(){var a=this;this.loading("正在保存");var t=(0,i.default)((0,i.default)({},this.$user),this.formData);this.is_id&&(t.id=this.is_id),this.$api.user.user_bank_save(t).then((function(t){console.log(t),a.$toast("保存成功")}))},upload_one:function(a){var t=this,e=event.target.files;this.$api.user.qiniu(this.$user).then((function(n){console.log(n);var i=new FormData;i.append("file",e[0]),i.append("token",n.token),i.append("fname",e[0].name),i.append("x:name",e[0].name),fetch("http://up-z2.qiniup.com",{method:"POST",body:i,headers:new Headers({Authorization:n.token})}).then((function(a){return a.json()})).then((function(e){console.log(e),t.formData[a]=e.hash})).catch((function(a){console.log(a)}))}))}}};t.default=r},3778:function(a,t,e){"use strict";e.r(t);var n=e("f1d9"),i=e("454b");for(var r in i)["default"].indexOf(r)<0&&function(a){e.d(t,a,(function(){return i[a]}))}(r);var o=e("2877"),s=Object(o["a"])(i["default"],n["a"],n["b"],!1,null,null,null);t["default"]=s.exports},"454b":function(a,t,e){"use strict";e.r(t);var n=e("268f"),i=e.n(n);for(var r in n)["default"].indexOf(r)<0&&function(a){e.d(t,a,(function(){return n[a]}))}(r);t["default"]=i.a},f1d9:function(a,t,e){"use strict";e.d(t,"a",(function(){return n})),e.d(t,"b",(function(){return i}));var n=function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("div",{staticClass:"app"},[e("div",{staticClass:"bind-page"},[e("ul",[e("li",[e("span",[a._v("开户姓名：")]),e("div",{staticClass:"fr"},[e("input",{directives:[{name:"model",rawName:"v-model",value:a.formData.bank_name,expression:"formData.bank_name"}],attrs:{type:"text",placeholder:"请输入开户姓名"},domProps:{value:a.formData.bank_name},on:{input:function(t){t.target.composing||a.$set(a.formData,"bank_name",t.target.value)}}})])]),e("li",[e("span",[a._v("开户银行：")]),e("div",{staticClass:"fr"},[e("input",{directives:[{name:"model",rawName:"v-model",value:a.formData.bank_type,expression:"formData.bank_type"}],attrs:{type:"text",placeholder:"请输入开户银行"},domProps:{value:a.formData.bank_type},on:{input:function(t){t.target.composing||a.$set(a.formData,"bank_type",t.target.value)}}})])]),e("li",[e("span",[a._v("开户账号：")]),e("div",{staticClass:"fr"},[e("b-input",{attrs:{type:"text",placeholder:"请输入开户账号"},model:{value:a.formData.bank_number,callback:function(t){a.$set(a.formData,"bank_number",t)},expression:"formData.bank_number"}})],1)]),e("li",[e("span",[a._v("支付宝账号：")]),e("div",{staticClass:"fr"},[e("input",{directives:[{name:"model",rawName:"v-model",value:a.formData.zfb_name,expression:"formData.zfb_name"}],attrs:{type:"text",placeholder:"请输入支付宝账号"},domProps:{value:a.formData.zfb_name},on:{input:function(t){t.target.composing||a.$set(a.formData,"zfb_name",t.target.value)}}})])]),e("li",[e("span",[a._v("支付宝收款码：")]),e("div",{staticClass:"fr"},[e("div",{staticClass:"pub-upload"},[e("input",{attrs:{type:"file",accept:"image/gif, image/jpeg"},on:{change:function(t){return a.upload_one("zfb_number")}}}),a.formData.zfb_number?e("img",{attrs:{src:"http://api.ohtbmgn.cn/"+a.formData.zfb_number,alt:""}}):a._e()])])]),e("li",[e("span",[a._v("微信收款码：")]),e("div",{staticClass:"fr"},[e("div",{staticClass:"pub-upload"},[e("input",{attrs:{type:"file",accept:"image/gif, image/jpeg"},on:{change:function(t){return a.upload_one("wx_number")}}}),a.formData.wx_number?e("img",{attrs:{src:"http://api.ohtbmgn.cn/"+a.formData.wx_number,alt:""}}):a._e()])])])]),e("div",{staticClass:"pub-button"},[e("button",{on:{click:a.submitFun}},[a._v("保存")])])])])},i=[]}}]);
//# sourceMappingURL=chunk-30b5c7a5.5a55173b.js.map