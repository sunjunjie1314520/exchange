{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/tool/plug/mixins/component/Berror.vue?5a4a","webpack:///./src/tool/plug/mixins/component/Berror.vue?0e28","webpack:///./src/tool/store/modules/Game.js","webpack:///./src/tool/api/index.js","webpack:///src/App.vue","webpack:///./src/tool/store/index.js","webpack:///./src/App.vue?a7d1","webpack:///src/tool/plug/mixins/component/Berror.vue","webpack:///./src/tool/store/modules/Record.js","webpack:///./src/tool/plug/mixins/component/Binput.vue?8bf1","webpack:///./src/tool/plug/mixins/component/Binput.vue?c7ac","webpack:///./src/App.vue","webpack:///./src/components/AppBar.vue?8a4c","webpack:///./src/tool/plug/scroll/index.vue?ba60","webpack:///./src/tool/plug/scroll/index.vue","webpack:///./src/tool/api/modules/game.js","webpack:///./src/tool/plug/mixins/component/Berror.vue","webpack:///./src/main.js","webpack:///./src/components/AppBar.vue?1936","webpack:///./src/tool/store/modules/Betting.js","webpack:///src/tool/plug/mixins/component/Binput.vue","webpack:///./src/tool/plug/mixins/index.js","webpack:///./src/App.vue?8a48","webpack:///./src/assets/lib/mui/js/mui.js","webpack:///./src/tool/plug/scroll/index.js","webpack:///./src/router/index.js","webpack:///./src/tool/store/store.js","webpack:///./src/tool/api/modules/new_user.js","webpack:///./src/tool/store/modules/User.js","webpack:///./src/tool/plug/mixins/component/Berror.vue?b911","webpack:///./src/tool/utils/request.js","webpack:///src/tool/plug/scroll/index.vue","webpack:///./src/tool/plug/scroll/index.vue?b7ee","webpack:///./src/App.vue?e65c","webpack:///./src/tool/plug/mixins/component/Binput.vue","webpack:///./src/tool/common/config.js","webpack:///./src/tool/plug/scroll/index.vue?1ca1","webpack:///./src/tool/common/constants.js","webpack:///./src/tool/plug/mixins/assist.js","webpack:///./src/components/AppBar.vue","webpack:///./src/tool/plug/mixins/directive.js","webpack:///./src/tool/plug/mixins/filter.js","webpack:///src/components/AppBar.vue","webpack:///./src/tool/api/modules/user.js"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","installedCssChunks","jsonpScriptSrc","p","exports","module","l","e","promises","cssChunks","Promise","resolve","reject","href","fullhref","existingLinkTags","document","getElementsByTagName","tag","dataHref","getAttribute","rel","existingStyleTags","linkTag","createElement","type","onload","onerror","event","request","target","src","err","Error","code","parentNode","removeChild","head","appendChild","then","installedChunkData","promise","onScriptComplete","script","charset","timeout","nc","setAttribute","error","clearTimeout","chunk","errorType","realSrc","message","name","undefined","setTimeout","all","m","c","d","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","oe","console","jsonpArray","window","oldJsonpFunction","slice","render","_vm","this","_h","$createElement","_c","_self","staticClass","_v","_s","staticRenderFns","state","GAME_GET_HISTORY_OPEN_CODE","GAME_GET_PLAY_TYPE_LIST","GAME_GET_NEW_OPEN_TIME","GAME_GET_ODDS_LIST","GAME_POST_BET","GAME_GET_PLAY_TYPE_DESC","GAME_GET_GAME_LIST","GAME_GET_LOTTERY_SERIES","getters","mutations","actions","store","GAME","version","game","user","new_user","log","Vue","use","Vuex","Store","strict","Game","User","Betting","Record","NoteListDetail","SET_NOTE_LIST_DETAIL","payload","RECORD","attrs","placeholder","domProps","on","defaultValue","$event","updateVal","component","AppBar","back","$router","_e","title","MyInfo","account","showTitle","class","active","alertConfig","SelectMode","h1","mode_config_result","_f","playGroupId","right","h2","Order","config","getHistoryOpenCode","params","globalRequest","VueScroller","VueClipboard","$md5","md5","$echarts","echarts","scroll","mixins","$api","api","$url","url_config","$store","productionTip","router","h","App","$mount","sscBetList","perMoney","totalMoney","WinningAmount","BaseConfig","action","oddsId","alertNote","alertNotePlate","Choose","mode_config","cache","PageActive","getCachePlay","play","SET_PAGE_ACTIVE","SET_TITLE_CONFIG","SET_ALERT_CONFIG","SET_BASE_CONFIG","SET_PLAY_GROUP_ID","SET_PER_MONEY","money","forEach","item","betMoney","commit","SET_MODE_CONFIG","SET_MODE_CONFIG_RESULT","SET_BET_MONEY","index","UPDATE_TOTAL_MONEY","betPl1","SET_SSC_BET_LIST","DELETE_BET_LIST","UPDATE_NUMBER","betNum","CLEAR_ACTION","CLEAR_ODDS_ID","SET_CACHE_DATA","SET_CLICK","click","BETTING","plug","options","mixin","computed","mapState","$user","userToken","$info","userinfo","$sell","current_sell","$trade","trade_index","$chu","current_chu","$coll","show_data","created","mounted","methods","loading","text","$toast","duration","forbidClick","mai_status1","id","str","mai_status","Binput","Berror","mui","$BaseConfig","$route","query","$assist","assist","readyRE","idSelectorRE","classSelectorRE","tagSelectorRE","translateRE","translateMatrixRE","$","selector","context","wrap","isArrayLike","ready","trim","test","found","getElementById","RegExp","$1","qsa","dom","setPrototypeOf","fn","uuid","extend","copy","copyIsArray","clone","arguments","deep","isFunction","isPlainObject","isArray","noop","filter","obj","String","class2type","toString","Array","isWindow","isObject","getPrototypeOf","isEmptyObject","getElementsByClassName","querySelectorAll","callback","readyState","addEventListener","buffer","ms","timer","lastStart","lastEnd","run","cancel","now","later","stop","each","elements","every","el","idx","focus","element","os","ios","trigger","eventType","eventData","dispatchEvent","CustomEvent","detail","bubbles","cancelable","getStyles","styles","ownerDocument","defaultView","getComputedStyle","getPropertyValue","parseTranslate","translateString","position","match","split","x","parseFloat","y","z","parseTranslateMatrix","matrix","is3D","hooks","addAction","hook","sort","a","b","doAction","handle","when","f","Date","toLowerCase","JSON","parseJSON","parse","define","detect","ua","funcs","wechat","replace","android","isBadAndroid","navigator","appVersion","iphone","ipad","func","userAgent","plus","body","classList","add","stream","isTouchable","EVENT_START","EVENT_MOVE","EVENT_END","EVENT_CANCEL","EVENT_CLICK","_mid","delegates","eventMethods","preventDefault","stopImmediatePropagation","stopPropagation","returnTrue","returnFalse","compatible","currentTarget","predicate","sourceMethod","mid","delegateFns","delegateFn","callbackObjs","handlerQueue","selectorAlls","indexOf","disabled","contains","matches","callbacks","handlers","handler","tagName","gesture","isPropagationStopped","findDelegateFn","delegateCallbacks","filterFn","preventDefaultException","isAddEventListener","delegateEvents","delegateCallbackObjs","delegateFnArray","delegateCallback","off","removeEventListener","targets","targetHandles","registerTarget","founds","isFound","targetHandle","isReset","isContinue","proto","evt","createEvent","initEvent","Event","Function","to","partial","bound","args","concat","documentElement","HTMLElement","self","update","classes","className","join","ret","remove","toggle","requestAnimationFrame","lastTime","webkitRequestAnimationFrame","currTime","getTime","timeToCall","Math","max","cancelAnimationFrame","webkitCancelAnimationFrame","webkitCancelRequestAnimationFrame","FastClick","querySelector","clickEvent","touch","targetElement","activeElement","blur","changedTouches","initMouseEvent","screenX","screenY","clientX","clientY","forwardedTouchEvent","propagationStopped","CLASS_FOCUSIN","CLASS_BAR_TAB","CLASS_BAR_FOOTER","CLASS_BAR_FOOTER_SECONDARY","CLASS_BAR_FOOTER_SECONDARY_TAB","webview","currentWebview","children","readOnly","isFooter","scrollTop","scrollHeight","scrollLeft","scrollTo","namespace","classNamePrefix","classSelectorPrefix","classSelector","eventName","gestures","session","addGesture","round","abs","sqrt","atan2","atan","getDistance","p1","p2","props","getScale","starts","moves","getAngle","PI","getDirection","getRotation","start","end","getVelocity","deltaTime","stoped","gestureConfig","hasParent","node","parent","uniqueArray","results","values","val","getMultiCenter","touches","touchesLength","pageX","pageY","multiTouch","pinch","copySimpleTouchData","timestamp","center","deltaX","deltaY","calDelta","offset","offsetDelta","prevDelta","prevTouch","calTouchData","firstTouch","firstMultiTouch","offsetCenter","angle","distance","offsetDirection","scale","rotation","calIntervalTouchData","CAL_INTERVAL","velocity","velocityX","velocityY","direction","last","lastInterval","v","targetIds","convertTouches","getTouches","allTouches","targetTouches","changedTargetTouches","sessionTarget","identifier","changedTouchesLength","isFirst","isFinal","handleTouchEvent","supportsPassive","opts","passive","capture","popover","tab","offcanvas","modal","isScrolling","scrollingTimeout","flickStartTime","flickStart","flick","flickMaxTime","flickMinDistince","flickTime","flickDistanceX","flickDistanceY","swipe","swipeMaxTime","swipeMinDistince","lockDirection","startDirection","drag","fingers","lastTarget","lastTapTime","tapMaxDistance","tapMaxTime","doubletap","tapMaxInterval","holdTimeout","holdThreshold","hold","lastScale","scaleDiff","minRotationAngle","global","tap","longtap","initGlobal","inits","init","isInit","repeat","addInit","subpages","createIframe","wrapper","top","bottom","style","iframe","url","handleScroll","location","localStorage","getItem","setInterval","_scrollTop","scrollY","setItem","osObj","defaultOptions","swipeBack","preloadPages","preloadLimit","keyEventBind","backbutton","menubutton","titleConfig","height","backgroundColor","bottomBorderColor","left","width","color","align","family","size","weight","fontSrc","image","base64Data","imgSrc","sprite","defaultShow","autoShow","aniShow","extras","show","waitingOptions","showOptions","windowOptions","scalable","bounce","plusReady","fire","evalJS","stringify","receive","triggerPreload","preloaded","list","timeChecked","openWindow","nShow","nWaiting","webviewCache","webviews","getWebviewById","createNew","afterShowMethodName","waitingConfig","waiting","nativeUI","showWaiting","createWindow","showWebview","close","openWindowWithTitle","tid","view","nativeObj","View","dock","drawRect","_b","parseInt","_title","drawText","_back","backClick","_backImage","bitmap","Bitmap","loadBase64Data","load","drawBitmap","setTouchEventRect","interceptTouchEvent","append","isCreate","preload","getURL","subpage","subpageId","subWebview","preloads","first","closeAll","closeOpened","opened","len","openedWebview","open_open","createWindows","option","appendWebview","runtime","appid","statusBarBackground","setStatusBarBackground","display","supportStatusbarOffset","addBack","history","beforeback","_popover","offCanvas","previewImage","getPreviewImage","isShown","closePopup","__back__first","wobj","canBack","quit","toast","hide","menu","__back","__menu","pullRefreshOptions","pullRefresh","hasPulldown","down","hasPullup","up","container","$container","pullRefresh_native","__NWin_Enable__","upOptions","webviewId","downOptions","jsonType","htmlType","rscript","scriptTypeRE","xmlTypeRE","blankRE","ajaxSettings","beforeSend","success","complete","xhr","protocol","XMLHttpRequest","accepts","json","xml","html","processData","ajaxBeforeSend","settings","ajaxSuccess","ajaxComplete","ajaxError","status","serialize","traditional","scope","array","hash","serializeData","contentType","headers","param","toUpperCase","appendQuery","mimeToDataType","mime","parseArguments","dataType","ajax","setHeader","webkit","messageHandlers","net","abortTimeout","nativeSetHeader","setRequestHeader","mimeType","overrideMimeType","onreadystatechange","isLocal","responseText","getResponseHeader","eval","responseXML","statusText","abort","xhrFields","async","open","username","password","send","k","encodeURIComponent","post","getJSON","parts","response","div","innerHTML","selectorDiv","childs","originAnchor","crossDomain","urlAnchor","host","box","getBoundingClientRect","pageYOffset","clientTop","pageXOffset","clientLeft","distaince","animationFrame","cb","isQueued","initializing","fnTest","xyz","Class","prop","_super","tmp","constructor","callee","CLASS_PULL_TOP_POCKET","CLASS_PULL_BOTTOM_POCKET","CLASS_PULL","CLASS_PULL_LOADING","CLASS_PULL_CAPTION","CLASS_PULL_CAPTION_DOWN","CLASS_PULL_CAPTION_REFRESH","CLASS_PULL_CAPTION_NOMORE","CLASS_ICON","CLASS_SPINNER","CLASS_ICON_PULLDOWN","CLASS_BLOCK","CLASS_HIDDEN","CLASS_VISIBILITY","CLASS_LOADING_UP","CLASS_LOADING_DOWN","CLASS_LOADING","pocketHtml","PullRefresh","scrollX","indicators","deceleration","contentinit","contentdown","contentover","contentrefresh","auto","contentnomore","_init","_initPocket","_initPulldownRefresh","pulldown","topPocket","pullPocket","pullCaption","topCaption","pullLoading","topLoading","_initPullupRefresh","bottomPocket","bottomCaption","bottomLoading","scroller","_createPocket","insertBefore","firstChild","clazz","iconClass","pocket","_resetPullDownLoading","webkitTransition","webkitTransform","webkitAnimation","_setCaptionClass","isPulldown","caption","_setCaption","reset","lastTitle","CLASS_SCROLL","CLASS_SCROLLBAR","CLASS_INDICATOR","CLASS_SCROLLBAR_VERTICAL","CLASS_SCROLLBAR_HORIZONTAL","CLASS_ACTIVE","ease","quadratic","circular","outCirc","outCubic","Scroll","scrollerStyle","stopped","startX","startY","hardwareAccelerated","fixedBadAndorid","momentum","snapX","snap","bounceTime","bounceEasing","scrollTime","scrollEasing","directionLockThreshold","parallaxElement","parallaxRatio","translateZ","refresh","_initParallax","_initIndicators","_initEvent","parallaxStyle","parallaxHeight","offsetHeight","parallaxImgStyle","indicator","_createScrollBar","listenX","listenY","Indicator","_initSnap","currentPage","pages","snaps","leftX","rightX","offsetLeft","offsetWidth","_getSnapX","maxScrollX","min","wrapperWidth","_gotoPage","_nearestSnap","nearestX","detach","segmentedControl","_handleIndicatorScrollend","map","fade","_handleIndicatorScrollstart","_handleIndicatorRefresh","handleEvent","resetPosition","_start","_drag","_flick","_end","transitionTimer","_transitionEnd","_scrollend","_resize","moved","needReset","_transitionTime","isInTransition","pos","setTranslate","reLayout","_getDirectionByAngle","innerHeight","isPreventDefault","isReturn","absDeltaX","absDeltaY","hasHorizontalScroll","hasVerticalScroll","newX","newY","maxScrollY","_updateTranslate","_clearRequestAnimationFrame","time","easing","momentumX","_momentum","destination","momentumY","wrapperHeight","that","resizeTimeout","resizePolling","transitionTime","_transitionTimingFunction","transitionTimingFunction","_translate","lastX","lastY","scrollbar","scrollbarY","scrollbarIndicatorY","scrollbarX","scrollbarIndicatorX","_preventDefaultException","exceptions","_reLayout","scrollerWidth","scrollerHeight","items","itemLength","current","lowerMargin","wrapperSize","speed","_getTranslateStr","setStopped","disablePullupToRefresh","disablePulldownToRefresh","enablePullupToRefresh","enablePulldownToRefresh","parallaxY","updatePosition","paddingLeft","paddingRight","paddingTop","paddingBottom","clientWidth","clientHeight","_reInit","groups","scrollToBottom","gotoPage","destroy","wrapperStyle","indicatorStyle","speedRatioX","speedRatioY","sizeRatioX","sizeRatioY","maxPosX","maxPosY","opacity","indicatorWidth","minBoundaryX","maxBoundaryX","indicatorHeight","minBoundaryY","maxBoundaryY","visible","fadeTimeout","delay","scrollApis","scrollApi","_options","_scrollbottom","pullupLoading","disablePulldown","pulldownLoading","endPulldownToRefresh","endPullupToRefresh","finished","pullRefreshApi","autoY","CLASS_SLIDER","CLASS_SLIDER_GROUP","CLASS_SLIDER_LOOP","CLASS_ACTION_PREVIOUS","CLASS_ACTION_NEXT","CLASS_SLIDER_ITEM","SELECTOR_SLIDER_ITEM","SELECTOR_SLIDER_PROGRESS_BAR","Slider","interval","slideTime","progressBar","progressBarWidth","progressBarStyle","_initTimer","_triggerSlide","slideNumber","_fixedSlideNumber","loop","lastSlideNumber","lastPage","_handleSlide","temps","_slideNumber","indicatorWrap","number","innerText","controlItems","_handleTabShow","gotoItem","tabNumber","_handleIndicatorTap","slidershowTimer","slider","nextItem","page","_getScroll","_getPage","isFlick","_gotoItem","prevItem","getSlideNumber","sliderElement","CLASS_PLUS_PULLREFRESH","PlusPullRefresh","_initPulldownRefreshEvent","scrollInterval","isScroll","setPullToRefresh","support","range","attrWebviewId","removeAttribute","setBounce","changeoffset","beginPulldown","beginPullToRefresh","_pulldownLoading","childWebview","endPulldown","_wv","endPullToRefresh","_endPulldownToRefresh","beginPullup","isLoading","endPullup","setStyle","CLASS_OFF_CANVAS_LEFT","CLASS_OFF_CANVAS_RIGHT","CLASS_ACTION_BACKDROP","CLASS_OFF_CANVAS_WRAP","CLASS_SLIDE_IN","CLASS_TRANSITIONING","SELECTOR_INNER_WRAP","OffCanvas","dragThresholdX","slideIn","offCanvasLefts","offCanvasRights","offCanvasLeft","offCanvasRight","offCanvasRightWidth","offCanvasLeftWidth","offCanvasLeftSlideIn","offCanvasRightSlideIn","backdrop","offsetX","lastTranslateX","_dispatchEvent","isDragging","offCanvasWidth","getTranslateX","_initOffCanvasVisible","updateTranslate","ratio","openPercentage","visibility","percentage","setTranslateX","leftShowing","rightShowing","zIndex","percent","zoomOutScale","zoomInScale","zoomInOpacity","webkitTransformOrigin","shown","directionOrOffCanvas","findOffCanvasContainer","_container","offCanvasApis","offCanvasApi","CLASS_ACTION","CLASS_MODAL","CLASS_POPOVER","CLASS_POPOVER_ARROW","CLASS_ACTION_POPOVER","CLASS_BACKDROP","CLASS_BAR_POPOVER","CLASS_BAR_BACKDROP","CLASS_BOTTOM","removeBackdropTimer","onPopoverShown","onPopoverHidden","removeBackdrop","togglePopover","anchor","isActionSheet","calPosition","wWidth","innerWidth","wHeight","pWidth","pHeight","aWidth","aHeight","arrow","arrowSize","pTop","pLeft","diff","arrowLeft","defaultPadding","createMask","mask","_show","_remove","CLASS_CONTROL_ITEM","CLASS_SEGMENTED_CONTROL","CLASS_SEGMENTED_CONTROL_VERTICAL","CLASS_CONTROL_CONTENT","CLASS_TAB_BAR","CLASS_TAB_ITEM","targetTab","activeTab","activeBodies","targetBody","isLastActive","activeBody","contents","_contents","CLASS_SWITCH","CLASS_SWITCH_HANDLE","CLASS_DRAGGING","CLASS_DISABLED","SELECTOR_SWITCH_HANDLE","Toggle","toggleWidth","handleWidth","handleX","swiperight","webkitTransitionDuration","lastChanged","initialState","isActive","animate","isChanged","switchApis","switchApi","cell","CLASS_SELECTED","CLASS_GRID_VIEW","CLASS_RADIO_VIEW","CLASS_TABLE_VIEW_CELL","CLASS_COLLAPSE_CONTENT","CLASS_TOGGLE","CLASS_BTN","CLASS_SLIDER_HANDLE","CLASS_SLIDER_LEFT","CLASS_SLIDER_RIGHT","SELECTOR_SLIDER_HANDLE","SELECTOR_SLIDER_LEFT","SELECTOR_SLIDER_RIGHT","SELECTOR_SELECTED","SELECTOR_BUTTON","overFactor","isMoved","isOpened","openedActions","progress","sliderHandle","sliderActionLeft","sliderActionRight","buttonsLeft","buttonsRight","sliderDirection","sliderRequestAnimationFrame","translateX","sliderActionLeftWidth","sliderActionRightWidth","toggleActive","pow","buttonRight","_buttonOffset","buttonOffset","buttonLeft","isDisabled","selected","swipeoutClose","link","toggleEvents","dragend","swipeleft","translate","buttons","actionsWidth","isToggle","newTranslate","button","isRemove","method","swipeoutOpen","swipeoutAction","swipeoutWidth","radioOrCheckboxClick","input","checked","isExpand","ul","collapse","alert","btnValue","confirm","btnArray","prompt","defaultText","durations","isVisible","verticalAlign","CLASS_POPUP","CLASS_POPUP_BACKDROP","CLASS_POPUP_IN","CLASS_POPUP_OUT","CLASS_POPUP_INNER","CLASS_POPUP_TITLE","CLASS_POPUP_TEXT","CLASS_POPUP_INPUT","CLASS_POPUP_BUTTONS","CLASS_POPUP_BUTTON","CLASS_POPUP_BUTTON_BOLD","popupStack","createInput","createInner","extra","createButtons","btns","createPopup","popupElement","removePopupElement","popup","pop","createAlert","createConfirm","createPrompt","closePopups","CLASS_PROGRESSBAR","CLASS_PROGRESSBAR_IN","CLASS_PROGRESSBAR_OUT","CLASS_PROGRESSBAR_INFINITE","SELECTOR_PROGRESSBAR","_findProgressbar","progressbars","progressbar","showProgressbar","_progressbar","setProgressbar","hideProgressbar","span","progressbarApis","progressbarApi","mui_plugin_progressbar","setOptions","setProgress","CLASS_ICON_CLEAR","CLASS_ICON_SPEECH","CLASS_ICON_SEARCH","CLASS_ICON_PASSWORD","CLASS_INPUT_ROW","CLASS_PLACEHOLDER","CLASS_TOOLTIP","SELECTOR_ICON_CLOSE","SELECTOR_ICON_SPEECH","SELECTOR_ICON_PASSWORD","SELECTOR_PLACEHOLDER","SELECTOR_TOOLTIP","findRow","Input","sliderActionClass","sliderActionSelector","clearActionClass","clearActionSelector","speechActionClass","speechActionSelector","searchActionClass","searchActionSelector","passwordActionClass","passwordActionSelector","initAction","initElementEvent","row","sliderAction","createAction","searchAction","speechAction","speechActionClick","clearAction","clearActionClick","passwordAction","passwordActionClick","actionClass","actionSelector","nextSibling","tooltip","showTip","tooltipWidth","distince","scaleWidth","setPlaceholder","oldValue","speech","startRecognize","engine","stopRecognize","inputApis","inputApi","rgbaRegex","getColor","colorStr","Transparent","scrollby","scrollByElem","isNativeScroll","_style","_bgColor","_R","_G","_B","_A","lastOpacity","_bufferFn","alpha","destory","mui_plugin_transparent","transparent","transparentApis","transparentApi","touchSupport","tapEventName","changeEventName","holderClassName","plusClassSelector","minusClassSelector","inputClassSelector","Numbox","holder","step","minus","checkValue","getValue","isNaN","setOption","setValue","numbox","optionsText","STATE_RESET","STATE_LOADING","loadingText","loadingIcon","loadingIconPosition","Button","isInput","resetHTML","setState","setHtml","buttonApis","buttonApi","mui_plugin_button","VueRouter","routes","path","meta","full","base","process","afterEach","app","$options","fp_state","fp_getters","fp_mutations","fp_actions","res","catch","namespaced","trade_sellr","order_order","orderRecord","chuRecord","user_bank_save","user_bank_index","qiniu","user_bank","orderDetail","sell_index","order_detail","upload_pic","trade_status","sign","record","USER_INFO","TRADE_INDEX","SET_TOKEN","SET_CURRENT_SELL","SET_CURRENT_SELL1","SET_CURRENT_SELL2","SET_CURRENT_STATUS","USER","arr","power","form","FormData","formData","machiningData","resove","fetch","serverUrl","myJson","ref","touchstart","touchmove","touchend","transform","curr","transitionDuration","_t","transitionName","serverURL","GAME_UPLOAD_ENV_INFO","getUserAgent","env","isAndroid","isIOS","getScreenInfo","info","getDomInfo","setLocalStorage","content","getLocalStorage","removeLocalStorage","removeItem","sortArray","source","_sort","item1","item2","deepClone","_obj","objClone","random_number","count","original","random","directive","binding","vnode","maxLength","reg","oninput","inputType","substring","onpaste","onbeforepaste","inserted","componentUpdated","Double","FilterStore","s1","s2","format","floor","digit","intercept","toFixed"],"mappings":"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","file":"js/index.efb63a22.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded CSS chunks\n \tvar installedCssChunks = {\n \t\t\"index\": 0\n \t}\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"index\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// script path function\n \tfunction jsonpScriptSrc(chunkId) {\n \t\treturn __webpack_require__.p + \"js/\" + ({}[chunkId]||chunkId) + \".\" + {\"chunk-01c2ebaf\":\"bb3234ee\",\"chunk-16bf8a26\":\"e195676b\",\"chunk-17f4dacb\":\"c7e70d52\",\"chunk-38997d98\":\"71ca36c4\",\"chunk-5bb7b64d\":\"4c0dd3df\",\"chunk-6281ff7c\":\"86a55f8c\",\"chunk-64395457\":\"35d1f8e8\",\"chunk-6b01634c\":\"f63011c3\",\"chunk-7f623c3b\":\"d26d17c1\",\"chunk-7fe46811\":\"79cad6e8\",\"chunk-a46b0266\":\"95f61975\",\"chunk-ab87d51a\":\"b59e3460\",\"chunk-ca335132\":\"f576b184\",\"chunk-eb816df6\":\"9ac57343\"}[chunkId] + \".js\"\n \t}\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n \t// This file contains only the entry chunk.\n \t// The chunk loading function for additional chunks\n \t__webpack_require__.e = function requireEnsure(chunkId) {\n \t\tvar promises = [];\n\n\n \t\t// mini-css-extract-plugin CSS loading\n \t\tvar cssChunks = {\"chunk-6281ff7c\":1};\n \t\tif(installedCssChunks[chunkId]) promises.push(installedCssChunks[chunkId]);\n \t\telse if(installedCssChunks[chunkId] !== 0 && cssChunks[chunkId]) {\n \t\t\tpromises.push(installedCssChunks[chunkId] = new Promise(function(resolve, reject) {\n \t\t\t\tvar href = \"css/\" + ({}[chunkId]||chunkId) + \".\" + {\"chunk-01c2ebaf\":\"31d6cfe0\",\"chunk-16bf8a26\":\"31d6cfe0\",\"chunk-17f4dacb\":\"31d6cfe0\",\"chunk-38997d98\":\"31d6cfe0\",\"chunk-5bb7b64d\":\"31d6cfe0\",\"chunk-6281ff7c\":\"af2c4021\",\"chunk-64395457\":\"31d6cfe0\",\"chunk-6b01634c\":\"31d6cfe0\",\"chunk-7f623c3b\":\"31d6cfe0\",\"chunk-7fe46811\":\"31d6cfe0\",\"chunk-a46b0266\":\"31d6cfe0\",\"chunk-ab87d51a\":\"31d6cfe0\",\"chunk-ca335132\":\"31d6cfe0\",\"chunk-eb816df6\":\"31d6cfe0\"}[chunkId] + \".css\";\n \t\t\t\tvar fullhref = __webpack_require__.p + href;\n \t\t\t\tvar existingLinkTags = document.getElementsByTagName(\"link\");\n \t\t\t\tfor(var i = 0; i < existingLinkTags.length; i++) {\n \t\t\t\t\tvar tag = existingLinkTags[i];\n \t\t\t\t\tvar dataHref = tag.getAttribute(\"data-href\") || tag.getAttribute(\"href\");\n \t\t\t\t\tif(tag.rel === \"stylesheet\" && (dataHref === href || dataHref === fullhref)) return resolve();\n \t\t\t\t}\n \t\t\t\tvar existingStyleTags = document.getElementsByTagName(\"style\");\n \t\t\t\tfor(var i = 0; i < existingStyleTags.length; i++) {\n \t\t\t\t\tvar tag = existingStyleTags[i];\n \t\t\t\t\tvar dataHref = tag.getAttribute(\"data-href\");\n \t\t\t\t\tif(dataHref === href || dataHref === fullhref) return resolve();\n \t\t\t\t}\n \t\t\t\tvar linkTag = document.createElement(\"link\");\n \t\t\t\tlinkTag.rel = \"stylesheet\";\n \t\t\t\tlinkTag.type = \"text/css\";\n \t\t\t\tlinkTag.onload = resolve;\n \t\t\t\tlinkTag.onerror = function(event) {\n \t\t\t\t\tvar request = event && event.target && event.target.src || fullhref;\n \t\t\t\t\tvar err = new Error(\"Loading CSS chunk \" + chunkId + \" failed.\\n(\" + request + \")\");\n \t\t\t\t\terr.code = \"CSS_CHUNK_LOAD_FAILED\";\n \t\t\t\t\terr.request = request;\n \t\t\t\t\tdelete installedCssChunks[chunkId]\n \t\t\t\t\tlinkTag.parentNode.removeChild(linkTag)\n \t\t\t\t\treject(err);\n \t\t\t\t};\n \t\t\t\tlinkTag.href = fullhref;\n\n \t\t\t\tvar head = document.getElementsByTagName(\"head\")[0];\n \t\t\t\thead.appendChild(linkTag);\n \t\t\t}).then(function() {\n \t\t\t\tinstalledCssChunks[chunkId] = 0;\n \t\t\t}));\n \t\t}\n\n \t\t// JSONP chunk loading for javascript\n\n \t\tvar installedChunkData = installedChunks[chunkId];\n \t\tif(installedChunkData !== 0) { // 0 means \"already installed\".\n\n \t\t\t// a Promise means \"currently loading\".\n \t\t\tif(installedChunkData) {\n \t\t\t\tpromises.push(installedChunkData[2]);\n \t\t\t} else {\n \t\t\t\t// setup Promise in chunk cache\n \t\t\t\tvar promise = new Promise(function(resolve, reject) {\n \t\t\t\t\tinstalledChunkData = installedChunks[chunkId] = [resolve, reject];\n \t\t\t\t});\n \t\t\t\tpromises.push(installedChunkData[2] = promise);\n\n \t\t\t\t// start chunk loading\n \t\t\t\tvar script = document.createElement('script');\n \t\t\t\tvar onScriptComplete;\n\n \t\t\t\tscript.charset = 'utf-8';\n \t\t\t\tscript.timeout = 120;\n \t\t\t\tif (__webpack_require__.nc) {\n \t\t\t\t\tscript.setAttribute(\"nonce\", __webpack_require__.nc);\n \t\t\t\t}\n \t\t\t\tscript.src = jsonpScriptSrc(chunkId);\n\n \t\t\t\t// create error before stack unwound to get useful stacktrace later\n \t\t\t\tvar error = new Error();\n \t\t\t\tonScriptComplete = function (event) {\n \t\t\t\t\t// avoid mem leaks in IE.\n \t\t\t\t\tscript.onerror = script.onload = null;\n \t\t\t\t\tclearTimeout(timeout);\n \t\t\t\t\tvar chunk = installedChunks[chunkId];\n \t\t\t\t\tif(chunk !== 0) {\n \t\t\t\t\t\tif(chunk) {\n \t\t\t\t\t\t\tvar errorType = event && (event.type === 'load' ? 'missing' : event.type);\n \t\t\t\t\t\t\tvar realSrc = event && event.target && event.target.src;\n \t\t\t\t\t\t\terror.message = 'Loading chunk ' + chunkId + ' failed.\\n(' + errorType + ': ' + realSrc + ')';\n \t\t\t\t\t\t\terror.name = 'ChunkLoadError';\n \t\t\t\t\t\t\terror.type = errorType;\n \t\t\t\t\t\t\terror.request = realSrc;\n \t\t\t\t\t\t\tchunk[1](error);\n \t\t\t\t\t\t}\n \t\t\t\t\t\tinstalledChunks[chunkId] = undefined;\n \t\t\t\t\t}\n \t\t\t\t};\n \t\t\t\tvar timeout = setTimeout(function(){\n \t\t\t\t\tonScriptComplete({ type: 'timeout', target: script });\n \t\t\t\t}, 120000);\n \t\t\t\tscript.onerror = script.onload = onScriptComplete;\n \t\t\t\tdocument.head.appendChild(script);\n \t\t\t}\n \t\t}\n \t\treturn Promise.all(promises);\n \t};\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// on error function for async loading\n \t__webpack_require__.oe = function(err) { console.error(err); throw err; };\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"v-error\"},[_c('span',[_vm._v(_vm._s(_vm.message || '此次请求出了个差错'))])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Berror.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Berror.vue?vue&type=script&lang=js&\"","import { store } from \"@/tool/store/store.js\";\r\n\r\nimport {\r\n    GAME,\r\n    GAME_GET_HISTORY_OPEN_CODE,\r\n    GAME_GET_PLAY_TYPE_LIST,\r\n    GAME_GET_NEW_OPEN_TIME,\r\n    \r\n    GAME_GET_ODDS_LIST,\r\n    GAME_POST_BET,\r\n    GAME_GET_PLAY_TYPE_DESC,\r\n    GAME_GET_GAME_LIST,\r\n    GAME_GET_LOTTERY_SERIES,\r\n} from \"../../common/constants.js\";\r\n\r\n\r\nconst state = {\r\n    [GAME_GET_HISTORY_OPEN_CODE]: false,\r\n    [GAME_GET_PLAY_TYPE_LIST]: false,\r\n    [GAME_GET_NEW_OPEN_TIME]: false,\r\n    [GAME_GET_ODDS_LIST]: false,\r\n    [GAME_POST_BET]: false,\r\n    [GAME_GET_PLAY_TYPE_DESC]: false,\r\n    [GAME_GET_GAME_LIST]: false,\r\n    [GAME_GET_LOTTERY_SERIES]: false,\r\n}\r\n\r\nconst getters = {\r\n    \r\n}\r\n\r\nconst mutations = {\r\n    \r\n}\r\n\r\nconst actions = {}\r\n\r\nexport default store('game', GAME, state, getters, mutations, actions)","\r\nimport game from \"./modules/game.js\";\r\n\r\nimport user from \"./modules/user.js\";\r\nimport new_user from \"./modules/new_user.js\";\r\n\r\n\r\nconst version = true\r\n\r\nlet modules = {\r\n    ...{\r\n        game\r\n    },\r\n}\r\n\r\nif (version) {\r\n    modules = {...{modules}, user: {...user}}\r\n} else {\r\n    modules = {...modules, user: {...new_user}}\r\n}\r\n\r\nconsole.log(modules);\r\n\r\nexport default modules","<template>\r\n\t<div id=\"app\">\r\n\t\t<AppBar v-if=\"!full\"></AppBar>\r\n\t\t<transition :name=\"transitionName\"> \r\n\t\t\t<router-view :class=\"['app-router', {'pt': !full}]\" />\r\n\t\t</transition>\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\n\texport default {\r\n\t\tdata(){\r\n\t\t\treturn {\r\n\t\t\t\ttransitionName: '',\r\n\t\t\t\tfull: false,\r\n\t\t\t}\r\n\t\t},\r\n\t\twatch:{\r\n\t\t\t'$route' (to, from) {\r\n\r\n\t\t\t\tconst toDepth = to.meta.back\r\n\t\t\t\tconst fromDepth = from.meta.back\r\n\t\t\t\t\r\n\t\t\t\tthis.full = to.meta.full\r\n\t\t\t\tif(from.name){\r\n\t\t\t\t\tthis.transitionName = toDepth < fromDepth ? 'slide-right' : 'slide-left'\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\tcreated(){\r\n\t\t\tconst _this = this\r\n\t\t\tconsole.log('app created');\r\n\t\t\t_this.fontSize(750);\r\n\r\n\t\t\t// 禁止应用\r\n\t\t\twindow.addEventListener('touchmove', function(e){\r\n\t\t\t\te.preventDefault()\r\n\t\t\t}, { passive: false });\r\n\r\n\t\t\twindow.onresize = function(){\r\n\t\t\t\t_this.fontSize(750)\r\n\t\t\t}\r\n\t\t\twindow.getMetaParams = function(e){\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tlet dd_user = this.$assist.getLocalStorage('dd_user')\r\n\t\t\tconsole.log(dd_user);\r\n\t\t\t\r\n\t\t\tif(dd_user){\r\n\t\t\t\tthis.$store.commit('User/SET_TOKEN', dd_user);\r\n\t\t\t}else {\r\n\t\t\t\tthis.$router.push({name: 'Login'});\r\n\t\t\t}\r\n\t\t},\r\n\t\tmounted(){\r\n\t\t\tconst _this = this\r\n\t\t\tconsole.log('app mounted');\r\n\r\n\t\t\tvar bowhidden=\"hidden\" in document?\"hidden\": \"webkithidden\" in document?\"webkithidden\": \"mozhidden\" in document ?\"mozhidden\": null;\r\n\t\t\tvar vibchage=\"visibilitychange\" || \"webkitvisibilitychange\" || \"mozvisibilitychange\";\r\n\t\t\tdocument.addEventListener(vibchage, function (){\r\n\t\t\t\tif(!document[bowhidden]){\r\n\t\t\t\t\tvar date = new Date()\r\n\t\t\t\t\tconsole.log(\"激活\", date);\r\n\t\t\t\t\t_this.$store.commit('Betting/SET_PAGE_ACTIVE', true)\r\n\t\t\t\t}\r\n\t\t\t\telse{\r\n\t\t\t\t\tvar date = new Date()\r\n\t\t\t\t\tconsole.log(\"隐藏\", date);\r\n\t\t\t\t\t_this.$store.commit('Betting/SET_PAGE_ACTIVE', false)\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t},\r\n\t\tmethods:{\r\n\t\t\tfontSize(devwidth) {\r\n\t\t\t\tvar deviceWidth = document.documentElement.clientWidth;\r\n\t\t\t\tif (deviceWidth >= devwidth) deviceWidth = devwidth;\r\n\t\t\t\tdocument.documentElement.style.fontSize = deviceWidth / (devwidth / 100) + 'px';\r\n\t\t\t},\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style lang=\"stylus\">\r\n.pt\r\n\tpadding-top 1rem\r\n.app-router\r\n\tposition absolute\r\n\tleft 0\r\n\ttop 0\r\n\tright 0\r\n\tbottom 0\r\n.slide-right-enter-active\r\n.slide-right-leave-active\r\n.slide-left-enter-active\r\n.slide-left-leave-active\r\n\twill-change transform\r\n\ttransition all 500ms\r\n\tposition absolute\r\n\tleft 0\r\n\twidth 100%\r\n.slide-left-enter \r\n\topacity 0\r\n\ttransform translate3d(100%,0, 0)\r\n.slide-left-leave-active\r\n\topacity 0\r\n\ttransform translate3d(-100%, 0, 0)\r\n.slide-right-enter\r\n\topacity 0\r\n\ttransform translate3d(-100%,0,0)\r\n.slide-right-leave-active\r\n\topacity 0\r\n\ttransform translate3d(100%,0, 0)\r\n</style>","\r\nimport Vue from 'vue'\r\nimport Vuex from 'vuex'\r\n// import createPersistedState from 'vuex-persistedstate'\r\nVue.use(Vuex)\r\n\r\nimport Game from \"./modules/Game.js\";\r\nimport User from \"./modules/User.js\";\r\nimport Betting from \"./modules/Betting.js\";\r\nimport Record from \"./modules/Record.js\";\r\n\r\nconst store = new Vuex.Store({\r\n    strict: true,\r\n    modules: {\r\n        Game,\r\n        User,\r\n        Betting,\r\n        Record,\r\n    },\r\n    // plugins: [createPersistedState()],\r\n    state: {\r\n        \r\n    },\r\n    mutations: {\r\n        \r\n    },\r\n    actions:{\r\n\r\n    }\r\n})\r\n\r\nexport default store","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"","<template>\r\n    <div class=\"v-error\">\r\n        <span>{{message || '此次请求出了个差错'}}</span>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    export default {\r\n        name: 'b-error',\r\n        props: {\r\n            message: {\r\n                type: String,\r\n                default: ''\r\n            }\r\n        },\r\n        data(){\r\n            return {\r\n\r\n            }\r\n        },\r\n        methods: {\r\n\r\n        },\r\n\r\n    }\r\n</script>\r\n\r\n<style lang=\"stylus\" scoped>\r\n    .v-error\r\n        position absolute\r\n        left 0\r\n        top 0\r\n        bottom 0\r\n        right 0\r\n        display flex\r\n        align-items center\r\n        justify-content center\r\n        span\r\n            color #fff\r\n</style>","\r\nimport { store } from \"@/tool/store/store.js\";\r\n\r\nimport {\r\n    RECORD\r\n} from \"../../common/constants\";\r\n\r\n\r\nconst state = {\r\n    NoteListDetail: false,\r\n}\r\n\r\nconst getters = {\r\n    \r\n}\r\n\r\nconst mutations = {\r\n    SET_NOTE_LIST_DETAIL(state, payload){\r\n        state.NoteListDetail = payload\r\n    }\r\n}\r\n\r\nconst actions = {\r\n    \r\n}\r\n\r\n\r\nexport default store('record', RECORD, state, getters, mutations, actions)","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Binput.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Binput.vue?vue&type=script&lang=js&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('input',{attrs:{\"type\":\"tel\",\"placeholder\":_vm.placeholder},domProps:{\"value\":_vm.value},on:{\"blur\":_vm.defaultValue,\"input\":function($event){return _vm.updateVal($event.target.value, $event)}}})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=2f58bef6&\"\nimport script from \"./App.vue?vue&type=script&lang=js&\"\nexport * from \"./App.vue?vue&type=script&lang=js&\"\nimport style0 from \"./App.vue?vue&type=style&index=0&lang=stylus&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"header-wrapper pub-center\"},[_c('div',{staticClass:\"header-top\"},[(_vm.AppBar.back > 1)?_c('div',{staticClass:\"fl\",on:{\"click\":function($event){return _vm.$router.back(-1)}}},[_c('span',[_vm._v(\"返回\")])]):_vm._e(),(_vm.AppBar.type==1)?_c('div',{staticClass:\"title\"},[_vm._v(_vm._s(_vm.AppBar.title))]):_vm._e(),(_vm.AppBar.type==3)?_c('div',{staticClass:\"name\"},[_c('span',[_vm._v(\"Hi! \")]),_vm._v(_vm._s(_vm.MyInfo.account))]):_vm._e(),(_vm.AppBar.type==2 && _vm.showTitle)?_c('div',{class:['title', {active: _vm.alertConfig.SelectMode}],on:{\"click\":function($event){return _vm.h1(!_vm.alertConfig.SelectMode)}}},[_vm._v(\" \"+_vm._s(_vm.mode_config_result.title)+\" \"),_c('i')]):(_vm.AppBar.type==2 && !_vm.showTitle)?_c('div',{staticClass:\"title\"},[_vm._v(_vm._s(_vm._f(\"DetailName\")(_vm.playGroupId)))]):_vm._e(),_c('div',{staticClass:\"fr\"},[(_vm.AppBar.right==1)?_c('div',{staticClass:\"filter-text\",on:{\"click\":function($event){return _vm.h2(!_vm.alertConfig.Order)}}},[_vm._v(\"筛选\")]):_vm._e()])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=6a22282d&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=6a22282d&lang=stylus&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"6a22282d\",\n  null\n  \n)\n\nexport default component.exports","import request from '@/tool/utils/request.js'\r\n\r\n\r\nconst config = new Object\r\n\r\n// 查询历史开奖\r\nconfig.getHistoryOpenCode = params => request.globalRequest('/getHistoryOpenCode.json', 'POST', params, 2)\r\n\r\nexport default config","import { render, staticRenderFns } from \"./Berror.vue?vue&type=template&id=f9755a96&scoped=true&\"\nimport script from \"./Berror.vue?vue&type=script&lang=js&\"\nexport * from \"./Berror.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Berror.vue?vue&type=style&index=0&id=f9755a96&lang=stylus&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"f9755a96\",\n  null\n  \n)\n\nexport default component.exports","/* eslint-disable */\r\n\r\nimport Vue from \"vue\";\r\n\r\nimport App from \"./App.vue\";\r\nimport router from \"./router\";\r\n\r\n// 上拉加载，下拉刷新\r\nimport VueScroller from 'vue-scroller'\r\nVue.use(VueScroller)\r\n\r\nimport VueClipboard from 'vue-clipboard2'\r\nVue.use(VueClipboard)\r\n\r\nimport md5 from 'js-md5';\r\nVue.prototype.$md5 = md5;\r\n\r\nimport {\r\n    Swipe,\r\n    SwipeItem,\r\n    Lazyload,\r\n    Loading,\r\n    Toast,\r\n    Picker,\r\n    ActionSheet,\r\n    Dialog,\r\n    DatetimePicker,\r\n    Popup,\r\n    Tab,\r\n    Tabs,\r\n    List,\r\n    PullRefresh\r\n} from 'vant';\r\n\r\nVue.use(Swipe);\r\nVue.use(SwipeItem);\r\nVue.use(Lazyload);\r\nVue.use(Loading);\r\nVue.use(Toast);\r\nVue.use(Picker);\r\nVue.use(ActionSheet);\r\nVue.use(Dialog);\r\nVue.use(DatetimePicker);\r\nVue.use(Popup);\r\nVue.use(Tab);\r\nVue.use(Tabs);\r\nVue.use(List);\r\nVue.use(PullRefresh);\r\n\r\n\r\n//服务器地址\r\nimport url_config from './tool/common/config.js';\r\n\r\n// 接口模块\r\nimport api from './tool/api';\r\n\r\n// vuex\r\nimport store from './tool/store';\r\n\r\n// 自定义组件\r\n// import Loadding from \"@/components/Loadding.vue\";\r\nimport AppBar from \"@/components/AppBar.vue\";\r\n\r\n\r\n// 引入样式\r\n// import 'vue-easytable/libs/themes-base/index.css'\r\n// 导入 table 和 分页组件\r\n// import {VTable} from 'vue-easytable'\r\n// 全局注册组件\r\n// Vue.component('v-table', VTable)\r\n// Vue.component('loadding', Loadding);\r\n// Vue.component('sealed-disk', SealedDisk);\r\n// Vue.component('image-load', ImageLoad);\r\n// Vue.component('Header', Header);\r\nVue.component('AppBar', AppBar);\r\n// Vue.component('TrendImg', TrendImg);\r\n// Vue.component('TrendImg2', TrendImg2);\r\n// Vue.component('TrendImg3', TrendImg3);\r\n// Vue.component('PriceNews', PriceNews);\r\n// Vue.component('PriceNews2', PriceNews2);\r\n\r\n// 引入echarts\r\nimport echarts from 'echarts'\r\nVue.prototype.$echarts = echarts\r\n\r\n// 自定义插件\r\nimport scroll from \"@/tool/plug/scroll\";\r\nimport mixins from \"@/tool/plug/mixins\";\r\nVue.use(scroll)\r\nVue.use(mixins)\r\n\r\n// 全局挂载\r\nVue.prototype.$api = api;\r\nVue.prototype.$url = url_config;\r\nVue.prototype.$store = store;\r\n\r\n// debug\r\nconsole.log('接口地址:', url_config);\r\n\r\n// 全局样式\r\nimport \"./static/css/style.min.css\";\r\nimport \"./static/css/animate.min.css\";\r\n\r\nVue.config.productionTip = false;\r\n\r\nnew Vue({\r\n    router,\r\n    store,\r\n    render: h => h(App)\r\n}).$mount(\"#app\");\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AppBar.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AppBar.vue?vue&type=script&lang=js&\"","import {\r\n    store\r\n} from \"@/tool/store/store\";\r\n\r\nimport {\r\n    BETTING,\r\n} from \"../../common/constants\";\r\n\r\nconst state = {\r\n    playGroupId: false,\r\n    sscBetList: [],\r\n    perMoney: 2,\r\n\r\n    totalMoney: 0,\r\n    WinningAmount:0,\r\n    BaseConfig: {},\r\n    action: false,\r\n    oddsId: false,\r\n    // 弹窗配置\r\n    alertConfig: {\r\n        alertNote: false,\r\n        alertNotePlate: false,\r\n        SelectMode: false,\r\n        Choose: false,\r\n        Order: false\r\n    },\r\n    // 模式配置\r\n    mode_config: {},\r\n    mode_config_result: {},\r\n    \r\n    // 缓存\r\n    cache: {},\r\n\r\n    // 导航配置\r\n    AppBar: {},\r\n    PageActive: true,\r\n}\r\n\r\nconst getters = {\r\n    getCachePlay: (state) => (play) => {\r\n        return state.cache[play] || false\r\n    }\r\n}\r\n\r\nconst mutations = {\r\n    // 设置页面状态\r\n    SET_PAGE_ACTIVE(state, payload){\r\n        state.PageActive = payload\r\n    },\r\n    // 设置导航\r\n    SET_TITLE_CONFIG(state, payload) {\r\n        state.AppBar = payload\r\n    },\r\n    // 设置弹窗\r\n    SET_ALERT_CONFIG(state, payload) {\r\n        state.alertConfig = {...state.alertConfig, ...payload}\r\n    },\r\n    // 设置config\r\n    SET_BASE_CONFIG(state, payload){\r\n        state.BaseConfig = payload\r\n    },\r\n    // 设置彩种ID\r\n    SET_PLAY_GROUP_ID(state, payload){\r\n        state.playGroupId = payload\r\n    },\r\n    // 设置统一金额\r\n    SET_PER_MONEY(state, payload) {\r\n        var money = payload\r\n        if (payload) {\r\n            money = payload * 1\r\n        }\r\n        state.perMoney = money\r\n        state.sscBetList.forEach(item => {\r\n            item.betMoney = money\r\n        })\r\n        this.commit('Betting/UPDATE_TOTAL_MONEY')\r\n    },\r\n    // 设置模式配置\r\n    SET_MODE_CONFIG(state, payload) {\r\n        state.mode_config = {...state.mode_config, ...payload}\r\n    },\r\n    // 设置模式结果\r\n    SET_MODE_CONFIG_RESULT(state, payload){\r\n        state.mode_config_result = payload\r\n    },\r\n    // 设置单注金额\r\n    SET_BET_MONEY(state, payload) {\r\n        state.sscBetList[payload.index].betMoney = payload.money\r\n        this.commit('Betting/UPDATE_TOTAL_MONEY')\r\n    },\r\n    // 更新总金额\r\n    UPDATE_TOTAL_MONEY(state, payload){\r\n        let totalMoney = 0\r\n        let WinningAmount = 0\r\n        state.sscBetList.forEach(item => {\r\n            totalMoney += item.betMoney\r\n            WinningAmount += item.betMoney * item.betPl1\r\n        })\r\n        state.totalMoney = totalMoney\r\n        state.WinningAmount = WinningAmount\r\n    },\r\n    // 设置注单\r\n    SET_SSC_BET_LIST(state, payload) {\r\n        var totalMoney = 0;\r\n        let WinningAmount = 0\r\n        payload.forEach(item => {\r\n            totalMoney = totalMoney + item.betMoney\r\n            WinningAmount += item.betMoney * item.betPl1\r\n        })\r\n        state.totalMoney = totalMoney\r\n        state.WinningAmount = WinningAmount\r\n        state.sscBetList = payload\r\n    },\r\n    // 删除单个注单\r\n    DELETE_BET_LIST(state, payload) {\r\n        state.sscBetList.splice(payload.index, 1)\r\n        state.oddsId = payload\r\n    },\r\n    // 更新注单期号\r\n    UPDATE_NUMBER(state, payload) {\r\n        state.sscBetList.forEach(item => {\r\n            item.betNum = payload\r\n        })\r\n    },\r\n    // 投注完成操作\r\n    CLEAR_ACTION(state, payload){\r\n        state.action = payload\r\n    },\r\n    // 删除完成操作\r\n    CLEAR_ODDS_ID(state, payload){\r\n        state.oddsId = payload\r\n    },\r\n    // 缓存数据\r\n    SET_CACHE_DATA(state, payload) {\r\n        state.cache[payload.play] = payload.data\r\n    },\r\n    // 设置点击事件\r\n    SET_CLICK(state, payload){\r\n        state.mode_config_result.click = payload\r\n    },\r\n}\r\n\r\nconst actions = {\r\n\r\n}\r\n\r\n\r\nexport default store('betting', BETTING, state, getters, mutations, actions)","<template>\r\n    <input :value=\"value\" @blur=\"defaultValue\" type=\"tel\" :placeholder=\"placeholder\" @input=\"updateVal($event.target.value, $event)\">\r\n</template>\r\n\r\n<script>\r\n    export default {\r\n        model: {\r\n            prop: 'value',\r\n            event: 'input'\r\n        },\r\n        props: {\r\n            placeholder: {\r\n                type: String,\r\n                default: '',\r\n            },\r\n            value: {\r\n                default:''\r\n            },\r\n            maxLength: {\r\n                type: Number,\r\n                default: 30,\r\n            },\r\n            minNumber: {\r\n                type: Number,\r\n                default: 1,\r\n            },\r\n            maxNumber: {\r\n                type: Number,\r\n            },\r\n            auto: {\r\n                type: Boolean,\r\n                default: true,\r\n            }\r\n        },\r\n        name: 'b-input',\r\n        data(){\r\n            return {\r\n\r\n            }\r\n        },\r\n        methods: {\r\n            updateVal(value, e){\r\n                var reg = /^\\d$/\r\n                let arr = value.split('')\r\n                var filter = []\r\n\r\n                if (arr[0] === '0'){\r\n                    console.log('第一个数字不能为0');\r\n                }else{\r\n                    arr.forEach((item, index) => {\r\n                    if (reg.test(item)) {\r\n                            filter.push(item)\r\n                        }\r\n                    })\r\n                }\r\n                var str = filter.join('')\r\n                if (str.length > this.maxLength){\r\n                    str = str.substring(0, this.maxLength)\r\n                }\r\n                \r\n                if(str > this.maxNumber && this.maxNumber){\r\n                    str = this.maxNumber\r\n                    this.$emit('maxMessage', str);\r\n                }\r\n                e.target.value = str\r\n                this.$emit('input', str);\r\n            },\r\n            defaultValue(){\r\n                var money = this.value * 1\r\n                if(money == 0 && this.auto){\r\n                    this.$emit('input', this.minNumber);\r\n                }\r\n            }\r\n        }\r\n    }\r\n</script>\r\n\r\n<style>\r\n\r\n</style>","import filter from \"./filter\";\r\nimport directive from \"./directive\";\r\nimport '@/assets/lib/mui/css/mui.css'\r\nimport mui from '@/assets/lib/mui/js/mui.js'\r\nimport assist from './assist.js'\r\n\r\nimport Binput from \"./component/Binput\";\r\nimport Berror from \"./component/Berror\";\r\n\r\nimport { mapState } from \"vuex\";\r\n\r\nlet plug = {}\r\n\r\nplug.install = function(Vue, options) {\r\n\r\n    // 指令\r\n    directive(Vue)\r\n    \r\n    // 混入\r\n    Vue.mixin({\r\n        data(){\r\n            return {\r\n                \r\n            }\r\n        },\r\n        computed: {\r\n            ...mapState('Betting', {\r\n                alertConfig: state => state.alertConfig,\r\n            }),\r\n            ...mapState('User', {\r\n                $user: state => state.userToken,\r\n                $info: state => state.userinfo,\r\n                $sell: state => state.current_sell,\r\n                $trade: state => state.trade_index,\r\n                $chu: state => state.current_chu,\r\n                $coll: state => state.show_data\r\n            }),\r\n            ...mapState('Game', {\r\n                \r\n            })\r\n        },\r\n        created(){\r\n            \r\n        },\r\n        mounted(){\r\n            \r\n        },\r\n        methods:{\r\n            loading(text) {\r\n                this.$toast.loading({\r\n                    duration: 0, // 持续展示 toast\r\n                    forbidClick: true,\r\n                    message: text || '正在加载中',\r\n                });\r\n            },\r\n            mai_status1(id) {\r\n                var str = ''\r\n                switch (id) {\r\n                    case 0:\r\n                        str = '发布中'\r\n                        break;\r\n                    case 1:\r\n                        str = '交易中'\r\n                        break;\r\n                    case 2:\r\n                        str = '等待对方确认'\r\n                        break;\r\n                    case 3:\r\n                        str = '订单已完成'\r\n                        break;\r\n                    case 4:\r\n                        str = '订单已取消'\r\n                        break;\r\n                    case 5:\r\n                        str = '发布取消'\r\n                        break;\r\n                    default:\r\n                        break;\r\n                }\r\n                return str\r\n            },\r\n            mai_status(id){\r\n                var str = ''\r\n                switch (id) {\r\n                    case 1:\r\n                        str = '交易中'\r\n                    break;\r\n                    case 2:\r\n                        str = '确认收款'\r\n                        break;\r\n                    case 3:\r\n                        str = '订单已完成'\r\n                        break;\r\n                    case 4:\r\n                        str = '订单已取消'\r\n                        break;\r\n                    default:\r\n                        break;\r\n                }\r\n                return str\r\n            },\r\n            \r\n        }\r\n    })\r\n\r\n    // 过滤器\r\n    filter(Vue)\r\n\r\n    // 注册组件\r\n    Vue.component(Binput.name, Binput)\r\n    Vue.component(Berror.name, Berror)\r\n\r\n    // 绑定mui框架\r\n    Vue.prototype.mui = mui;\r\n    // 添加原型函数\r\n    Vue.prototype.$BaseConfig = function(params) {\r\n        // console.log(params);\r\n        console.log('%c%s','color: #f60;',`mixins $BaseConfig function from ${params}`);\r\n        return this.$route.query;\r\n    }\r\n    Vue.prototype.$assist = assist;\r\n}\r\n\r\nexport default plug","import mod from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=stylus&\"; export default mod; export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=stylus&\"","/*!\r\n * =====================================================\r\n * Mui v3.7.3 (http://dev.dcloud.net.cn/mui)\r\n * =====================================================\r\n */\r\n/**\r\n * MUI核心JS\r\n * @type _L4.$|Function\r\n */\r\nvar mui = (function(document, undefined) {\r\n\tvar readyRE = /complete|loaded|interactive/;\r\n\tvar idSelectorRE = /^#([\\w-]+)$/;\r\n\tvar classSelectorRE = /^\\.([\\w-]+)$/;\r\n\tvar tagSelectorRE = /^[\\w-]+$/;\r\n\tvar translateRE = /translate(?:3d)?\\((.+?)\\)/;\r\n\tvar translateMatrixRE = /matrix(3d)?\\((.+?)\\)/;\r\n\r\n\tvar $ = function(selector, context) {\r\n\t\tcontext = context || document;\r\n\t\tif (!selector)\r\n\t\t\treturn wrap();\r\n\t\tif (typeof selector === 'object')\r\n\t\t\tif ($.isArrayLike(selector)) {\r\n\t\t\t\treturn wrap($.slice.call(selector), null);\r\n\t\t\t} else {\r\n\t\t\t\treturn wrap([selector], null);\r\n\t\t\t}\r\n\t\tif (typeof selector === 'function')\r\n\t\t\treturn $.ready(selector);\r\n\t\tif (typeof selector === 'string') {\r\n\t\t\ttry {\r\n\t\t\t\tselector = selector.trim();\r\n\t\t\t\tif (idSelectorRE.test(selector)) {\r\n\t\t\t\t\tvar found = document.getElementById(RegExp.$1);\r\n\t\t\t\t\treturn wrap(found ? [found] : []);\r\n\t\t\t\t}\r\n\t\t\t\treturn wrap($.qsa(selector, context), selector);\r\n\t\t\t} catch (e) {}\r\n\t\t}\r\n\t\treturn wrap();\r\n\t};\r\n\r\n\tvar wrap = function(dom, selector) {\r\n\t\tdom = dom || [];\r\n\t\tObject.setPrototypeOf(dom, $.fn);\r\n\t\tdom.selector = selector || '';\r\n\t\treturn dom;\r\n\t};\r\n\r\n\t$.uuid = 0;\r\n\r\n\t$.data = {};\r\n\t/**\r\n\t * extend(simple)\r\n\t * @param {type} target\r\n\t * @param {type} source\r\n\t * @param {type} deep\r\n\t * @returns {unresolved}\r\n\t */\r\n\t$.extend = function() { //from jquery2\r\n\t\tvar options, name, src, copy, copyIsArray, clone,\r\n\t\t\ttarget = arguments[0] || {},\r\n\t\t\ti = 1,\r\n\t\t\tlength = arguments.length,\r\n\t\t\tdeep = false;\r\n\r\n\t\tif (typeof target === \"boolean\") {\r\n\t\t\tdeep = target;\r\n\r\n\t\t\ttarget = arguments[i] || {};\r\n\t\t\ti++;\r\n\t\t}\r\n\r\n\t\tif (typeof target !== \"object\" && !$.isFunction(target)) {\r\n\t\t\ttarget = {};\r\n\t\t}\r\n\r\n\t\tif (i === length) {\r\n\t\t\ttarget = this;\r\n\t\t\ti--;\r\n\t\t}\r\n\r\n\t\tfor (; i < length; i++) {\r\n\t\t\tif ((options = arguments[i]) != null) {\r\n\t\t\t\tfor (name in options) {\r\n\t\t\t\t\tsrc = target[name];\r\n\t\t\t\t\tcopy = options[name];\r\n\r\n\t\t\t\t\tif (target === copy) {\r\n\t\t\t\t\t\tcontinue;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif (deep && copy && ($.isPlainObject(copy) || (copyIsArray = $.isArray(copy)))) {\r\n\t\t\t\t\t\tif (copyIsArray) {\r\n\t\t\t\t\t\t\tcopyIsArray = false;\r\n\t\t\t\t\t\t\tclone = src && $.isArray(src) ? src : [];\r\n\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tclone = src && $.isPlainObject(src) ? src : {};\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\ttarget[name] = $.extend(deep, clone, copy);\r\n\r\n\t\t\t\t\t} else if (copy !== undefined) {\r\n\t\t\t\t\t\ttarget[name] = copy;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn target;\r\n\t};\r\n\t/**\r\n\t * mui noop(function)\r\n\t */\r\n\t$.noop = function() {};\r\n\t/**\r\n\t * mui slice(array)\r\n\t */\r\n\t$.slice = [].slice;\r\n\t/**\r\n\t * mui filter(array)\r\n\t */\r\n\t$.filter = [].filter;\r\n\r\n\t$.type = function(obj) {\r\n\t\treturn obj == null ? String(obj) : class2type[{}.toString.call(obj)] || \"object\";\r\n\t};\r\n\t/**\r\n\t * mui isArray\r\n\t */\r\n\t$.isArray = Array.isArray ||\r\n\t\tfunction(object) {\r\n\t\t\treturn object instanceof Array;\r\n\t\t};\r\n\t/**\r\n\t * mui isArrayLike \r\n\t * @param {Object} obj\r\n\t */\r\n\t$.isArrayLike = function(obj) {\r\n\t\tvar length = !!obj && \"length\" in obj && obj.length;\r\n\t\tvar type = $.type(obj);\r\n\t\tif (type === \"function\" || $.isWindow(obj)) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\treturn type === \"array\" || length === 0 ||\r\n\t\t\ttypeof length === \"number\" && length > 0 && (length - 1) in obj;\r\n\t};\r\n\t/**\r\n\t * mui isWindow(需考虑obj为undefined的情况)\r\n\t */\r\n\t$.isWindow = function(obj) {\r\n\t\treturn obj != null && obj === obj.window;\r\n\t};\r\n\t/**\r\n\t * mui isObject\r\n\t */\r\n\t$.isObject = function(obj) {\r\n\t\treturn $.type(obj) === \"object\";\r\n\t};\r\n\t/**\r\n\t * mui isPlainObject\r\n\t */\r\n\t$.isPlainObject = function(obj) {\r\n\t\treturn $.isObject(obj) && !$.isWindow(obj) && Object.getPrototypeOf(obj) === Object.prototype;\r\n\t};\r\n\t/**\r\n\t * mui isEmptyObject\r\n\t * @param {Object} o\r\n\t */\r\n\t$.isEmptyObject = function(o) {\r\n\t\tfor (var p in o) {\r\n\t\t\tif (p !== undefined) {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn true;\r\n\t};\r\n\t/**\r\n\t * mui isFunction\r\n\t */\r\n\t$.isFunction = function(value) {\r\n\t\treturn $.type(value) === \"function\";\r\n\t};\r\n\t/**\r\n\t * mui querySelectorAll\r\n\t * @param {type} selector\r\n\t * @param {type} context\r\n\t * @returns {Array}\r\n\t */\r\n\t$.qsa = function(selector, context) {\r\n\t\tcontext = context || document;\r\n\t\treturn $.slice.call(classSelectorRE.test(selector) ? context.getElementsByClassName(RegExp.$1) : tagSelectorRE.test(selector) ? context.getElementsByTagName(selector) : context.querySelectorAll(selector));\r\n\t};\r\n\t/**\r\n\t * ready(DOMContentLoaded)\r\n\t * @param {type} callback\r\n\t * @returns {_L6.$}\r\n\t */\r\n\t$.ready = function(callback) {\r\n\t\tif (readyRE.test(document.readyState)) {\r\n\t\t\tcallback($);\r\n\t\t} else {\r\n\t\t\tdocument.addEventListener('DOMContentLoaded', function() {\r\n\t\t\t\tcallback($);\r\n\t\t\t}, false);\r\n\t\t}\r\n\t\treturn this;\r\n\t};\r\n\t/**\r\n\t * 将 fn 缓存一段时间后, 再被调用执行\r\n\t * 此方法为了避免在 ms 段时间内, 执行 fn 多次. 常用于 resize , scroll , mousemove 等连续性事件中;\r\n\t * 当 ms 设置为 -1, 表示立即执行 fn, 即和直接调用 fn 一样;\r\n\t * 调用返回函数的 stop 停止最后一次的 buffer 效果\r\n\t * @param {Object} fn\r\n\t * @param {Object} ms\r\n\t * @param {Object} context\r\n\t */\r\n\t$.buffer = function(fn, ms, context) {\r\n\t\tvar timer;\r\n\t\tvar lastStart = 0;\r\n\t\tvar lastEnd = 0;\r\n\t\tvar ms = ms || 150;\r\n\r\n\t\tfunction run() {\r\n\t\t\tif (timer) {\r\n\t\t\t\ttimer.cancel();\r\n\t\t\t\ttimer = 0;\r\n\t\t\t}\r\n\t\t\tlastStart = $.now();\r\n\t\t\tfn.apply(context || this, arguments);\r\n\t\t\tlastEnd = $.now();\r\n\t\t}\r\n\r\n\t\treturn $.extend(function() {\r\n\t\t\tif (\r\n\t\t\t\t(!lastStart) || // 从未运行过\r\n\t\t\t\t(lastEnd >= lastStart && $.now() - lastEnd > ms) || // 上次运行成功后已经超过ms毫秒\r\n\t\t\t\t(lastEnd < lastStart && $.now() - lastStart > ms * 8) // 上次运行或未完成，后8*ms毫秒\r\n\t\t\t) {\r\n\t\t\t\trun.apply(this, arguments);\r\n\t\t\t} else {\r\n\t\t\t\tif (timer) {\r\n\t\t\t\t\ttimer.cancel();\r\n\t\t\t\t}\r\n\t\t\t\ttimer = $.later(run, ms, null, $.slice.call(arguments));\r\n\t\t\t}\r\n\t\t}, {\r\n\t\t\tstop: function() {\r\n\t\t\t\tif (timer) {\r\n\t\t\t\t\ttimer.cancel();\r\n\t\t\t\t\ttimer = 0;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t};\r\n\t/**\r\n\t * each\r\n\t * @param {type} elements\r\n\t * @param {type} callback\r\n\t * @returns {_L8.$}\r\n\t */\r\n\t$.each = function(elements, callback, hasOwnProperty) {\r\n\t\tif (!elements) {\r\n\t\t\treturn this;\r\n\t\t}\r\n\t\tif (typeof elements.length === 'number') {\r\n\t\t\t[].every.call(elements, function(el, idx) {\r\n\t\t\t\treturn callback.call(el, idx, el) !== false;\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\tfor (var key in elements) {\r\n\t\t\t\tif (hasOwnProperty) {\r\n\t\t\t\t\tif (elements.hasOwnProperty(key)) {\r\n\t\t\t\t\t\tif (callback.call(elements[key], key, elements[key]) === false) return elements;\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\tif (callback.call(elements[key], key, elements[key]) === false) return elements;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn this;\r\n\t};\r\n\t$.focus = function(element) {\r\n\t\tif ($.os.ios) {\r\n\t\t\tsetTimeout(function() {\r\n\t\t\t\telement.focus();\r\n\t\t\t}, 10);\r\n\t\t} else {\r\n\t\t\telement.focus();\r\n\t\t}\r\n\t};\r\n\t/**\r\n\t * trigger event\r\n\t * @param {type} element\r\n\t * @param {type} eventType\r\n\t * @param {type} eventData\r\n\t * @returns {_L8.$}\r\n\t */\r\n\t$.trigger = function(element, eventType, eventData) {\r\n\t\telement.dispatchEvent(new CustomEvent(eventType, {\r\n\t\t\tdetail: eventData,\r\n\t\t\tbubbles: true,\r\n\t\t\tcancelable: true\r\n\t\t}));\r\n\t\treturn this;\r\n\t};\r\n\t/**\r\n\t * getStyles\r\n\t * @param {type} element\r\n\t * @param {type} property\r\n\t * @returns {styles}\r\n\t */\r\n\t$.getStyles = function(element, property) {\r\n\t\tvar styles = element.ownerDocument.defaultView.getComputedStyle(element, null);\r\n\t\tif (property) {\r\n\t\t\treturn styles.getPropertyValue(property) || styles[property];\r\n\t\t}\r\n\t\treturn styles;\r\n\t};\r\n\t/**\r\n\t * parseTranslate\r\n\t * @param {type} translateString\r\n\t * @param {type} position\r\n\t * @returns {Object}\r\n\t */\r\n\t$.parseTranslate = function(translateString, position) {\r\n\t\tvar result = translateString.match(translateRE || '');\r\n\t\tif (!result || !result[1]) {\r\n\t\t\tresult = ['', '0,0,0'];\r\n\t\t}\r\n\t\tresult = result[1].split(\",\");\r\n\t\tresult = {\r\n\t\t\tx: parseFloat(result[0]),\r\n\t\t\ty: parseFloat(result[1]),\r\n\t\t\tz: parseFloat(result[2])\r\n\t\t};\r\n\t\tif (position && result.hasOwnProperty(position)) {\r\n\t\t\treturn result[position];\r\n\t\t}\r\n\t\treturn result;\r\n\t};\r\n\t/**\r\n\t * parseTranslateMatrix\r\n\t * @param {type} translateString\r\n\t * @param {type} position\r\n\t * @returns {Object}\r\n\t */\r\n\t$.parseTranslateMatrix = function(translateString, position) {\r\n\t\tvar matrix = translateString.match(translateMatrixRE);\r\n\t\tvar is3D = matrix && matrix[1];\r\n\t\tif (matrix) {\r\n\t\t\tmatrix = matrix[2].split(\",\");\r\n\t\t\tif (is3D === \"3d\")\r\n\t\t\t\tmatrix = matrix.slice(12, 15);\r\n\t\t\telse {\r\n\t\t\t\tmatrix.push(0);\r\n\t\t\t\tmatrix = matrix.slice(4, 7);\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tmatrix = [0, 0, 0];\r\n\t\t}\r\n\t\tvar result = {\r\n\t\t\tx: parseFloat(matrix[0]),\r\n\t\t\ty: parseFloat(matrix[1]),\r\n\t\t\tz: parseFloat(matrix[2])\r\n\t\t};\r\n\t\tif (position && result.hasOwnProperty(position)) {\r\n\t\t\treturn result[position];\r\n\t\t}\r\n\t\treturn result;\r\n\t};\r\n\t$.hooks = {};\r\n\t$.addAction = function(type, hook) {\r\n\t\tvar hooks = $.hooks[type];\r\n\t\tif (!hooks) {\r\n\t\t\thooks = [];\r\n\t\t}\r\n\t\thook.index = hook.index || 1000;\r\n\t\thooks.push(hook);\r\n\t\thooks.sort(function(a, b) {\r\n\t\t\treturn a.index - b.index;\r\n\t\t});\r\n\t\t$.hooks[type] = hooks;\r\n\t\treturn $.hooks[type];\r\n\t};\r\n\t$.doAction = function(type, callback) {\r\n\t\tif ($.isFunction(callback)) { //指定了callback\r\n\t\t\t$.each($.hooks[type], callback);\r\n\t\t} else { //未指定callback，直接执行\r\n\t\t\t$.each($.hooks[type], function(index, hook) {\r\n\t\t\t\treturn !hook.handle();\r\n\t\t\t});\r\n\t\t}\r\n\t};\r\n\t/**\r\n\t * setTimeout封装\r\n\t * @param {Object} fn\r\n\t * @param {Object} when\r\n\t * @param {Object} context\r\n\t * @param {Object} data\r\n\t */\r\n\t$.later = function(fn, when, context, data) {\r\n\t\twhen = when || 0;\r\n\t\tvar m = fn;\r\n\t\tvar d = data;\r\n\t\tvar f;\r\n\t\tvar r;\r\n\r\n\t\tif (typeof fn === 'string') {\r\n\t\t\tm = context[fn];\r\n\t\t}\r\n\r\n\t\tf = function() {\r\n\t\t\tm.apply(context, $.isArray(d) ? d : [d]);\r\n\t\t};\r\n\r\n\t\tr = setTimeout(f, when);\r\n\r\n\t\treturn {\r\n\t\t\tid: r,\r\n\t\t\tcancel: function() {\r\n\t\t\t\tclearTimeout(r);\r\n\t\t\t}\r\n\t\t};\r\n\t};\r\n\t$.now = Date.now || function() {\r\n\t\treturn +new Date();\r\n\t};\r\n\tvar class2type = {};\r\n\t$.each(['Boolean', 'Number', 'String', 'Function', 'Array', 'Date', 'RegExp', 'Object', 'Error'], function(i, name) {\r\n\t\tclass2type[\"[object \" + name + \"]\"] = name.toLowerCase();\r\n\t});\r\n\tif (window.JSON) {\r\n\t\t$.parseJSON = JSON.parse;\r\n\t}\r\n\t/**\r\n\t * $.fn\r\n\t */\r\n\t$.fn = {\r\n\t\teach: function(callback) {\r\n\t\t\t[].every.call(this, function(el, idx) {\r\n\t\t\t\treturn callback.call(el, idx, el) !== false;\r\n\t\t\t});\r\n\t\t\treturn this;\r\n\t\t}\r\n\t};\r\n\r\n\t/**\r\n\t * 兼容 AMD 模块\r\n\t **/\r\n\tif (typeof define === 'function' && define.amd) {\r\n\t\tdefine('mui', [], function() {\r\n\t\t\treturn $;\r\n\t\t});\r\n\t}\r\n\r\n\treturn $;\r\n})(document);\r\n//window.mui = mui;\r\n//'$' in window || (window.$ = mui);\r\n/**\r\n * $.os\r\n * @param {type} $\r\n * @returns {undefined}\r\n */\r\n(function($, window) {\r\n\tfunction detect(ua) {\r\n\t\tthis.os = {};\r\n\t\tvar funcs = [\r\n\r\n\t\t\tfunction() { //wechat\r\n\t\t\t\tvar wechat = ua.match(/(MicroMessenger)\\/([\\d\\.]+)/i);\r\n\t\t\t\tif (wechat) { //wechat\r\n\t\t\t\t\tthis.os.wechat = {\r\n\t\t\t\t\t\tversion: wechat[2].replace(/_/g, '.')\r\n\t\t\t\t\t};\r\n\t\t\t\t}\r\n\t\t\t\treturn false;\r\n\t\t\t},\r\n\t\t\tfunction() { //android\r\n\t\t\t\tvar android = ua.match(/(Android);?[\\s\\/]+([\\d.]+)?/);\r\n\t\t\t\tif (android) {\r\n\t\t\t\t\tthis.os.android = true;\r\n\t\t\t\t\tthis.os.version = android[2];\r\n\r\n\t\t\t\t\tthis.os.isBadAndroid = !(/Chrome\\/\\d/.test(window.navigator.appVersion));\r\n\t\t\t\t}\r\n\t\t\t\treturn this.os.android === true;\r\n\t\t\t},\r\n\t\t\tfunction() { //ios\r\n\t\t\t\tvar iphone = ua.match(/(iPhone\\sOS)\\s([\\d_]+)/);\r\n\t\t\t\tif (iphone) { //iphone\r\n\t\t\t\t\tthis.os.ios = this.os.iphone = true;\r\n\t\t\t\t\tthis.os.version = iphone[2].replace(/_/g, '.');\r\n\t\t\t\t} else {\r\n\t\t\t\t\tvar ipad = ua.match(/(iPad).*OS\\s([\\d_]+)/);\r\n\t\t\t\t\tif (ipad) { //ipad\r\n\t\t\t\t\t\tthis.os.ios = this.os.ipad = true;\r\n\t\t\t\t\t\tthis.os.version = ipad[2].replace(/_/g, '.');\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\treturn this.os.ios === true;\r\n\t\t\t}\r\n\t\t];\r\n\t\t[].every.call(funcs, function(func) {\r\n\t\t\treturn !func.call($);\r\n\t\t});\r\n\t}\r\n\tdetect.call($, navigator.userAgent);\r\n})(mui, window);\r\n/**\r\n * $.os.plus\r\n * @param {type} $\r\n * @returns {undefined}\r\n */\r\n(function($, document) {\r\n\tfunction detect(ua) {\r\n\t\tthis.os = this.os || {};\r\n\t\tvar plus = ua.match(/Html5Plus/i); //TODO 5\\+Browser?\r\n\t\tif (plus) {\r\n\t\t\tthis.os.plus = true;\r\n\t\t\t$(function() {\r\n\t\t\t\tdocument.body.classList.add('mui-plus');\r\n\t\t\t});\r\n\t\t\tif (ua.match(/StreamApp/i)) { //TODO 最好有流应用自己的标识\r\n\t\t\t\tthis.os.stream = true;\r\n\t\t\t\t$(function() {\r\n\t\t\t\t\tdocument.body.classList.add('mui-plus-stream');\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\tdetect.call($, navigator.userAgent);\r\n})(mui, document);\r\n/**\r\n * 仅提供简单的on，off(仅支持事件委托，不支持当前元素绑定，当前元素绑定请直接使用addEventListener,removeEventListener)\r\n * @param {Object} $\r\n */\r\n(function($) {\r\n\tif ('ontouchstart' in window) {\r\n\t\t$.isTouchable = true;\r\n\t\t$.EVENT_START = 'touchstart';\r\n\t\t$.EVENT_MOVE = 'touchmove';\r\n\t\t$.EVENT_END = 'touchend';\r\n\t} else {\r\n\t\t$.isTouchable = false;\r\n\t\t$.EVENT_START = 'mousedown';\r\n\t\t$.EVENT_MOVE = 'mousemove';\r\n\t\t$.EVENT_END = 'mouseup';\r\n\t}\r\n\t$.EVENT_CANCEL = 'touchcancel';\r\n\t$.EVENT_CLICK = 'click';\r\n\r\n\tvar _mid = 1;\r\n\tvar delegates = {};\r\n\t//需要wrap的函数\r\n\tvar eventMethods = {\r\n\t\tpreventDefault: 'isDefaultPrevented',\r\n\t\tstopImmediatePropagation: 'isImmediatePropagationStopped',\r\n\t\tstopPropagation: 'isPropagationStopped'\r\n\t};\r\n\t//默认true返回函数\r\n\tvar returnTrue = function() {\r\n\t\treturn true\r\n\t};\r\n\t//默认false返回函数\r\n\tvar returnFalse = function() {\r\n\t\treturn false\r\n\t};\r\n\t//wrap浏览器事件\r\n\tvar compatible = function(event, target) {\r\n\t\tif (!event.detail) {\r\n\t\t\tevent.detail = {\r\n\t\t\t\tcurrentTarget: target\r\n\t\t\t};\r\n\t\t} else {\r\n\t\t\tevent.detail.currentTarget = target;\r\n\t\t}\r\n\t\t$.each(eventMethods, function(name, predicate) {\r\n\t\t\tvar sourceMethod = event[name];\r\n\t\t\tevent[name] = function() {\r\n\t\t\t\tthis[predicate] = returnTrue;\r\n\t\t\t\treturn sourceMethod && sourceMethod.apply(event, arguments)\r\n\t\t\t}\r\n\t\t\tevent[predicate] = returnFalse;\r\n\t\t}, true);\r\n\t\treturn event;\r\n\t};\r\n\t//简单的wrap对象_mid\r\n\tvar mid = function(obj) {\r\n\t\treturn obj && (obj._mid || (obj._mid = _mid++));\r\n\t};\r\n\t//事件委托对象绑定的事件回调列表\r\n\tvar delegateFns = {};\r\n\t//返回事件委托的wrap事件回调\r\n\tvar delegateFn = function(element, event, selector, callback) {\r\n\t\treturn function(e) {\r\n\t\t\t//same event\r\n\t\t\tvar callbackObjs = delegates[element._mid][event];\r\n\t\t\tvar handlerQueue = [];\r\n\t\t\tvar target = e.target;\r\n\t\t\tvar selectorAlls = {};\r\n\t\t\tfor (; target && target !== document; target = target.parentNode) {\r\n\t\t\t\tif (target === element) {\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t\tif (~['click', 'tap', 'doubletap', 'longtap', 'hold'].indexOf(event) && (target.disabled || target.classList.contains('mui-disabled'))) {\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t\tvar matches = {};\r\n\t\t\t\t$.each(callbackObjs, function(selector, callbacks) { //same selector\r\n\t\t\t\t\tselectorAlls[selector] || (selectorAlls[selector] = $.qsa(selector, element));\r\n\t\t\t\t\tif (selectorAlls[selector] && ~(selectorAlls[selector]).indexOf(target)) {\r\n\t\t\t\t\t\tif (!matches[selector]) {\r\n\t\t\t\t\t\t\tmatches[selector] = callbacks;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}, true);\r\n\t\t\t\tif (!$.isEmptyObject(matches)) {\r\n\t\t\t\t\thandlerQueue.push({\r\n\t\t\t\t\t\telement: target,\r\n\t\t\t\t\t\thandlers: matches\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tselectorAlls = null;\r\n\t\t\te = compatible(e); //compatible event\r\n\t\t\t$.each(handlerQueue, function(index, handler) {\r\n\t\t\t\ttarget = handler.element;\r\n\t\t\t\tvar tagName = target.tagName;\r\n\t\t\t\tif (event === 'tap' && (tagName !== 'INPUT' && tagName !== 'TEXTAREA' && tagName !== 'SELECT')) {\r\n\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\te.detail && e.detail.gesture && e.detail.gesture.preventDefault();\r\n\t\t\t\t}\r\n\t\t\t\t$.each(handler.handlers, function(index, handler) {\r\n\t\t\t\t\t$.each(handler, function(index, callback) {\r\n\t\t\t\t\t\tif (callback.call(target, e) === false) {\r\n\t\t\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\t\t\te.stopPropagation();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}, true);\r\n\t\t\t\t}, true)\r\n\t\t\t\tif (e.isPropagationStopped()) {\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t}, true);\r\n\t\t};\r\n\t};\r\n\tvar findDelegateFn = function(element, event) {\r\n\t\tvar delegateCallbacks = delegateFns[mid(element)];\r\n\t\tvar result = [];\r\n\t\tif (delegateCallbacks) {\r\n\t\t\tresult = [];\r\n\t\t\tif (event) {\r\n\t\t\t\tvar filterFn = function(fn) {\r\n\t\t\t\t\treturn fn.type === event;\r\n\t\t\t\t}\r\n\t\t\t\treturn delegateCallbacks.filter(filterFn);\r\n\t\t\t} else {\r\n\t\t\t\tresult = delegateCallbacks;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn result;\r\n\t};\r\n\tvar preventDefaultException = /^(INPUT|TEXTAREA|BUTTON|SELECT)$/;\r\n\t/**\r\n\t * mui delegate events\r\n\t * @param {type} event\r\n\t * @param {type} selector\r\n\t * @param {type} callback\r\n\t * @returns {undefined}\r\n\t */\r\n\t$.fn.on = function(event, selector, callback) { //仅支持简单的事件委托,主要是tap事件使用，类似mouse,focus之类暂不封装支持\r\n\t\treturn this.each(function() {\r\n\t\t\tvar element = this;\r\n\t\t\tmid(element);\r\n\t\t\tmid(callback);\r\n\t\t\tvar isAddEventListener = false;\r\n\t\t\tvar delegateEvents = delegates[element._mid] || (delegates[element._mid] = {});\r\n\t\t\tvar delegateCallbackObjs = delegateEvents[event] || ((delegateEvents[event] = {}));\r\n\t\t\tif ($.isEmptyObject(delegateCallbackObjs)) {\r\n\t\t\t\tisAddEventListener = true;\r\n\t\t\t}\r\n\t\t\tvar delegateCallbacks = delegateCallbackObjs[selector] || (delegateCallbackObjs[selector] = []);\r\n\t\t\tdelegateCallbacks.push(callback);\r\n\t\t\tif (isAddEventListener) {\r\n\t\t\t\tvar delegateFnArray = delegateFns[mid(element)];\r\n\t\t\t\tif (!delegateFnArray) {\r\n\t\t\t\t\tdelegateFnArray = [];\r\n\t\t\t\t}\r\n\t\t\t\tvar delegateCallback = delegateFn(element, event, selector, callback);\r\n\t\t\t\tdelegateFnArray.push(delegateCallback);\r\n\t\t\t\tdelegateCallback.i = delegateFnArray.length - 1;\r\n\t\t\t\tdelegateCallback.type = event;\r\n\t\t\t\tdelegateFns[mid(element)] = delegateFnArray;\r\n\t\t\t\telement.addEventListener(event, delegateCallback);\r\n\t\t\t\tif (event === 'tap') { //TODO 需要找个更好的解决方案\r\n\t\t\t\t\telement.addEventListener('click', function(e) {\r\n\t\t\t\t\t\tif (e.target) {\r\n\t\t\t\t\t\t\tvar tagName = e.target.tagName;\r\n\t\t\t\t\t\t\tif (!preventDefaultException.test(tagName)) {\r\n\t\t\t\t\t\t\t\tif (tagName === 'A') {\r\n\t\t\t\t\t\t\t\t\tvar href = e.target.href;\r\n\t\t\t\t\t\t\t\t\tif (!(href && ~href.indexOf('tel:'))) {\r\n\t\t\t\t\t\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t};\r\n\t$.fn.off = function(event, selector, callback) {\r\n\t\treturn this.each(function() {\r\n\t\t\tvar _mid = mid(this);\r\n\t\t\tif (!event) { //mui(selector).off();\r\n\t\t\t\tdelegates[_mid] && delete delegates[_mid];\r\n\t\t\t} else if (!selector) { //mui(selector).off(event);\r\n\t\t\t\tdelegates[_mid] && delete delegates[_mid][event];\r\n\t\t\t} else if (!callback) { //mui(selector).off(event,selector);\r\n\t\t\t\tdelegates[_mid] && delegates[_mid][event] && delete delegates[_mid][event][selector];\r\n\t\t\t} else { //mui(selector).off(event,selector,callback);\r\n\t\t\t\tvar delegateCallbacks = delegates[_mid] && delegates[_mid][event] && delegates[_mid][event][selector];\r\n\t\t\t\t$.each(delegateCallbacks, function(index, delegateCallback) {\r\n\t\t\t\t\tif (mid(delegateCallback) === mid(callback)) {\r\n\t\t\t\t\t\tdelegateCallbacks.splice(index, 1);\r\n\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t}\r\n\t\t\t\t}, true);\r\n\t\t\t}\r\n\t\t\tif (delegates[_mid]) {\r\n\t\t\t\t//如果off掉了所有当前element的指定的event事件，则remove掉当前element的delegate回调\r\n\t\t\t\tif ((!delegates[_mid][event] || $.isEmptyObject(delegates[_mid][event]))) {\r\n\t\t\t\t\tfindDelegateFn(this, event).forEach(function(fn) {\r\n\t\t\t\t\t\tthis.removeEventListener(fn.type, fn);\r\n\t\t\t\t\t\tdelete delegateFns[_mid][fn.i];\r\n\t\t\t\t\t}.bind(this));\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\t//如果delegates[_mid]已不存在，删除所有\r\n\t\t\t\tfindDelegateFn(this).forEach(function(fn) {\r\n\t\t\t\t\tthis.removeEventListener(fn.type, fn);\r\n\t\t\t\t\tdelete delegateFns[_mid][fn.i];\r\n\t\t\t\t}.bind(this));\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t};\r\n})(mui);\r\n/**\r\n * mui target(action>popover>modal>tab>toggle)\r\n */\r\n(function($, window, document) {\r\n\t/**\r\n\t * targets\r\n\t */\r\n\t$.targets = {};\r\n\t/**\r\n\t * target handles\r\n\t */\r\n\t$.targetHandles = [];\r\n\t/**\r\n\t * register target\r\n\t * @param {type} target\r\n\t * @returns {$.targets}\r\n\t */\r\n\t$.registerTarget = function(target) {\r\n\r\n\t\ttarget.index = target.index || 1000;\r\n\r\n\t\t$.targetHandles.push(target);\r\n\r\n\t\t$.targetHandles.sort(function(a, b) {\r\n\t\t\treturn a.index - b.index;\r\n\t\t});\r\n\r\n\t\treturn $.targetHandles;\r\n\t};\r\n\twindow.addEventListener($.EVENT_START, function(event) {\r\n\t\tvar target = event.target;\r\n\t\tvar founds = {};\r\n\t\tfor (; target && target !== document; target = target.parentNode) {\r\n\t\t\tvar isFound = false;\r\n\t\t\t$.each($.targetHandles, function(index, targetHandle) {\r\n\t\t\t\tvar name = targetHandle.name;\r\n\t\t\t\tif (!isFound && !founds[name] && targetHandle.hasOwnProperty('handle')) {\r\n\t\t\t\t\t$.targets[name] = targetHandle.handle(event, target);\r\n\t\t\t\t\tif ($.targets[name]) {\r\n\t\t\t\t\t\tfounds[name] = true;\r\n\t\t\t\t\t\tif (targetHandle.isContinue !== true) {\r\n\t\t\t\t\t\t\tisFound = true;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\tif (!founds[name]) {\r\n\t\t\t\t\t\tif (targetHandle.isReset !== false)\r\n\t\t\t\t\t\t\t$.targets[name] = false;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\tif (isFound) {\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\t});\r\n\twindow.addEventListener('click', function(event) { //解决touch与click的target不一致的问题(比如链接边缘点击时，touch的target为html，而click的target为A)\r\n\t\tvar target = event.target;\r\n\t\tvar isFound = false;\r\n\t\tfor (; target && target !== document; target = target.parentNode) {\r\n\t\t\tif (target.tagName === 'A') {\r\n\t\t\t\t$.each($.targetHandles, function(index, targetHandle) {\r\n\t\t\t\t\tvar name = targetHandle.name;\r\n\t\t\t\t\tif (targetHandle.hasOwnProperty('handle')) {\r\n\t\t\t\t\t\tif (targetHandle.handle(event, target)) {\r\n\t\t\t\t\t\t\tisFound = true;\r\n\t\t\t\t\t\t\tevent.preventDefault();\r\n\t\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t\tif (isFound) {\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t});\r\n})(mui, window, document);\r\n/**\r\n * fixed trim\r\n * @param {type} undefined\r\n * @returns {undefined}\r\n */\r\n(function(undefined) {\r\n\tif (String.prototype.trim === undefined) { // fix for iOS 3.2\r\n\t\tString.prototype.trim = function() {\r\n\t\t\treturn this.replace(/^\\s+|\\s+$/g, '');\r\n\t\t};\r\n\t}\r\n\tObject.setPrototypeOf = Object.setPrototypeOf || function(obj, proto) {\r\n\t\tobj['__proto__'] = proto;\r\n\t\treturn obj;\r\n\t};\r\n\r\n})();\r\n/**\r\n * fixed CustomEvent\r\n */\r\n(function() {\r\n\tif (typeof window.CustomEvent === 'undefined') {\r\n\t\tfunction CustomEvent(event, params) {\r\n\t\t\tparams = params || {\r\n\t\t\t\tbubbles: false,\r\n\t\t\t\tcancelable: false,\r\n\t\t\t\tdetail: undefined\r\n\t\t\t};\r\n\t\t\tvar evt = document.createEvent('Events');\r\n\t\t\tvar bubbles = true;\r\n\t\t\tfor (var name in params) {\r\n\t\t\t\t(name === 'bubbles') ? (bubbles = !!params[name]) : (evt[name] = params[name]);\r\n\t\t\t}\r\n\t\t\tevt.initEvent(event, bubbles, true);\r\n\t\t\treturn evt;\r\n\t\t};\r\n\t\tCustomEvent.prototype = window.Event.prototype;\r\n\t\twindow.CustomEvent = CustomEvent;\r\n\t}\r\n})();\r\n/*\r\n\tA shim for non ES5 supporting browsers.\r\n\tAdds function bind to Function prototype, so that you can do partial application.\r\n\tWorks even with the nasty thing, where the first word is the opposite of extranet, the second one is the profession of Columbus, and the version number is 9, flipped 180 degrees.\r\n*/\r\n\r\nFunction.prototype.bind = Function.prototype.bind || function(to) {\r\n\t// Make an array of our arguments, starting from second argument\r\n\tvar partial = Array.prototype.splice.call(arguments, 1),\r\n\t\t// We'll need the original function.\r\n\t\tfn = this;\r\n\tvar bound = function() {\r\n\t\t\t// Join the already applied arguments to the now called ones (after converting to an array again).\r\n\t\t\tvar args = partial.concat(Array.prototype.splice.call(arguments, 0));\r\n\t\t\t// If not being called as a constructor\r\n\t\t\tif (!(this instanceof bound)) {\r\n\t\t\t\t// return the result of the function called bound to target and partially applied.\r\n\t\t\t\treturn fn.apply(to, args);\r\n\t\t\t}\r\n\t\t\t// If being called as a constructor, apply the function bound to self.\r\n\t\t\tfn.apply(this, args);\r\n\t\t}\r\n\t\t// Attach the prototype of the function to our newly created function.\r\n\tbound.prototype = fn.prototype;\r\n\treturn bound;\r\n};\r\n/**\r\n * mui fixed classList\r\n * @param {type} document\r\n * @returns {undefined}\r\n */\r\n(function(document) {\r\n    if (!(\"classList\" in document.documentElement) && Object.defineProperty && typeof HTMLElement !== 'undefined') {\r\n\r\n        Object.defineProperty(HTMLElement.prototype, 'classList', {\r\n            get: function() {\r\n                var self = this;\r\n                function update(fn) {\r\n                    return function(value) {\r\n                        var classes = self.className.split(/\\s+/),\r\n                                index = classes.indexOf(value);\r\n\r\n                        fn(classes, index, value);\r\n                        self.className = classes.join(\" \");\r\n                    };\r\n                }\r\n\r\n                var ret = {\r\n                    add: update(function(classes, index, value) {\r\n                        ~index || classes.push(value);\r\n                    }),\r\n                    remove: update(function(classes, index) {\r\n                        ~index && classes.splice(index, 1);\r\n                    }),\r\n                    toggle: update(function(classes, index, value) {\r\n                        ~index ? classes.splice(index, 1) : classes.push(value);\r\n                    }),\r\n                    contains: function(value) {\r\n                        return !!~self.className.split(/\\s+/).indexOf(value);\r\n                    },\r\n                    item: function(i) {\r\n                        return self.className.split(/\\s+/)[i] || null;\r\n                    }\r\n                };\r\n\r\n                Object.defineProperty(ret, 'length', {\r\n                    get: function() {\r\n                        return self.className.split(/\\s+/).length;\r\n                    }\r\n                });\r\n\r\n                return ret;\r\n            }\r\n        });\r\n    }\r\n})(document);\r\n\r\n/**\r\n * mui fixed requestAnimationFrame\r\n * @param {type} window\r\n * @returns {undefined}\r\n */\r\n(function(window) {\r\n\tif (!window.requestAnimationFrame) {\r\n\t\tvar lastTime = 0;\r\n\t\twindow.requestAnimationFrame = window.webkitRequestAnimationFrame || function(callback, element) {\r\n\t\t\tvar currTime = new Date().getTime();\r\n\t\t\tvar timeToCall = Math.max(0, 16.7 - (currTime - lastTime));\r\n\t\t\tvar id = window.setTimeout(function() {\r\n\t\t\t\tcallback(currTime + timeToCall);\r\n\t\t\t}, timeToCall);\r\n\t\t\tlastTime = currTime + timeToCall;\r\n\t\t\treturn id;\r\n\t\t};\r\n\t\twindow.cancelAnimationFrame = window.webkitCancelAnimationFrame || window.webkitCancelRequestAnimationFrame || function(id) {\r\n\t\t\tclearTimeout(id);\r\n\t\t};\r\n\t};\r\n}(window));\r\n/**\r\n * fastclick(only for radio,checkbox)\r\n */\r\n(function($, window, name) {\r\n\tif (!$.os.android && !$.os.ios) { //目前仅识别android和ios\r\n\t\treturn;\r\n\t}\r\n\tif (window.FastClick) {\r\n\t\treturn;\r\n\t}\r\n\r\n\tvar handle = function(event, target) {\r\n\t\tif (target.tagName === 'LABEL') {\r\n\t\t\tif (target.parentNode) {\r\n\t\t\t\ttarget = target.parentNode.querySelector('input');\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (target && (target.type === 'radio' || target.type === 'checkbox')) {\r\n\t\t\tif (!target.disabled) { //disabled\r\n\t\t\t\treturn target;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn false;\r\n\t};\r\n\r\n\t$.registerTarget({\r\n\t\tname: name,\r\n\t\tindex: 40,\r\n\t\thandle: handle,\r\n\t\ttarget: false\r\n\t});\r\n\tvar dispatchEvent = function(event) {\r\n\t\tvar targetElement = $.targets.click;\r\n\t\tif (targetElement) {\r\n\t\t\tvar clickEvent, touch;\r\n\t\t\t// On some Android devices activeElement needs to be blurred otherwise the synthetic click will have no effect\r\n\t\t\tif (document.activeElement && document.activeElement !== targetElement) {\r\n\t\t\t\tdocument.activeElement.blur();\r\n\t\t\t}\r\n\t\t\ttouch = event.detail.gesture.changedTouches[0];\r\n\t\t\t// Synthesise a click event, with an extra attribute so it can be tracked\r\n\t\t\tclickEvent = document.createEvent('MouseEvents');\r\n\t\t\tclickEvent.initMouseEvent('click', true, true, window, 1, touch.screenX, touch.screenY, touch.clientX, touch.clientY, false, false, false, false, 0, null);\r\n\t\t\tclickEvent.forwardedTouchEvent = true;\r\n\t\t\ttargetElement.dispatchEvent(clickEvent);\r\n\t\t\tevent.detail && event.detail.gesture.preventDefault();\r\n\t\t}\r\n\t};\r\n\twindow.addEventListener('tap', dispatchEvent);\r\n\twindow.addEventListener('doubletap', dispatchEvent);\r\n\t//捕获\r\n\twindow.addEventListener('click', function(event) {\r\n\t\tif ($.targets.click) {\r\n\t\t\tif (!event.forwardedTouchEvent) { //stop click\r\n\t\t\t\tif (event.stopImmediatePropagation) {\r\n\t\t\t\t\tevent.stopImmediatePropagation();\r\n\t\t\t\t} else {\r\n\t\t\t\t\t// Part of the hack for browsers that don't support Event#stopImmediatePropagation\r\n\t\t\t\t\tevent.propagationStopped = true;\r\n\t\t\t\t}\r\n\t\t\t\tevent.stopPropagation();\r\n\t\t\t\tevent.preventDefault();\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t}\r\n\t}, true);\r\n\r\n})(mui, window, 'click');\r\n(function($, document) {\r\n\t$(function() {\r\n\t\tif (!$.os.ios) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tvar CLASS_FOCUSIN = 'mui-focusin';\r\n\t\tvar CLASS_BAR_TAB = 'mui-bar-tab';\r\n\t\tvar CLASS_BAR_FOOTER = 'mui-bar-footer';\r\n\t\tvar CLASS_BAR_FOOTER_SECONDARY = 'mui-bar-footer-secondary';\r\n\t\tvar CLASS_BAR_FOOTER_SECONDARY_TAB = 'mui-bar-footer-secondary-tab';\r\n\t\t// var content = document.querySelector('.' + CLASS_CONTENT);\r\n\t\t// if (content) {\r\n\t\t// \tdocument.body.insertBefore(content, document.body.firstElementChild);\r\n\t\t// }\r\n\t\tdocument.addEventListener('focusin', function(e) {\r\n\t\t\tif ($.os.plus) { //在父webview里边不fix\r\n\t\t\t\tif (window.plus) {\r\n\t\t\t\t\tif (plus.webview.currentWebview().children().length > 0) {\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tvar target = e.target;\r\n\t\t\t//TODO 需考虑所有键盘弹起的情况\r\n\t\t\tif (target.tagName && (target.tagName === 'TEXTAREA' || (target.tagName === 'INPUT' && (target.type === 'text' || target.type === 'search' || target.type === 'number')))) {\r\n\t\t\t\tif (target.disabled || target.readOnly) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tdocument.body.classList.add(CLASS_FOCUSIN);\r\n\t\t\t\tvar isFooter = false;\r\n\t\t\t\tfor (; target && target !== document; target = target.parentNode) {\r\n\t\t\t\t\tvar classList = target.classList;\r\n\t\t\t\t\tif (classList && classList.contains(CLASS_BAR_TAB) || classList.contains(CLASS_BAR_FOOTER) || classList.contains(CLASS_BAR_FOOTER_SECONDARY) || classList.contains(CLASS_BAR_FOOTER_SECONDARY_TAB)) {\r\n\t\t\t\t\t\tisFooter = true;\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tif (isFooter) {\r\n\t\t\t\t\tvar scrollTop = document.body.scrollHeight;\r\n\t\t\t\t\tvar scrollLeft = document.body.scrollLeft;\r\n\t\t\t\t\tsetTimeout(function() {\r\n\t\t\t\t\t\twindow.scrollTo(scrollLeft, scrollTop);\r\n\t\t\t\t\t}, 20);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t\tdocument.addEventListener('focusout', function(e) {\r\n\t\t\tvar classList = document.body.classList;\r\n\t\t\tif (classList.contains(CLASS_FOCUSIN)) {\r\n\t\t\t\tclassList.remove(CLASS_FOCUSIN);\r\n\t\t\t\tsetTimeout(function() {\r\n\t\t\t\t\twindow.scrollTo(document.body.scrollLeft, document.body.scrollTop);\r\n\t\t\t\t}, 20);\r\n\t\t\t}\r\n\t\t});\r\n\t});\r\n})(mui, document);\r\n/**\r\n * mui namespace(optimization)\r\n * @param {type} $\r\n * @returns {undefined}\r\n */\r\n(function($) {\r\n\t$.namespace = 'mui';\r\n\t$.classNamePrefix = $.namespace + '-';\r\n\t$.classSelectorPrefix = '.' + $.classNamePrefix;\r\n\t/**\r\n\t * 返回正确的className\r\n\t * @param {type} className\r\n\t * @returns {String}\r\n\t */\r\n\t$.className = function(className) {\r\n\t\treturn $.classNamePrefix + className;\r\n\t};\r\n\t/**\r\n\t * 返回正确的classSelector\r\n\t * @param {type} classSelector\r\n\t * @returns {String}\r\n\t */\r\n\t$.classSelector = function(classSelector) {\r\n\t\treturn classSelector.replace(/\\./g, $.classSelectorPrefix);\r\n\t};\r\n\t/**\r\n         * 返回正确的eventName\r\n         * @param {type} event\r\n         * @param {type} module\r\n         * @returns {String}\r\n         */\r\n\t$.eventName = function(event, module) {\r\n\t\treturn event + ($.namespace ? ('.' + $.namespace) : '') + ( module ? ('.' + module) : '');\r\n\t};\r\n})(mui);\r\n\r\n/**\r\n * mui gestures\r\n * @param {type} $\r\n * @param {type} window\r\n * @returns {undefined}\r\n */\r\n(function($, window) {\r\n\t$.gestures = {\r\n\t\tsession: {}\r\n\t};\r\n\t/**\r\n\t * Gesture preventDefault\r\n\t * @param {type} e\r\n\t * @returns {undefined}\r\n\t */\r\n\t$.preventDefault = function(e) {\r\n\t\te.preventDefault();\r\n\t};\r\n\t/**\r\n\t * Gesture stopPropagation\r\n\t * @param {type} e\r\n\t * @returns {undefined}\r\n\t */\r\n\t$.stopPropagation = function(e) {\r\n\t\te.stopPropagation();\r\n\t};\r\n\r\n\t/**\r\n\t * register gesture\r\n\t * @param {type} gesture\r\n\t * @returns {$.gestures}\r\n\t */\r\n\t$.addGesture = function(gesture) {\r\n\t\treturn $.addAction('gestures', gesture);\r\n\r\n\t};\r\n\r\n\tvar round = Math.round;\r\n\tvar abs = Math.abs;\r\n\tvar sqrt = Math.sqrt;\r\n\tvar atan = Math.atan;\r\n\tvar atan2 = Math.atan2;\r\n\t/**\r\n\t * distance\r\n\t * @param {type} p1\r\n\t * @param {type} p2\r\n\t * @returns {Number}\r\n\t */\r\n\tvar getDistance = function(p1, p2, props) {\r\n\t\tif(!props) {\r\n\t\t\tprops = ['x', 'y'];\r\n\t\t}\r\n\t\tvar x = p2[props[0]] - p1[props[0]];\r\n\t\tvar y = p2[props[1]] - p1[props[1]];\r\n\t\treturn sqrt((x * x) + (y * y));\r\n\t};\r\n\t/**\r\n\t * scale\r\n\t * @param {Object} starts\r\n\t * @param {Object} moves\r\n\t */\r\n\tvar getScale = function(starts, moves) {\r\n\t\tif(starts.length >= 2 && moves.length >= 2) {\r\n\t\t\tvar props = ['pageX', 'pageY'];\r\n\t\t\treturn getDistance(moves[1], moves[0], props) / getDistance(starts[1], starts[0], props);\r\n\t\t}\r\n\t\treturn 1;\r\n\t};\r\n\t/**\r\n\t * angle\r\n\t * @param {type} p1\r\n\t * @param {type} p2\r\n\t * @returns {Number}\r\n\t */\r\n\tvar getAngle = function(p1, p2, props) {\r\n\t\tif(!props) {\r\n\t\t\tprops = ['x', 'y'];\r\n\t\t}\r\n\t\tvar x = p2[props[0]] - p1[props[0]];\r\n\t\tvar y = p2[props[1]] - p1[props[1]];\r\n\t\treturn atan2(y, x) * 180 / Math.PI;\r\n\t};\r\n\t/**\r\n\t * direction\r\n\t * @param {Object} x\r\n\t * @param {Object} y\r\n\t */\r\n\tvar getDirection = function(x, y) {\r\n\t\tif(x === y) {\r\n\t\t\treturn '';\r\n\t\t}\r\n\t\tif(abs(x) >= abs(y)) {\r\n\t\t\treturn x > 0 ? 'left' : 'right';\r\n\t\t}\r\n\t\treturn y > 0 ? 'up' : 'down';\r\n\t};\r\n\t/**\r\n\t * rotation\r\n\t * @param {Object} start\r\n\t * @param {Object} end\r\n\t */\r\n\tvar getRotation = function(start, end) {\r\n\t\tvar props = ['pageX', 'pageY'];\r\n\t\treturn getAngle(end[1], end[0], props) - getAngle(start[1], start[0], props);\r\n\t};\r\n\t/**\r\n\t * px per ms\r\n\t * @param {Object} deltaTime\r\n\t * @param {Object} x\r\n\t * @param {Object} y\r\n\t */\r\n\tvar getVelocity = function(deltaTime, x, y) {\r\n\t\treturn {\r\n\t\t\tx: x / deltaTime || 0,\r\n\t\t\ty: y / deltaTime || 0\r\n\t\t};\r\n\t};\r\n\t/**\r\n\t * detect gestures\r\n\t * @param {type} event\r\n\t * @param {type} touch\r\n\t * @returns {undefined}\r\n\t */\r\n\tvar detect = function(event, touch) {\r\n\t\tif($.gestures.stoped) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\t$.doAction('gestures', function(index, gesture) {\r\n\t\t\tif(!$.gestures.stoped) {\r\n\t\t\t\tif($.options.gestureConfig[gesture.name] !== false) {\r\n\t\t\t\t\tgesture.handle(event, touch);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t};\r\n\t/**\r\n\t * 暂时无用\r\n\t * @param {Object} node\r\n\t * @param {Object} parent\r\n\t */\r\n\tvar hasParent = function(node, parent) {\r\n\t\twhile(node) {\r\n\t\t\tif(node == parent) {\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\t\t\tnode = node.parentNode;\r\n\t\t}\r\n\t\treturn false;\r\n\t};\r\n\r\n\tvar uniqueArray = function(src, key, sort) {\r\n\t\tvar results = [];\r\n\t\tvar values = [];\r\n\t\tvar i = 0;\r\n\r\n\t\twhile(i < src.length) {\r\n\t\t\tvar val = key ? src[i][key] : src[i];\r\n\t\t\tif(values.indexOf(val) < 0) {\r\n\t\t\t\tresults.push(src[i]);\r\n\t\t\t}\r\n\t\t\tvalues[i] = val;\r\n\t\t\ti++;\r\n\t\t}\r\n\r\n\t\tif(sort) {\r\n\t\t\tif(!key) {\r\n\t\t\t\tresults = results.sort();\r\n\t\t\t} else {\r\n\t\t\t\tresults = results.sort(function sortUniqueArray(a, b) {\r\n\t\t\t\t\treturn a[key] > b[key];\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn results;\r\n\t};\r\n\tvar getMultiCenter = function(touches) {\r\n\t\tvar touchesLength = touches.length;\r\n\t\tif(touchesLength === 1) {\r\n\t\t\treturn {\r\n\t\t\t\tx: round(touches[0].pageX),\r\n\t\t\t\ty: round(touches[0].pageY)\r\n\t\t\t};\r\n\t\t}\r\n\r\n\t\tvar x = 0;\r\n\t\tvar y = 0;\r\n\t\tvar i = 0;\r\n\t\twhile(i < touchesLength) {\r\n\t\t\tx += touches[i].pageX;\r\n\t\t\ty += touches[i].pageY;\r\n\t\t\ti++;\r\n\t\t}\r\n\r\n\t\treturn {\r\n\t\t\tx: round(x / touchesLength),\r\n\t\t\ty: round(y / touchesLength)\r\n\t\t};\r\n\t};\r\n\tvar multiTouch = function() {\r\n\t\treturn $.options.gestureConfig.pinch;\r\n\t};\r\n\tvar copySimpleTouchData = function(touch) {\r\n\t\tvar touches = [];\r\n\t\tvar i = 0;\r\n\t\twhile(i < touch.touches.length) {\r\n\t\t\ttouches[i] = {\r\n\t\t\t\tpageX: round(touch.touches[i].pageX),\r\n\t\t\t\tpageY: round(touch.touches[i].pageY)\r\n\t\t\t};\r\n\t\t\ti++;\r\n\t\t}\r\n\t\treturn {\r\n\t\t\ttimestamp: $.now(),\r\n\t\t\tgesture: touch.gesture,\r\n\t\t\ttouches: touches,\r\n\t\t\tcenter: getMultiCenter(touch.touches),\r\n\t\t\tdeltaX: touch.deltaX,\r\n\t\t\tdeltaY: touch.deltaY\r\n\t\t};\r\n\t};\r\n\r\n\tvar calDelta = function(touch) {\r\n\t\tvar session = $.gestures.session;\r\n\t\tvar center = touch.center;\r\n\t\tvar offset = session.offsetDelta || {};\r\n\t\tvar prevDelta = session.prevDelta || {};\r\n\t\tvar prevTouch = session.prevTouch || {};\r\n\r\n\t\tif(touch.gesture.type === $.EVENT_START || touch.gesture.type === $.EVENT_END) {\r\n\t\t\tprevDelta = session.prevDelta = {\r\n\t\t\t\tx: prevTouch.deltaX || 0,\r\n\t\t\t\ty: prevTouch.deltaY || 0\r\n\t\t\t};\r\n\r\n\t\t\toffset = session.offsetDelta = {\r\n\t\t\t\tx: center.x,\r\n\t\t\t\ty: center.y\r\n\t\t\t};\r\n\t\t}\r\n\t\ttouch.deltaX = prevDelta.x + (center.x - offset.x);\r\n\t\ttouch.deltaY = prevDelta.y + (center.y - offset.y);\r\n\t};\r\n\tvar calTouchData = function(touch) {\r\n\t\tvar session = $.gestures.session;\r\n\t\tvar touches = touch.touches;\r\n\t\tvar touchesLength = touches.length;\r\n\r\n\t\tif(!session.firstTouch) {\r\n\t\t\tsession.firstTouch = copySimpleTouchData(touch);\r\n\t\t}\r\n\r\n\t\tif(multiTouch() && touchesLength > 1 && !session.firstMultiTouch) {\r\n\t\t\tsession.firstMultiTouch = copySimpleTouchData(touch);\r\n\t\t} else if(touchesLength === 1) {\r\n\t\t\tsession.firstMultiTouch = false;\r\n\t\t}\r\n\r\n\t\tvar firstTouch = session.firstTouch;\r\n\t\tvar firstMultiTouch = session.firstMultiTouch;\r\n\t\tvar offsetCenter = firstMultiTouch ? firstMultiTouch.center : firstTouch.center;\r\n\r\n\t\tvar center = touch.center = getMultiCenter(touches);\r\n\t\ttouch.timestamp = $.now();\r\n\t\ttouch.deltaTime = touch.timestamp - firstTouch.timestamp;\r\n\r\n\t\ttouch.angle = getAngle(offsetCenter, center);\r\n\t\ttouch.distance = getDistance(offsetCenter, center);\r\n\r\n\t\tcalDelta(touch);\r\n\r\n\t\ttouch.offsetDirection = getDirection(touch.deltaX, touch.deltaY);\r\n\r\n\t\ttouch.scale = firstMultiTouch ? getScale(firstMultiTouch.touches, touches) : 1;\r\n\t\ttouch.rotation = firstMultiTouch ? getRotation(firstMultiTouch.touches, touches) : 0;\r\n\r\n\t\tcalIntervalTouchData(touch);\r\n\r\n\t};\r\n\tvar CAL_INTERVAL = 25;\r\n\tvar calIntervalTouchData = function(touch) {\r\n\t\tvar session = $.gestures.session;\r\n\t\tvar last = session.lastInterval || touch;\r\n\t\tvar deltaTime = touch.timestamp - last.timestamp;\r\n\t\tvar velocity;\r\n\t\tvar velocityX;\r\n\t\tvar velocityY;\r\n\t\tvar direction;\r\n\r\n\t\tif(touch.gesture.type != $.EVENT_CANCEL && (deltaTime > CAL_INTERVAL || last.velocity === undefined)) {\r\n\t\t\tvar deltaX = last.deltaX - touch.deltaX;\r\n\t\t\tvar deltaY = last.deltaY - touch.deltaY;\r\n\r\n\t\t\tvar v = getVelocity(deltaTime, deltaX, deltaY);\r\n\t\t\tvelocityX = v.x;\r\n\t\t\tvelocityY = v.y;\r\n\t\t\tvelocity = (abs(v.x) > abs(v.y)) ? v.x : v.y;\r\n\t\t\tdirection = getDirection(deltaX, deltaY) || last.direction;\r\n\r\n\t\t\tsession.lastInterval = touch;\r\n\t\t} else {\r\n\t\t\tvelocity = last.velocity;\r\n\t\t\tvelocityX = last.velocityX;\r\n\t\t\tvelocityY = last.velocityY;\r\n\t\t\tdirection = last.direction;\r\n\t\t}\r\n\r\n\t\ttouch.velocity = velocity;\r\n\t\ttouch.velocityX = velocityX;\r\n\t\ttouch.velocityY = velocityY;\r\n\t\ttouch.direction = direction;\r\n\t};\r\n\tvar targetIds = {};\r\n\tvar convertTouches = function(touches) {\r\n\t\tfor(var i = 0; i < touches.length; i++) {\r\n\t\t\t!touches['identifier'] && (touches['identifier'] = 0);\r\n\t\t}\r\n\t\treturn touches;\r\n\t};\r\n\tvar getTouches = function(event, touch) {\r\n\t\tvar allTouches = convertTouches($.slice.call(event.touches || [event]));\r\n\r\n\t\tvar type = event.type;\r\n\r\n\t\tvar targetTouches = [];\r\n\t\tvar changedTargetTouches = [];\r\n\r\n\t\t//当touchstart或touchmove且touches长度为1，直接获得all和changed\r\n\t\tif((type === $.EVENT_START || type === $.EVENT_MOVE) && allTouches.length === 1) {\r\n\t\t\ttargetIds[allTouches[0].identifier] = true;\r\n\t\t\ttargetTouches = allTouches;\r\n\t\t\tchangedTargetTouches = allTouches;\r\n\t\t\ttouch.target = event.target;\r\n\t\t} else {\r\n\t\t\tvar i = 0;\r\n\t\t\tvar targetTouches = [];\r\n\t\t\tvar changedTargetTouches = [];\r\n\t\t\tvar changedTouches = convertTouches($.slice.call(event.changedTouches || [event]));\r\n\r\n\t\t\ttouch.target = event.target;\r\n\t\t\tvar sessionTarget = $.gestures.session.target || event.target;\r\n\t\t\ttargetTouches = allTouches.filter(function(touch) {\r\n\t\t\t\treturn hasParent(touch.target, sessionTarget);\r\n\t\t\t});\r\n\r\n\t\t\tif(type === $.EVENT_START) {\r\n\t\t\t\ti = 0;\r\n\t\t\t\twhile(i < targetTouches.length) {\r\n\t\t\t\t\ttargetIds[targetTouches[i].identifier] = true;\r\n\t\t\t\t\ti++;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\ti = 0;\r\n\t\t\twhile(i < changedTouches.length) {\r\n\t\t\t\tif(targetIds[changedTouches[i].identifier]) {\r\n\t\t\t\t\tchangedTargetTouches.push(changedTouches[i]);\r\n\t\t\t\t}\r\n\t\t\t\tif(type === $.EVENT_END || type === $.EVENT_CANCEL) {\r\n\t\t\t\t\tdelete targetIds[changedTouches[i].identifier];\r\n\t\t\t\t}\r\n\t\t\t\ti++;\r\n\t\t\t}\r\n\r\n\t\t\tif(!changedTargetTouches.length) {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t}\r\n\t\ttargetTouches = uniqueArray(targetTouches.concat(changedTargetTouches), 'identifier', true);\r\n\t\tvar touchesLength = targetTouches.length;\r\n\t\tvar changedTouchesLength = changedTargetTouches.length;\r\n\t\tif(type === $.EVENT_START && touchesLength - changedTouchesLength === 0) { //first\r\n\t\t\ttouch.isFirst = true;\r\n\t\t\t$.gestures.touch = $.gestures.session = {\r\n\t\t\t\ttarget: event.target\r\n\t\t\t};\r\n\t\t}\r\n\t\ttouch.isFinal = ((type === $.EVENT_END || type === $.EVENT_CANCEL) && (touchesLength - changedTouchesLength === 0));\r\n\r\n\t\ttouch.touches = targetTouches;\r\n\t\ttouch.changedTouches = changedTargetTouches;\r\n\t\treturn true;\r\n\r\n\t};\r\n\tvar handleTouchEvent = function(event) {\r\n\t\tvar touch = {\r\n\t\t\tgesture: event\r\n\t\t};\r\n\t\tvar touches = getTouches(event, touch);\r\n\t\tif(!touches) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tcalTouchData(touch);\r\n\t\tdetect(event, touch);\r\n\t\t$.gestures.session.prevTouch = touch;\r\n\t\tif(event.type === $.EVENT_END && !$.isTouchable) {\r\n\t\t\t$.gestures.touch = $.gestures.session = {};\r\n\t\t}\r\n\t};\r\n\tvar supportsPassive = (function checkPassiveListener() {\r\n\t\tvar supportsPassive = false;\r\n\t\ttry {\r\n\t\t\tvar opts = Object.defineProperty({}, 'passive', {\r\n\t\t\t\tget: function get() {\r\n\t\t\t\t\tsupportsPassive = true;\r\n\t\t\t\t},\r\n\t\t\t});\r\n\t\t\twindow.addEventListener('testPassiveListener', null, opts);\r\n\t\t} catch(e) {\r\n\t\t\t// No support\r\n\t\t}\r\n\t\treturn supportsPassive;\r\n\t}())\r\n\twindow.addEventListener($.EVENT_START, handleTouchEvent);\r\n\twindow.addEventListener($.EVENT_MOVE, handleTouchEvent, supportsPassive ? {\r\n\t\tpassive: false,\r\n\t\tcapture: false\r\n\t} : false);\r\n\twindow.addEventListener($.EVENT_END, handleTouchEvent);\r\n\twindow.addEventListener($.EVENT_CANCEL, handleTouchEvent);\r\n\t//fixed hashchange(android)\r\n\twindow.addEventListener($.EVENT_CLICK, function(e) {\r\n\t\t//TODO 应该判断当前target是不是在targets.popover内部，而不是非要相等\r\n\t\tif(($.os.android || $.os.ios) && (($.targets.popover && e.target === $.targets.popover) || ($.targets.tab) || $.targets.offcanvas || $.targets.modal)) {\r\n\t\t\te.preventDefault();\r\n\t\t}\r\n\t}, true);\r\n\r\n\t//增加原生滚动识别\r\n\t$.isScrolling = false;\r\n\tvar scrollingTimeout = null;\r\n\twindow.addEventListener('scroll', function() {\r\n\t\t$.isScrolling = true;\r\n\t\tscrollingTimeout && clearTimeout(scrollingTimeout);\r\n\t\tscrollingTimeout = setTimeout(function() {\r\n\t\t\t$.isScrolling = false;\r\n\t\t}, 250);\r\n\t});\r\n})(mui, window);\r\n/**\r\n * mui gesture flick[left|right|up|down]\r\n * @param {type} $\r\n * @param {type} name\r\n * @returns {undefined}\r\n */\r\n(function($, name) {\r\n\tvar flickStartTime = 0;\r\n\tvar handle = function(event, touch) {\r\n\t\tvar session = $.gestures.session;\r\n\t\tvar options = this.options;\r\n\t\tvar now = $.now();\r\n\t\tswitch (event.type) {\r\n\t\t\tcase $.EVENT_MOVE:\r\n\t\t\t\tif (now - flickStartTime > 300) {\r\n\t\t\t\t\tflickStartTime = now;\r\n\t\t\t\t\tsession.flickStart = touch.center;\r\n\t\t\t\t}\r\n\t\t\t\tbreak;\r\n\t\t\tcase $.EVENT_END:\r\n\t\t\tcase $.EVENT_CANCEL:\r\n\t\t\t\ttouch.flick = false;\r\n\t\t\t\tif (session.flickStart && options.flickMaxTime > (now - flickStartTime) && touch.distance > options.flickMinDistince) {\r\n\t\t\t\t\ttouch.flick = true;\r\n\t\t\t\t\ttouch.flickTime = now - flickStartTime;\r\n\t\t\t\t\ttouch.flickDistanceX = touch.center.x - session.flickStart.x;\r\n\t\t\t\t\ttouch.flickDistanceY = touch.center.y - session.flickStart.y;\r\n\t\t\t\t\t$.trigger(session.target, name, touch);\r\n\t\t\t\t\t$.trigger(session.target, name + touch.direction, touch);\r\n\t\t\t\t}\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\r\n\t};\r\n\t/**\r\n\t * mui gesture flick\r\n\t */\r\n\t$.addGesture({\r\n\t\tname: name,\r\n\t\tindex: 5,\r\n\t\thandle: handle,\r\n\t\toptions: {\r\n\t\t\tflickMaxTime: 200,\r\n\t\t\tflickMinDistince: 10\r\n\t\t}\r\n\t});\r\n})(mui, 'flick');\r\n/**\r\n * mui gesture swipe[left|right|up|down]\r\n * @param {type} $\r\n * @param {type} name\r\n * @returns {undefined}\r\n */\r\n(function($, name) {\r\n\tvar handle = function(event, touch) {\r\n\t\tvar session = $.gestures.session;\r\n\t\tif (event.type === $.EVENT_END || event.type === $.EVENT_CANCEL) {\r\n\t\t\tvar options = this.options;\r\n\t\t\ttouch.swipe = false;\r\n\t\t\t//TODO 后续根据velocity计算\r\n\t\t\tif (touch.direction && options.swipeMaxTime > touch.deltaTime && touch.distance > options.swipeMinDistince) {\r\n\t\t\t\ttouch.swipe = true;\r\n\t\t\t\t$.trigger(session.target, name, touch);\r\n\t\t\t\t$.trigger(session.target, name + touch.direction, touch);\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\t/**\r\n\t * mui gesture swipe\r\n\t */\r\n\t$.addGesture({\r\n\t\tname: name,\r\n\t\tindex: 10,\r\n\t\thandle: handle,\r\n\t\toptions: {\r\n\t\t\tswipeMaxTime: 300,\r\n\t\t\tswipeMinDistince: 18\r\n\t\t}\r\n\t});\r\n})(mui, 'swipe');\r\n/**\r\n * mui gesture drag[start|left|right|up|down|end]\r\n * @param {type} $\r\n * @param {type} name\r\n * @returns {undefined}\r\n */\r\n(function($, name) {\r\n\tvar handle = function(event, touch) {\r\n\t\tvar session = $.gestures.session;\r\n\t\tswitch (event.type) {\r\n\t\t\tcase $.EVENT_START:\r\n\t\t\t\tbreak;\r\n\t\t\tcase $.EVENT_MOVE:\r\n\t\t\t\tif (!touch.direction || !session.target) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\t//修正direction,可在session期间自行锁定拖拽方向，方便开发scroll类不同方向拖拽插件嵌套\r\n\t\t\t\tif (session.lockDirection && session.startDirection) {\r\n\t\t\t\t\tif (session.startDirection && session.startDirection !== touch.direction) {\r\n\t\t\t\t\t\tif (session.startDirection === 'up' || session.startDirection === 'down') {\r\n\t\t\t\t\t\t\ttouch.direction = touch.deltaY < 0 ? 'up' : 'down';\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\ttouch.direction = touch.deltaX < 0 ? 'left' : 'right';\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (!session.drag) {\r\n\t\t\t\t\tsession.drag = true;\r\n\t\t\t\t\t$.trigger(session.target, name + 'start', touch);\r\n\t\t\t\t}\r\n\t\t\t\t$.trigger(session.target, name, touch);\r\n\t\t\t\t$.trigger(session.target, name + touch.direction, touch);\r\n\t\t\t\tbreak;\r\n\t\t\tcase $.EVENT_END:\r\n\t\t\tcase $.EVENT_CANCEL:\r\n\t\t\t\tif (session.drag && touch.isFinal) {\r\n\t\t\t\t\t$.trigger(session.target, name + 'end', touch);\r\n\t\t\t\t}\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\t};\r\n\t/**\r\n\t * mui gesture drag\r\n\t */\r\n\t$.addGesture({\r\n\t\tname: name,\r\n\t\tindex: 20,\r\n\t\thandle: handle,\r\n\t\toptions: {\r\n\t\t\tfingers: 1\r\n\t\t}\r\n\t});\r\n})(mui, 'drag');\r\n/**\r\n * mui gesture tap and doubleTap\r\n * @param {type} $\r\n * @param {type} name\r\n * @returns {undefined}\r\n */\r\n(function($, name) {\r\n\tvar lastTarget;\r\n\tvar lastTapTime;\r\n\tvar handle = function(event, touch) {\r\n\t\tvar session = $.gestures.session;\r\n\t\tvar options = this.options;\r\n\t\tswitch (event.type) {\r\n\t\t\tcase $.EVENT_END:\r\n\t\t\t\tif (!touch.isFinal) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tvar target = session.target;\r\n\t\t\t\tif (!target || (target.disabled || (target.classList && target.classList.contains('mui-disabled')))) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tif (touch.distance < options.tapMaxDistance && touch.deltaTime < options.tapMaxTime) {\r\n\t\t\t\t\tif ($.options.gestureConfig.doubletap && lastTarget && (lastTarget === target)) { //same target\r\n\t\t\t\t\t\tif (lastTapTime && (touch.timestamp - lastTapTime) < options.tapMaxInterval) {\r\n\t\t\t\t\t\t\t$.trigger(target, 'doubletap', touch);\r\n\t\t\t\t\t\t\tlastTapTime = $.now();\r\n\t\t\t\t\t\t\tlastTarget = target;\r\n\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\t$.trigger(target, name, touch);\r\n\t\t\t\t\tlastTapTime = $.now();\r\n\t\t\t\t\tlastTarget = target;\r\n\t\t\t\t}\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\t};\r\n\t/**\r\n\t * mui gesture tap\r\n\t */\r\n\t$.addGesture({\r\n\t\tname: name,\r\n\t\tindex: 30,\r\n\t\thandle: handle,\r\n\t\toptions: {\r\n\t\t\tfingers: 1,\r\n\t\t\ttapMaxInterval: 300,\r\n\t\t\ttapMaxDistance: 5,\r\n\t\t\ttapMaxTime: 250\r\n\t\t}\r\n\t});\r\n})(mui, 'tap');\r\n/**\r\n * mui gesture longtap\r\n * @param {type} $\r\n * @param {type} name\r\n * @returns {undefined}\r\n */\r\n(function($, name) {\r\n\tvar timer;\r\n\tvar handle = function(event, touch) {\r\n\t\tvar session = $.gestures.session;\r\n\t\tvar options = this.options;\r\n\t\tswitch (event.type) {\r\n\t\t\tcase $.EVENT_START:\r\n\t\t\t\tclearTimeout(timer);\r\n\t\t\t\ttimer = setTimeout(function() {\r\n\t\t\t\t\t$.trigger(session.target, name, touch);\r\n\t\t\t\t}, options.holdTimeout);\r\n\t\t\t\tbreak;\r\n\t\t\tcase $.EVENT_MOVE:\r\n\t\t\t\tif (touch.distance > options.holdThreshold) {\r\n\t\t\t\t\tclearTimeout(timer);\r\n\t\t\t\t}\r\n\t\t\t\tbreak;\r\n\t\t\tcase $.EVENT_END:\r\n\t\t\tcase $.EVENT_CANCEL:\r\n\t\t\t\tclearTimeout(timer);\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\t};\r\n\t/**\r\n\t * mui gesture longtap\r\n\t */\r\n\t$.addGesture({\r\n\t\tname: name,\r\n\t\tindex: 10,\r\n\t\thandle: handle,\r\n\t\toptions: {\r\n\t\t\tfingers: 1,\r\n\t\t\tholdTimeout: 500,\r\n\t\t\tholdThreshold: 2\r\n\t\t}\r\n\t});\r\n})(mui, 'longtap');\r\n/**\r\n * mui gesture hold\r\n * @param {type} $\r\n * @param {type} name\r\n * @returns {undefined}\r\n */\r\n(function($, name) {\r\n\tvar timer;\r\n\tvar handle = function(event, touch) {\r\n\t\tvar session = $.gestures.session;\r\n\t\tvar options = this.options;\r\n\t\tswitch (event.type) {\r\n\t\t\tcase $.EVENT_START:\r\n\t\t\t\tif ($.options.gestureConfig.hold) {\r\n\t\t\t\t\ttimer && clearTimeout(timer);\r\n\t\t\t\t\ttimer = setTimeout(function() {\r\n\t\t\t\t\t\ttouch.hold = true;\r\n\t\t\t\t\t\t$.trigger(session.target, name, touch);\r\n\t\t\t\t\t}, options.holdTimeout);\r\n\t\t\t\t}\r\n\t\t\t\tbreak;\r\n\t\t\tcase $.EVENT_MOVE:\r\n\t\t\t\tbreak;\r\n\t\t\tcase $.EVENT_END:\r\n\t\t\tcase $.EVENT_CANCEL:\r\n\t\t\t\tif (timer) {\r\n\t\t\t\t\tclearTimeout(timer) && (timer = null);\r\n\t\t\t\t\t$.trigger(session.target, 'release', touch);\r\n\t\t\t\t}\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\t};\r\n\t/**\r\n\t * mui gesture hold\r\n\t */\r\n\t$.addGesture({\r\n\t\tname: name,\r\n\t\tindex: 10,\r\n\t\thandle: handle,\r\n\t\toptions: {\r\n\t\t\tfingers: 1,\r\n\t\t\tholdTimeout: 0\r\n\t\t}\r\n\t});\r\n})(mui, 'hold');\r\n/**\r\n * mui gesture pinch\r\n * @param {type} $\r\n * @param {type} name\r\n * @returns {undefined}\r\n */\r\n(function($, name) {\r\n\tvar handle = function(event, touch) {\r\n\t\tvar options = this.options;\r\n\t\tvar session = $.gestures.session;\r\n\t\tswitch (event.type) {\r\n\t\t\tcase $.EVENT_START:\r\n\t\t\t\tbreak;\r\n\t\t\tcase $.EVENT_MOVE:\r\n\t\t\t\tif ($.options.gestureConfig.pinch) {\r\n\t\t\t\t\tif (touch.touches.length < 2) {\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (!session.pinch) { //start\r\n\t\t\t\t\t\tsession.pinch = true;\r\n\t\t\t\t\t\t$.trigger(session.target, name + 'start', touch);\r\n\t\t\t\t\t}\r\n\t\t\t\t\t$.trigger(session.target, name, touch);\r\n\t\t\t\t\tvar scale = touch.scale;\r\n\t\t\t\t\tvar rotation = touch.rotation;\r\n\t\t\t\t\tvar lastScale = typeof touch.lastScale === 'undefined' ? 1 : touch.lastScale;\r\n\t\t\t\t\tvar scaleDiff = 0.000000000001; //防止scale与lastScale相等，不触发事件的情况。\r\n\t\t\t\t\tif (scale > lastScale) { //out\r\n\t\t\t\t\t\tlastScale = scale - scaleDiff;\r\n\t\t\t\t\t\t$.trigger(session.target, name + 'out', touch);\r\n\t\t\t\t\t} //in\r\n\t\t\t\t\telse if (scale < lastScale) {\r\n\t\t\t\t\t\tlastScale = scale + scaleDiff;\r\n\t\t\t\t\t\t$.trigger(session.target, name + 'in', touch);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (Math.abs(rotation) > options.minRotationAngle) {\r\n\t\t\t\t\t\t$.trigger(session.target, 'rotate', touch);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tbreak;\r\n\t\t\tcase $.EVENT_END:\r\n\t\t\tcase $.EVENT_CANCEL:\r\n\t\t\t\tif ($.options.gestureConfig.pinch && session.pinch && touch.touches.length === 2) {\r\n\t\t\t\t\tsession.pinch = false;\r\n\t\t\t\t\t$.trigger(session.target, name + 'end', touch);\r\n\t\t\t\t}\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\t};\r\n\t/**\r\n\t * mui gesture pinch\r\n\t */\r\n\t$.addGesture({\r\n\t\tname: name,\r\n\t\tindex: 10,\r\n\t\thandle: handle,\r\n\t\toptions: {\r\n\t\t\tminRotationAngle: 0\r\n\t\t}\r\n\t});\r\n})(mui, 'pinch');\r\n/**\r\n * mui.init\r\n * @param {type} $\r\n * @returns {undefined}\r\n */\r\n(function($) {\r\n\t$.global = $.options = {\r\n\t\tgestureConfig: {\r\n\t\t\ttap: true,\r\n\t\t\tdoubletap: false,\r\n\t\t\tlongtap: false,\r\n\t\t\thold: false,\r\n\t\t\tflick: true,\r\n\t\t\tswipe: true,\r\n\t\t\tdrag: true,\r\n\t\t\tpinch: false\r\n\t\t}\r\n\t};\r\n\t/**\r\n\t *\r\n\t * @param {type} options\r\n\t * @returns {undefined}\r\n\t */\r\n\t$.initGlobal = function(options) {\r\n\t\t$.options = $.extend(true, $.global, options);\r\n\t\treturn this;\r\n\t};\r\n\tvar inits = {};\r\n\r\n\t/**\r\n\t * 单页配置 初始化\r\n\t * @param {object} options\r\n\t */\r\n\t$.init = function(options) {\r\n\t\t$.options = $.extend(true, $.global, options || {});\r\n\t\t$.ready(function() {\r\n\t\t\t$.doAction('inits', function(index, init) {\r\n\t\t\t\tvar isInit = !!(!inits[init.name] || init.repeat);\r\n\t\t\t\tif (isInit) {\r\n\t\t\t\t\tinit.handle.call($);\r\n\t\t\t\t\tinits[init.name] = true;\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t});\r\n\t\treturn this;\r\n\t};\r\n\r\n\t/**\r\n\t * 增加初始化执行流程\r\n\t * @param {function} init\r\n\t */\r\n\t$.addInit = function(init) {\r\n\t\treturn $.addAction('inits', init);\r\n\t};\r\n\t/**\r\n\t * 处理html5版本subpages \r\n\t */\r\n\t$.addInit({\r\n\t\tname: 'iframe',\r\n\t\tindex: 100,\r\n\t\thandle: function() {\r\n\t\t\tvar options = $.options;\r\n\t\t\tvar subpages = options.subpages || [];\r\n\t\t\tif (!$.os.plus && subpages.length) {\r\n\t\t\t\t//暂时只处理单个subpage。后续可以考虑支持多个subpage\r\n\t\t\t\tcreateIframe(subpages[0]);\r\n\t\t\t}\r\n\t\t}\r\n\t});\r\n\tvar createIframe = function(options) {\r\n\t\tvar wrapper = document.createElement('div');\r\n\t\twrapper.className = 'mui-iframe-wrapper';\r\n\t\tvar styles = options.styles || {};\r\n\t\tif (typeof styles.top !== 'string') {\r\n\t\t\tstyles.top = '0px';\r\n\t\t}\r\n\t\tif (typeof styles.bottom !== 'string') {\r\n\t\t\tstyles.bottom = '0px';\r\n\t\t}\r\n\t\twrapper.style.top = styles.top;\r\n\t\twrapper.style.bottom = styles.bottom;\r\n\t\tvar iframe = document.createElement('iframe');\r\n\t\tiframe.src = options.url;\r\n\t\tiframe.id = options.id || options.url;\r\n\t\tiframe.name = iframe.id;\r\n\t\twrapper.appendChild(iframe);\r\n\t\tdocument.body.appendChild(wrapper);\r\n\t\t//目前仅处理微信\r\n\t\t$.os.wechat && handleScroll(wrapper, iframe);\r\n\t};\r\n\r\n\tfunction handleScroll(wrapper, iframe) {\r\n\t\tvar key = 'MUI_SCROLL_POSITION_' + document.location.href + '_' + iframe.src;\r\n\t\tvar scrollTop = (parseFloat(localStorage.getItem(key)) || 0);\r\n\t\tif (scrollTop) {\r\n\t\t\t(function(y) {\r\n\t\t\t\tiframe.onload = function() {\r\n\t\t\t\t\twindow.scrollTo(0, y);\r\n\t\t\t\t};\r\n\t\t\t})(scrollTop);\r\n\t\t}\r\n\t\tsetInterval(function() {\r\n\t\t\tvar _scrollTop = window.scrollY;\r\n\t\t\tif (scrollTop !== _scrollTop) {\r\n\t\t\t\tlocalStorage.setItem(key, _scrollTop + '');\r\n\t\t\t\tscrollTop = _scrollTop;\r\n\t\t\t}\r\n\t\t}, 100);\r\n\t};\r\n\t$(function() {\r\n\t\tvar classList = document.body.classList;\r\n\t\tvar os = [];\r\n\t\tif ($.os.ios) {\r\n\t\t\tos.push({\r\n\t\t\t\tos: 'ios',\r\n\t\t\t\tversion: $.os.version\r\n\t\t\t});\r\n\t\t\tclassList.add('mui-ios');\r\n\t\t} else if ($.os.android) {\r\n\t\t\tos.push({\r\n\t\t\t\tos: 'android',\r\n\t\t\t\tversion: $.os.version\r\n\t\t\t});\r\n\t\t\tclassList.add('mui-android');\r\n\t\t}\r\n\t\tif ($.os.wechat) {\r\n\t\t\tos.push({\r\n\t\t\t\tos: 'wechat',\r\n\t\t\t\tversion: $.os.wechat.version\r\n\t\t\t});\r\n\t\t\tclassList.add('mui-wechat');\r\n\t\t}\r\n\t\tif (os.length) {\r\n\t\t\t$.each(os, function(index, osObj) {\r\n\t\t\t\tvar version = '';\r\n\t\t\t\tvar classArray = [];\r\n\t\t\t\tif (osObj.version) {\r\n\t\t\t\t\t$.each(osObj.version.split('.'), function(i, v) {\r\n\t\t\t\t\t\tversion = version + (version ? '-' : '') + v;\r\n\t\t\t\t\t\tclassList.add($.className(osObj.os + '-' + version));\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\t});\r\n})(mui);\r\n/**\r\n * mui.init 5+\r\n * @param {type} $\r\n * @returns {undefined}\r\n */\r\n(function($) {\r\n\tvar defaultOptions = {\r\n\t\tswipeBack: false,\r\n\t\tpreloadPages: [], //5+ lazyLoad webview\r\n\t\tpreloadLimit: 10, //预加载窗口的数量限制(一旦超出，先进先出)\r\n\t\tkeyEventBind: {\r\n\t\t\tbackbutton: true,\r\n\t\t\tmenubutton: true\r\n\t\t},\r\n\t\ttitleConfig: {\r\n\t\t\theight: \"44px\",\r\n\t\t\tbackgroundColor: \"#f7f7f7\", //导航栏背景色\r\n\t\t\tbottomBorderColor: \"#cccccc\", //底部边线颜色\r\n\t\t\ttitle: { //标题配置\r\n\t\t\t\ttext: \"\", //标题文字\r\n\t\t\t\tposition: {\r\n\t\t\t\t\ttop: 0,\r\n\t\t\t\t\tleft: 0,\r\n\t\t\t\t\twidth: \"100%\",\r\n\t\t\t\t\theight: \"100%\"\r\n\t\t\t\t},\r\n\t\t\t\tstyles: {\r\n\t\t\t\t\tcolor: \"#000000\",\r\n\t\t\t\t\talign: \"center\",\r\n\t\t\t\t\tfamily: \"'Helvetica Neue',Helvetica,sans-serif\",\r\n\t\t\t\t\tsize: \"17px\",\r\n\t\t\t\t\tstyle: \"normal\",\r\n\t\t\t\t\tweight: \"normal\",\r\n\t\t\t\t\tfontSrc: \"\"\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tback: {\r\n\t\t\t\timage: {\r\n\t\t\t\t\tbase64Data: '',\r\n\t\t\t\t\timgSrc: '',\r\n\t\t\t\t\tsprite: {\r\n\t\t\t\t\t\ttop: '0px',\r\n\t\t\t\t\t\tleft: '0px',\r\n\t\t\t\t\t\twidth: '100%',\r\n\t\t\t\t\t\theight: '100%'\r\n\t\t\t\t\t},\r\n\t\t\t\t\tposition: {\r\n\t\t\t\t\t\ttop: \"10px\",\r\n\t\t\t\t\t\tleft: \"10px\",\r\n\t\t\t\t\t\twidth: \"24px\",\r\n\t\t\t\t\t\theight: \"24px\"\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\r\n\t//默认页面动画\r\n\tvar defaultShow = {\r\n\t\tevent:\"titleUpdate\",\r\n\t\tautoShow: true,\r\n\t\tduration: 300,\r\n\t\taniShow: 'slide-in-right',\r\n\t\textras:{}\r\n\t};\r\n\t//若执行了显示动画初始化操作，则要覆盖默认配置\r\n\tif($.options.show) {\r\n\t\tdefaultShow = $.extend(true, defaultShow, $.options.show);\r\n\t}\r\n\r\n\t$.currentWebview = null;\r\n\r\n\t$.extend(true, $.global, defaultOptions);\r\n\t$.extend(true, $.options, defaultOptions);\r\n\t/**\r\n\t * 等待动画配置\r\n\t * @param {type} options\r\n\t * @returns {Object}\r\n\t */\r\n\t$.waitingOptions = function(options) {\r\n\t\treturn $.extend(true, {}, {\r\n\t\t\tautoShow: true,\r\n\t\t\ttitle: '',\r\n\t\t\tmodal: false\r\n\t\t}, options);\r\n\t};\r\n\t/**\r\n\t * 窗口显示配置\r\n\t * @param {type} options\r\n\t * @returns {Object}\r\n\t */\r\n\t$.showOptions = function(options) {\r\n\t\treturn $.extend(true, {}, defaultShow, options);\r\n\t};\r\n\t/**\r\n\t * 窗口默认配置\r\n\t * @param {type} options\r\n\t * @returns {Object}\r\n\t */\r\n\t$.windowOptions = function(options) {\r\n\t\treturn $.extend({\r\n\t\t\tscalable: false,\r\n\t\t\tbounce: \"\" //vertical\r\n\t\t}, options);\r\n\t};\r\n\t/**\r\n\t * plusReady\r\n\t * @param {type} callback\r\n\t * @returns {_L6.$}\r\n\t */\r\n\t$.plusReady = function(callback) {\r\n\t\tif(window.plus) {\r\n\t\t\tsetTimeout(function() { //解决callback与plusready事件的执行时机问题(典型案例:showWaiting,closeWaiting)\r\n\t\t\t\tcallback();\r\n\t\t\t}, 0);\r\n\t\t} else {\r\n\t\t\tdocument.addEventListener(\"plusready\", function() {\r\n\t\t\t\tcallback();\r\n\t\t\t}, false);\r\n\t\t}\r\n\t\treturn this;\r\n\t};\r\n\t/**\r\n\t * 5+ event(5+没提供之前我自己实现)\r\n\t * @param {type} webview\r\n\t * @param {type} eventType\r\n\t * @param {type} data\r\n\t * @returns {undefined}\r\n\t */\r\n\t$.fire = function(webview, eventType, data) {\r\n\t\tif(webview) {\r\n\t\t\tif(typeof data === 'undefined') {\r\n\t\t\t\tdata = '';\r\n\t\t\t} else if(typeof data === 'boolean' || typeof data === 'number') {\r\n\t\t\t\twebview.evalJS(\"typeof mui!=='undefined'&&mui.receive('\" + eventType + \"',\" + data + \")\");\r\n\t\t\t\treturn;\r\n\t\t\t} else if($.isPlainObject(data) || $.isArray(data)) {\r\n\t\t\t\tdata = JSON.stringify(data || {}).replace(/\\'/g, \"\\\\u0027\").replace(/\\\\/g, \"\\\\u005c\");\r\n\t\t\t}\r\n\t\t\twebview.evalJS(\"typeof mui!=='undefined'&&mui.receive('\" + eventType + \"','\" + data + \"')\");\r\n\t\t}\r\n\t};\r\n\t/**\r\n\t * 5+ event(5+没提供之前我自己实现)\r\n\t * @param {type} eventType\r\n\t * @param {type} data\r\n\t * @returns {undefined}\r\n\t */\r\n\t$.receive = function(eventType, data) {\r\n\t\tif(eventType) {\r\n\t\t\ttry {\r\n\t\t\t\tif(data && typeof data === 'string') {\r\n\t\t\t\t\tdata = JSON.parse(data);\r\n\t\t\t\t}\r\n\t\t\t} catch(e) {}\r\n\t\t\t$.trigger(document, eventType, data);\r\n\t\t}\r\n\t};\r\n\tvar triggerPreload = function(webview) {\r\n\t\tif(!webview.preloaded) { //保证仅触发一次\r\n\t\t\t$.fire(webview, 'preload');\r\n\t\t\tvar list = webview.children();\r\n\t\t\tfor(var i = 0; i < list.length; i++) {\r\n\t\t\t\t$.fire(list[i], 'preload');\r\n\t\t\t}\r\n\t\t\twebview.preloaded = true;\r\n\t\t}\r\n\t};\r\n\tvar trigger = function(webview, eventType, timeChecked) {\r\n\t\tif(timeChecked) {\r\n\t\t\tif(!webview[eventType + 'ed']) {\r\n\t\t\t\t$.fire(webview, eventType);\r\n\t\t\t\tvar list = webview.children();\r\n\t\t\t\tfor(var i = 0; i < list.length; i++) {\r\n\t\t\t\t\t$.fire(list[i], eventType);\r\n\t\t\t\t}\r\n\t\t\t\twebview[eventType + 'ed'] = true;\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\t$.fire(webview, eventType);\r\n\t\t\tvar list = webview.children();\r\n\t\t\tfor(var i = 0; i < list.length; i++) {\r\n\t\t\t\t$.fire(list[i], eventType);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t};\r\n\t/**\r\n\t * 打开新窗口\r\n\t * @param {string} url 要打开的页面地址\r\n\t * @param {string} id 指定页面ID\r\n\t * @param {object} options 可选:参数,等待,窗口,显示配置{params:{},waiting:{},styles:{},show:{}}\r\n\t */\r\n\t$.openWindow = function(url, id, options) {\r\n\t\tif(typeof url === 'object') {\r\n\t\t\toptions = url;\r\n\t\t\turl = options.url;\r\n\t\t\tid = options.id || url;\r\n\t\t} else {\r\n\t\t\tif(typeof id === 'object') {\r\n\t\t\t\toptions = id;\r\n\t\t\t\tid = options.id || url;\r\n\t\t\t} else {\r\n\t\t\t\tid = id || url;\r\n\t\t\t}\r\n\t\t}\r\n\t\tif(!$.os.plus) {\r\n\t\t\t//TODO 先临时这么处理：手机上顶层跳，PC上parent跳\r\n\t\t\tif($.os.ios || $.os.android) {\r\n\t\t\t\twindow.top.location.href = url;\r\n\t\t\t} else {\r\n\t\t\t\twindow.parent.location.href = url;\r\n\t\t\t}\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tif(!window.plus) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\toptions = options || {};\r\n\t\tvar params = options.params || {};\r\n\t\tvar webview = null,\r\n\t\t\twebviewCache = null,\r\n\t\t\tnShow, nWaiting;\r\n\r\n\t\tif($.webviews[id]) {\r\n\t\t\twebviewCache = $.webviews[id];\r\n\t\t\t//webview真实存在，才能获取\r\n\t\t\tif(plus.webview.getWebviewById(id)) {\r\n\t\t\t\twebview = webviewCache.webview;\r\n\t\t\t}\r\n\t\t} else if(options.createNew !== true) {\r\n\t\t\twebview = plus.webview.getWebviewById(id);\r\n\t\t}\r\n\r\n\t\tif(webview) { //已缓存\r\n\t\t\t//每次show都需要传递动画参数；\r\n\t\t\t//预加载的动画参数优先级：openWindow配置>preloadPages配置>mui默认配置；\r\n\t\t\tnShow = webviewCache ? webviewCache.show : defaultShow;\r\n\t\t\tnShow = options.show ? $.extend(nShow, options.show) : nShow;\r\n\t\t\tnShow.autoShow && webview.show(nShow.aniShow, nShow.duration, function() {\r\n\t\t\t\ttriggerPreload(webview);\r\n\t\t\t\ttrigger(webview, 'pagebeforeshow', false);\r\n\t\t\t});\r\n\t\t\tif(webviewCache) {\r\n\t\t\t\twebviewCache.afterShowMethodName && webview.evalJS(webviewCache.afterShowMethodName + '(\\'' + JSON.stringify(params) + '\\')');\r\n\t\t\t}\r\n\t\t\treturn webview;\r\n\t\t} else { //新窗口\r\n\t\t\tif(!url) {\r\n\t\t\t\tthrow new Error('webview[' + id + '] does not exist');\r\n\t\t\t}\r\n\r\n\t\t\t//显示waiting\r\n\t\t\tvar waitingConfig = $.waitingOptions(options.waiting);\r\n\t\t\tif(waitingConfig.autoShow) {\r\n\t\t\t\tnWaiting = plus.nativeUI.showWaiting(waitingConfig.title, waitingConfig.options);\r\n\t\t\t}\r\n\r\n\t\t\t//创建页面\r\n\t\t\toptions = $.extend(options, {\r\n\t\t\t\tid: id,\r\n\t\t\t\turl: url\r\n\t\t\t});\r\n\r\n\t\t\twebview = $.createWindow(options);\r\n\r\n\t\t\t//显示\r\n\t\t\tnShow = $.showOptions(options.show);\r\n\t\t\tif(nShow.autoShow) {\r\n\t\t\t\tvar showWebview = function() {\r\n\t\t\t\t\t//关闭等待框\r\n\t\t\t\t\tif(nWaiting) {\r\n\t\t\t\t\t\tnWaiting.close();\r\n\t\t\t\t\t}\r\n\t\t\t\t\t//显示页面\r\n\t\t\t\t\twebview.show(nShow.aniShow, nShow.duration, function() {},nShow.extras);\r\n\t\t\t\t\toptions.afterShowMethodName && webview.evalJS(options.afterShowMethodName + '(\\'' + JSON.stringify(params) + '\\')');\r\n\t\t\t\t};\r\n\t\t\t\t//titleUpdate触发时机早于loaded，更换为titleUpdate后，可以更早的显示webview\r\n\t\t\t\twebview.addEventListener(nShow.event, showWebview, false);\r\n\t\t\t\t//loaded事件发生后，触发预加载和pagebeforeshow事件\r\n\t\t\t\twebview.addEventListener(\"loaded\", function() {\r\n\t\t\t\t\ttriggerPreload(webview);\r\n\t\t\t\t\ttrigger(webview, 'pagebeforeshow', false);\r\n\t\t\t\t}, false);\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn webview;\r\n\t};\r\n\r\n\t$.openWindowWithTitle = function(options, titleConfig) {\r\n\t\toptions = options || {};\r\n\t\tvar url = options.url;\r\n\t\tvar id = options.id || url;\r\n\r\n\t\tif(!$.os.plus) {\r\n\t\t\t//TODO 先临时这么处理：手机上顶层跳，PC上parent跳\r\n\t\t\tif($.os.ios || $.os.android) {\r\n\t\t\t\twindow.top.location.href = url;\r\n\t\t\t} else {\r\n\t\t\t\twindow.parent.location.href = url;\r\n\t\t\t}\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tif(!window.plus) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tvar params = options.params || {};\r\n\t\tvar webview = null,\r\n\t\t\twebviewCache = null,\r\n\t\t\tnShow, nWaiting;\r\n\r\n\t\tif($.webviews[id]) {\r\n\t\t\twebviewCache = $.webviews[id];\r\n\t\t\t//webview真实存在，才能获取\r\n\t\t\tif(plus.webview.getWebviewById(id)) {\r\n\t\t\t\twebview = webviewCache.webview;\r\n\t\t\t}\r\n\t\t} else if(options.createNew !== true) {\r\n\t\t\twebview = plus.webview.getWebviewById(id);\r\n\t\t}\r\n\r\n\t\tif(webview) { //已缓存\r\n\t\t\t//每次show都需要传递动画参数；\r\n\t\t\t//预加载的动画参数优先级：openWindow配置>preloadPages配置>mui默认配置；\r\n\t\t\tnShow = webviewCache ? webviewCache.show : defaultShow;\r\n\t\t\tnShow = options.show ? $.extend(nShow, options.show) : nShow;\r\n\t\t\tnShow.autoShow && webview.show(nShow.aniShow, nShow.duration, function() {\r\n\t\t\t\ttriggerPreload(webview);\r\n\t\t\t\ttrigger(webview, 'pagebeforeshow', false);\r\n\t\t\t});\r\n\t\t\tif(webviewCache) {\r\n\t\t\t\twebviewCache.afterShowMethodName && webview.evalJS(webviewCache.afterShowMethodName + '(\\'' + JSON.stringify(params) + '\\')');\r\n\t\t\t}\r\n\t\t\treturn webview;\r\n\t\t} else { //新窗口\r\n\t\t\tif(!url) {\r\n\t\t\t\tthrow new Error('webview[' + id + '] does not exist');\r\n\t\t\t}\r\n\r\n\t\t\t//显示waiting\r\n\t\t\tvar waitingConfig = $.waitingOptions(options.waiting);\r\n\t\t\tif(waitingConfig.autoShow) {\r\n\t\t\t\tnWaiting = plus.nativeUI.showWaiting(waitingConfig.title, waitingConfig.options);\r\n\t\t\t}\r\n\r\n\t\t\t//创建页面\r\n\t\t\toptions = $.extend(options, {\r\n\t\t\t\tid: id,\r\n\t\t\t\turl: url\r\n\t\t\t});\r\n\r\n\t\t\twebview = $.createWindow(options);\r\n\r\n\t\t\tif(titleConfig) { //处理原生头\r\n\t\t\t\t$.extend(true, $.options.titleConfig, titleConfig);\r\n\t\t\t\tvar tid = $.options.titleConfig.id ? $.options.titleConfig.id : id + \"_title\";\r\n\t\t\t\tvar view = new plus.nativeObj.View(tid, {\r\n\t\t\t\t\ttop: 0,\r\n\t\t\t\t\theight: $.options.titleConfig.height,\r\n\t\t\t\t\twidth: \"100%\",\r\n\t\t\t\t\tdock: \"top\",\r\n\t\t\t\t\tposition: \"dock\"\r\n\t\t\t\t});\r\n\t\t\t\tview.drawRect($.options.titleConfig.backgroundColor); //绘制背景色\r\n\t\t\t\tvar _b = parseInt($.options.titleConfig.height) - 1;\r\n\t\t\t\tview.drawRect($.options.titleConfig.bottomBorderColor, {\r\n\t\t\t\t\ttop: _b + \"px\",\r\n\t\t\t\t\tleft: \"0px\"\r\n\t\t\t\t}); //绘制底部边线\r\n\r\n\t\t\t\t//绘制文字\r\n\t\t\t\tif($.options.titleConfig.title.text){\r\n\t\t\t\t\tvar _title = $.options.titleConfig.title;\r\n\t\t\t\t\tview.drawText(_title.text,_title.position , _title.styles);\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\t//返回图标绘制\r\n\t\t\t\tvar _back = $.options.titleConfig.back;\r\n\t\t\t\tvar backClick = null;\r\n\t\t\t\t//优先字体\r\n\r\n\t\t\t\t//其次是图片\r\n\t\t\t\tvar _backImage = _back.image;\r\n\t\t\t\tif(_backImage.base64Data || _backImage.imgSrc) {\r\n\t\t\t\t\t//TODO 此处需要处理百分比的情况\r\n\t\t\t\t\tbackClick = {\r\n\t\t\t\t\t\tleft:parseInt(_backImage.position.left),\r\n\t\t\t\t\t\tright:parseInt(_backImage.position.left) + parseInt(_backImage.position.width)\r\n\t\t\t\t\t};\r\n\t\t\t\t\tvar bitmap = new plus.nativeObj.Bitmap(id + \"_back\");\r\n\t\t\t\t\tif(_backImage.base64Data) { //优先base64编码字符串\r\n\t\t\t\t\t\tbitmap.loadBase64Data(_backImage.base64Data);\r\n\t\t\t\t\t} else { //其次加载图片文件\r\n\t\t\t\t\t\tbitmap.load(_backImage.imgSrc);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tview.drawBitmap(bitmap,_backImage.sprite , _backImage.position);\r\n\t\t\t\t}\r\n\r\n\t\t\t\t//处理点击事件\r\n\t\t\t\tview.setTouchEventRect({\r\n\t\t\t\t\ttop: \"0px\",\r\n\t\t\t\t\tleft: \"0px\",\r\n\t\t\t\t\twidth: \"100%\",\r\n\t\t\t\t\theight: \"100%\"\r\n\t\t\t\t});\r\n\t\t\t\tview.interceptTouchEvent(true);\r\n\t\t\t\tview.addEventListener(\"click\", function(e) {\r\n\t\t\t\t\tvar x = e.clientX;\r\n\t\t\t\t\t\r\n\t\t\t\t\t//返回按钮点击\r\n\t\t\t\t\tif(backClick&& x > backClick.left && x < backClick.right){\r\n\t\t\t\t\t\tif( _back.click && $.isFunction(_back.click)){\r\n\t\t\t\t\t\t\t_back.click();\r\n\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\twebview.evalJS(\"window.mui&&mui.back();\");\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}, false);\r\n\t\t\t\twebview.append(view);\r\n\r\n\t\t\t}\r\n\r\n\t\t\t//显示\r\n\t\t\tnShow = $.showOptions(options.show);\r\n\t\t\tif(nShow.autoShow) {\r\n\t\t\t\t//titleUpdate触发时机早于loaded，更换为titleUpdate后，可以更早的显示webview\r\n\t\t\t\twebview.addEventListener(nShow.event, function () {\r\n\t\t\t\t\t//关闭等待框\r\n\t\t\t\t\tif(nWaiting) {\r\n\t\t\t\t\t\tnWaiting.close();\r\n\t\t\t\t\t}\r\n\t\t\t\t\t//显示页面\r\n\t\t\t\t\twebview.show(nShow.aniShow, nShow.duration, function() {},nShow.extras);\r\n\t\t\t\t}, false);\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn webview;\r\n\t};\r\n\r\n\t/**\r\n\t * 根据配置信息创建一个webview\r\n\t * @param {type} options\r\n\t * @param {type} isCreate\r\n\t * @returns {webview}\r\n\t */\r\n\t$.createWindow = function(options, isCreate) {\r\n\t\tif(!window.plus) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tvar id = options.id || options.url;\r\n\t\tvar webview;\r\n\t\tif(options.preload) {\r\n\t\t\tif($.webviews[id] && $.webviews[id].webview.getURL()) { //已经cache\r\n\t\t\t\twebview = $.webviews[id].webview;\r\n\t\t\t} else { //新增预加载窗口\r\n\t\t\t\t//判断是否携带createNew参数，默认为false\r\n\t\t\t\tif(options.createNew !== true) {\r\n\t\t\t\t\twebview = plus.webview.getWebviewById(id);\r\n\t\t\t\t}\r\n\r\n\t\t\t\t//之前没有，那就新创建\t\r\n\t\t\t\tif(!webview) {\r\n\t\t\t\t\twebview = plus.webview.create(options.url, id, $.windowOptions(options.styles), $.extend({\r\n\t\t\t\t\t\tpreload: true\r\n\t\t\t\t\t}, options.extras));\r\n\t\t\t\t\tif(options.subpages) {\r\n\t\t\t\t\t\t$.each(options.subpages, function(index, subpage) {\r\n\t\t\t\t\t\t\tvar subpageId = subpage.id || subpage.url;\r\n\t\t\t\t\t\t\tif(subpageId) { //过滤空对象\r\n\t\t\t\t\t\t\t\tvar subWebview = plus.webview.getWebviewById(subpageId);\r\n\t\t\t\t\t\t\t\tif(!subWebview) { //如果该webview不存在，则创建\r\n\t\t\t\t\t\t\t\t\tsubWebview = plus.webview.create(subpage.url, subpageId, $.windowOptions(subpage.styles), $.extend({\r\n\t\t\t\t\t\t\t\t\t\tpreload: true\r\n\t\t\t\t\t\t\t\t\t}, subpage.extras));\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\twebview.append(subWebview);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t//TODO 理论上，子webview也应该计算到预加载队列中，但这样就麻烦了，要退必须退整体，否则可能出现问题；\r\n\t\t\t$.webviews[id] = {\r\n\t\t\t\twebview: webview, //目前仅preload的缓存webview\r\n\t\t\t\tpreload: true,\r\n\t\t\t\tshow: $.showOptions(options.show),\r\n\t\t\t\tafterShowMethodName: options.afterShowMethodName //就不应该用evalJS。应该是通过事件消息通讯\r\n\t\t\t};\r\n\t\t\t//索引该预加载窗口\r\n\t\t\tvar preloads = $.data.preloads;\r\n\t\t\tvar index = preloads.indexOf(id);\r\n\t\t\tif(~index) { //删除已存在的(变相调整插入位置)\r\n\t\t\t\tpreloads.splice(index, 1);\r\n\t\t\t}\r\n\t\t\tpreloads.push(id);\r\n\t\t\tif(preloads.length > $.options.preloadLimit) {\r\n\t\t\t\t//先进先出\r\n\t\t\t\tvar first = $.data.preloads.shift();\r\n\t\t\t\tvar webviewCache = $.webviews[first];\r\n\t\t\t\tif(webviewCache && webviewCache.webview) {\r\n\t\t\t\t\t//需要将自己打开的所有页面，全部close；\r\n\t\t\t\t\t//关闭该预加载webview\t\r\n\t\t\t\t\t$.closeAll(webviewCache.webview);\r\n\t\t\t\t}\r\n\t\t\t\t//删除缓存\r\n\t\t\t\tdelete $.webviews[first];\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tif(isCreate !== false) { //直接创建非预加载窗口\r\n\t\t\t\twebview = plus.webview.create(options.url, id, $.windowOptions(options.styles), options.extras);\r\n\t\t\t\tif(options.subpages) {\r\n\t\t\t\t\t$.each(options.subpages, function(index, subpage) {\r\n\t\t\t\t\t\tvar subpageId = subpage.id || subpage.url;\r\n\t\t\t\t\t\tvar subWebview = plus.webview.getWebviewById(subpageId);\r\n\t\t\t\t\t\tif(!subWebview) {\r\n\t\t\t\t\t\t\tsubWebview = plus.webview.create(subpage.url, subpageId, $.windowOptions(subpage.styles), subpage.extras);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\twebview.append(subWebview);\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn webview;\r\n\t};\r\n\r\n\t/**\r\n\t * 预加载\r\n\t */\r\n\t$.preload = function(options) {\r\n\t\t//调用预加载函数，不管是否传递preload参数，强制变为true\r\n\t\tif(!options.preload) {\r\n\t\t\toptions.preload = true;\r\n\t\t}\r\n\t\treturn $.createWindow(options);\r\n\t};\r\n\r\n\t/**\r\n\t *关闭当前webview打开的所有webview；\r\n\t */\r\n\t$.closeOpened = function(webview) {\r\n\t\tvar opened = webview.opened();\r\n\t\tif(opened) {\r\n\t\t\tfor(var i = 0, len = opened.length; i < len; i++) {\r\n\t\t\t\tvar openedWebview = opened[i];\r\n\t\t\t\tvar open_open = openedWebview.opened();\r\n\t\t\t\tif(open_open && open_open.length > 0) {\r\n\t\t\t\t\t//关闭打开的webview\r\n\t\t\t\t\t$.closeOpened(openedWebview);\r\n\t\t\t\t\t//关闭自己\r\n\t\t\t\t\topenedWebview.close(\"none\");\r\n\t\t\t\t} else {\r\n\t\t\t\t\t//如果直接孩子节点，就不用关闭了，因为父关闭的时候，会自动关闭子；\r\n\t\t\t\t\tif(openedWebview.parent() !== webview) {\r\n\t\t\t\t\t\topenedWebview.close('none');\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\t$.closeAll = function(webview, aniShow) {\r\n\t\t$.closeOpened(webview);\r\n\t\tif(aniShow) {\r\n\t\t\twebview.close(aniShow);\r\n\t\t} else {\r\n\t\t\twebview.close();\r\n\t\t}\r\n\t};\r\n\r\n\t/**\r\n\t * 批量创建webview\r\n\t * @param {type} options\r\n\t * @returns {undefined}\r\n\t */\r\n\t$.createWindows = function(options) {\r\n\t\t$.each(options, function(index, option) {\r\n\t\t\t//初始化预加载窗口(创建)和非预加载窗口(仅配置，不创建)\r\n\t\t\t$.createWindow(option, false);\r\n\t\t});\r\n\t};\r\n\t/**\r\n\t * 创建当前页面的子webview\r\n\t * @param {type} options\r\n\t * @returns {webview}\r\n\t */\r\n\t$.appendWebview = function(options) {\r\n\t\tif(!window.plus) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tvar id = options.id || options.url;\r\n\t\tvar webview;\r\n\t\tif(!$.webviews[id]) { //保证执行一遍\r\n\t\t\t//TODO 这里也有隐患，比如某个webview不是作为subpage创建的，而是作为target webview的话；\r\n\t\t\tif(!plus.webview.getWebviewById(id)) {\r\n\t\t\t\twebview = plus.webview.create(options.url, id, options.styles, options.extras);\r\n\t\t\t}\r\n\t\t\t//之前的实现方案：子窗口loaded之后再append到父窗口中；\r\n\t\t\t//问题：部分子窗口loaded事件发生较晚，此时执行父窗口的children方法会返回空，导致父子通讯失败；\r\n\t\t\t//     比如父页面执行完preload事件后，需触发子页面的preload事件，此时未append的话，就无法触发；\r\n\t\t\t//修改方式：不再监控loaded事件，直接append\r\n\t\t\t//by chb@20150521\r\n\t\t\t// webview.addEventListener('loaded', function() {\r\n\t\t\tplus.webview.currentWebview().append(webview);\r\n\t\t\t// });\r\n\t\t\t$.webviews[id] = options;\r\n\r\n\t\t}\r\n\t\treturn webview;\r\n\t};\r\n\r\n\t//全局webviews\r\n\t$.webviews = {};\r\n\t//预加载窗口索引\r\n\t$.data.preloads = [];\r\n\t//$.currentWebview\r\n\t$.plusReady(function() {\r\n\t\t$.currentWebview = plus.webview.currentWebview();\r\n\t});\r\n\t$.addInit({\r\n\t\tname: '5+',\r\n\t\tindex: 100,\r\n\t\thandle: function() {\r\n\t\t\tvar options = $.options;\r\n\t\t\tvar subpages = options.subpages || [];\r\n\t\t\tif($.os.plus) {\r\n\t\t\t\t$.plusReady(function() {\r\n\t\t\t\t\t//TODO  这里需要判断一下，最好等子窗口加载完毕后，再调用主窗口的show方法；\r\n\t\t\t\t\t//或者：在openwindow方法中，监听实现；\r\n\t\t\t\t\t$.each(subpages, function(index, subpage) {\r\n\t\t\t\t\t\t$.appendWebview(subpage);\r\n\t\t\t\t\t});\r\n\t\t\t\t\t//判断是否首页\r\n\t\t\t\t\tif(plus.webview.currentWebview() === plus.webview.getWebviewById(plus.runtime.appid)) {\r\n\t\t\t\t\t\t//首页需要自己激活预加载；\r\n\t\t\t\t\t\t//timeout因为子页面loaded之后才append的，防止子页面尚未append、从而导致其preload未触发的问题；\r\n\t\t\t\t\t\tsetTimeout(function() {\r\n\t\t\t\t\t\t\ttriggerPreload(plus.webview.currentWebview());\r\n\t\t\t\t\t\t}, 300);\r\n\t\t\t\t\t}\r\n\t\t\t\t\t//设置ios顶部状态栏颜色；\r\n\t\t\t\t\tif($.os.ios && $.options.statusBarBackground) {\r\n\t\t\t\t\t\tplus.navigator.setStatusBarBackground($.options.statusBarBackground);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif($.os.android && parseFloat($.os.version) < 4.4) {\r\n\t\t\t\t\t\t//解决Android平台4.4版本以下，resume后，父窗体标题延迟渲染的问题；\r\n\t\t\t\t\t\tif(plus.webview.currentWebview().parent() == null) {\r\n\t\t\t\t\t\t\tdocument.addEventListener(\"resume\", function() {\r\n\t\t\t\t\t\t\t\tvar body = document.body;\r\n\t\t\t\t\t\t\t\tbody.style.display = 'none';\r\n\t\t\t\t\t\t\t\tsetTimeout(function() {\r\n\t\t\t\t\t\t\t\t\tbody.style.display = '';\r\n\t\t\t\t\t\t\t\t}, 10);\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t} else {\r\n\t\t\t\t//已支持iframe嵌入\r\n\t\t\t\t//\t\t\t\tif (subpages.length > 0) {\r\n\t\t\t\t//\t\t\t\t\tvar err = document.createElement('div');\r\n\t\t\t\t//\t\t\t\t\terr.className = 'mui-error';\r\n\t\t\t\t//\t\t\t\t\t//文字描述\r\n\t\t\t\t//\t\t\t\t\tvar span = document.createElement('span');\r\n\t\t\t\t//\t\t\t\t\tspan.innerHTML = '在该浏览器下，不支持创建子页面，具体参考';\r\n\t\t\t\t//\t\t\t\t\terr.appendChild(span);\r\n\t\t\t\t//\t\t\t\t\tvar a = document.createElement('a');\r\n\t\t\t\t//\t\t\t\t\ta.innerHTML = '\"mui框架适用场景\"';\r\n\t\t\t\t//\t\t\t\t\ta.href = 'http://ask.dcloud.net.cn/article/113';\r\n\t\t\t\t//\t\t\t\t\terr.appendChild(a);\r\n\t\t\t\t//\t\t\t\t\tdocument.body.appendChild(err);\r\n\t\t\t\t//\t\t\t\t\tconsole.log('在该浏览器下，不支持创建子页面');\r\n\t\t\t\t//\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\t});\r\n\twindow.addEventListener('preload', function() {\r\n\t\t//处理预加载部分\r\n\t\tvar webviews = $.options.preloadPages || [];\r\n\t\t$.plusReady(function() {\r\n\t\t\t$.each(webviews, function(index, webview) {\r\n\t\t\t\t$.createWindow($.extend(webview, {\r\n\t\t\t\t\tpreload: true\r\n\t\t\t\t}));\r\n\t\t\t});\r\n\r\n\t\t});\r\n\t});\r\n\t$.supportStatusbarOffset = function() {\r\n\t\treturn $.os.plus && $.os.ios && parseFloat($.os.version) >= 7;\r\n\t};\r\n\t$.ready(function() {\r\n\t\t//标识当前环境支持statusbar\r\n\t\tif($.supportStatusbarOffset()) {\r\n\t\t\tdocument.body.classList.add('mui-statusbar');\r\n\t\t}\r\n\t});\r\n})(mui);\r\n\r\n/**\r\n * mui back\r\n * @param {type} $\r\n * @param {type} window\r\n * @returns {undefined}\r\n */\r\n(function($, window) {\r\n\t/**\r\n\t * register back\r\n\t * @param {type} back\r\n\t * @returns {$.gestures}\r\n\t */\r\n\t$.addBack = function(back) {\r\n\t\treturn $.addAction('backs', back);\r\n\t};\r\n\t/**\r\n\t * default\r\n\t */\r\n\t$.addBack({\r\n\t\tname: 'browser',\r\n\t\tindex: 100,\r\n\t\thandle: function() {\r\n\t\t\tif (window.history.length > 1) {\r\n\t\t\t\twindow.history.back();\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\t\t\treturn false;\r\n\t\t}\r\n\t});\r\n\t/**\r\n\t * 后退\r\n\t */\r\n\t$.back = function() {\r\n\t\tif (typeof $.options.beforeback === 'function') {\r\n\t\t\tif ($.options.beforeback() === false) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t}\r\n\t\t$.doAction('backs');\r\n\t};\r\n\twindow.addEventListener('tap', function(e) {\r\n\t\tvar action = $.targets.action;\r\n\t\tif (action && action.classList.contains('mui-action-back')) {\r\n\t\t\t$.back();\r\n\t\t\t$.targets.action = false;\r\n\t\t}\r\n\t});\r\n\twindow.addEventListener('swiperight', function(e) {\r\n\t\tvar detail = e.detail;\r\n\t\tif ($.options.swipeBack === true && Math.abs(detail.angle) < 3) {\r\n\t\t\t$.back();\r\n\t\t}\r\n\t});\r\n\r\n})(mui, window);\r\n/**\r\n * mui back 5+\r\n * @param {type} $\r\n * @param {type} window\r\n * @returns {undefined}\r\n */\r\n(function($, window) {\r\n\tif ($.os.plus && $.os.android) {\r\n\t\t$.addBack({\r\n\t\t\tname: 'mui',\r\n\t\t\tindex: 5,\r\n\t\t\thandle: function() {\r\n\t\t\t\t//后续重新设计此处，将back放到各个空间内部实现\r\n\t\t\t\t//popover\r\n\t\t\t\tif ($.targets._popover && $.targets._popover.classList.contains('mui-active')) {\r\n\t\t\t\t\t$($.targets._popover).popover('hide');\r\n\t\t\t\t\treturn true;\r\n\t\t\t\t}\r\n\t\t\t\t//offcanvas\r\n\t\t\t\tvar offCanvas = document.querySelector('.mui-off-canvas-wrap.mui-active');\r\n\t\t\t\tif (offCanvas) {\r\n\t\t\t\t\t$(offCanvas).offCanvas('close');\r\n\t\t\t\t\treturn true;\r\n\t\t\t\t}\r\n\t\t\t\tvar previewImage = $.isFunction($.getPreviewImage) && $.getPreviewImage();\r\n\t\t\t\tif (previewImage && previewImage.isShown()) {\r\n\t\t\t\t\tpreviewImage.close();\r\n\t\t\t\t\treturn true;\r\n\t\t\t\t}\r\n\t\t\t\t//popup\r\n\t\t\t\treturn $.closePopup();\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\t//首次按下back按键的时间\r\n\t$.__back__first = null;\r\n\t/**\r\n\t * 5+ back\r\n\t */\r\n\t$.addBack({\r\n\t\tname: '5+',\r\n\t\tindex: 10,\r\n\t\thandle: function() {\r\n\t\t\tif (!window.plus) {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t\tvar wobj = plus.webview.currentWebview();\r\n\t\t\tvar parent = wobj.parent();\r\n\t\t\tif (parent) {\r\n\t\t\t\tparent.evalJS('mui&&mui.back();');\r\n\t\t\t} else {\r\n\t\t\t\twobj.canBack(function(e) {\r\n\t\t\t\t\t//by chb 暂时注释，在碰到类似popover之类的锚点的时候，需多次点击才能返回；\r\n\t\t\t\t\tif (e.canBack) { //webview history back\r\n\t\t\t\t\t\twindow.history.back();\r\n\t\t\t\t\t} else { //webview close or hide\r\n\t\t\t\t\t\t//fixed by fxy 此处不应该用opener判断，因为用户有可能自己close掉当前窗口的opener。这样的话。opener就为空了，导致不能执行close\r\n\t\t\t\t\t\tif (wobj.id === plus.runtime.appid) { //首页\r\n\t\t\t\t\t\t\t//首页不存在opener的情况下，后退实际上应该是退出应用；\r\n\t\t\t\t\t\t\t//首次按键，提示‘再按一次退出应用’\r\n\t\t\t\t\t\t\tif (!$.__back__first) {\r\n\t\t\t\t\t\t\t\t$.__back__first = new Date().getTime();\r\n\t\t\t\t\t\t\t\tmui.toast('再按一次退出应用');\r\n\t\t\t\t\t\t\t\tsetTimeout(function() {\r\n\t\t\t\t\t\t\t\t\t$.__back__first = null;\r\n\t\t\t\t\t\t\t\t}, 2000);\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tif (new Date().getTime() - $.__back__first < 2000) {\r\n\t\t\t\t\t\t\t\t\tplus.runtime.quit();\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t} else { //其他页面，\r\n\t\t\t\t\t\t\tif (wobj.preload) {\r\n\t\t\t\t\t\t\t\twobj.hide(\"auto\");\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t//关闭页面时，需要将其打开的所有子页面全部关闭；\r\n\t\t\t\t\t\t\t\t$.closeAll(wobj);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t\treturn true;\r\n\t\t}\r\n\t});\r\n\r\n\r\n\t$.menu = function() {\r\n\t\tvar menu = document.querySelector('.mui-action-menu');\r\n\t\tif (menu) {\r\n\t\t\t$.trigger(menu, $.EVENT_START); //临时处理menu无touchstart的话，找不到当前targets的问题\r\n\t\t\t$.trigger(menu, 'tap');\r\n\t\t} else { //执行父窗口的menu\r\n\t\t\tif (window.plus) {\r\n\t\t\t\tvar wobj = $.currentWebview;\r\n\t\t\t\tvar parent = wobj.parent();\r\n\t\t\t\tif (parent) { //又得evalJS\r\n\t\t\t\t\tparent.evalJS('mui&&mui.menu();');\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\tvar __back = function() {\r\n\t\t$.back();\r\n\t};\r\n\tvar __menu = function() {\r\n\t\t$.menu();\r\n\t};\r\n\t//默认监听\r\n\t$.plusReady(function() {\r\n\t\tif ($.options.keyEventBind.backbutton) {\r\n\t\t\tplus.key.addEventListener('backbutton', __back, false);\r\n\t\t}\r\n\t\tif ($.options.keyEventBind.menubutton) {\r\n\t\t\tplus.key.addEventListener('menubutton', __menu, false);\r\n\t\t}\r\n\t});\r\n\t//处理按键监听事件\r\n\t$.addInit({\r\n\t\tname: 'keyEventBind',\r\n\t\tindex: 1000,\r\n\t\thandle: function() {\r\n\t\t\t$.plusReady(function() {\r\n\t\t\t\t//如果不为true，则移除默认监听\r\n\t\t\t\tif (!$.options.keyEventBind.backbutton) {\r\n\t\t\t\t\tplus.key.removeEventListener('backbutton', __back);\r\n\t\t\t\t}\r\n\t\t\t\tif (!$.options.keyEventBind.menubutton) {\r\n\t\t\t\t\tplus.key.removeEventListener('menubutton', __menu);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\t});\r\n})(mui, window);\r\n/**\r\n * mui.init pulldownRefresh\r\n * @param {type} $\r\n * @returns {undefined}\r\n */\r\n(function($) {\r\n\t$.addInit({\r\n\t\tname: 'pullrefresh',\r\n\t\tindex: 1000,\r\n\t\thandle: function() {\r\n\t\t\tvar options = $.options;\r\n\t\t\tvar pullRefreshOptions = options.pullRefresh || {};\r\n\t\t\tvar hasPulldown = pullRefreshOptions.down && pullRefreshOptions.down.hasOwnProperty('callback');\r\n\t\t\tvar hasPullup = pullRefreshOptions.up && pullRefreshOptions.up.hasOwnProperty('callback');\r\n\t\t\tif(hasPulldown || hasPullup) {\r\n\t\t\t\tvar container = pullRefreshOptions.container;\r\n\t\t\t\tif(container) {\r\n\t\t\t\t\tvar $container = $(container);\r\n\t\t\t\t\tif($container.length === 1) {\r\n\t\t\t\t\t\tif($.os.plus) { //5+环境\r\n\t\t\t\t\t\t\tif(hasPulldown && pullRefreshOptions.down.style == \"circle\") { //原生转圈\r\n\t\t\t\t\t\t\t\t$.plusReady(function() {\r\n\t\t\t\t\t\t\t\t\t//这里改写$.fn.pullRefresh\r\n\t\t\t\t\t\t\t\t\t$.fn.pullRefresh = $.fn.pullRefresh_native;\r\n\t\t\t\t\t\t\t\t\t$container.pullRefresh(pullRefreshOptions);\r\n\t\t\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\t\t\t} else if($.os.android) { //非原生转圈，但是Android环境\r\n\t\t\t\t\t\t\t\t$.plusReady(function() {\r\n\t\t\t\t\t\t\t\t\t//这里改写$.fn.pullRefresh\r\n\t\t\t\t\t\t\t\t\t$.fn.pullRefresh = $.fn.pullRefresh_native\r\n\t\t\t\t\t\t\t\t\tvar webview = plus.webview.currentWebview();\r\n\t\t\t\t\t\t\t\t\tif(window.__NWin_Enable__ === false) { //不支持多webview\r\n\t\t\t\t\t\t\t\t\t\t$container.pullRefresh(pullRefreshOptions);\r\n\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\tif(hasPullup) {\r\n\t\t\t\t\t\t\t\t\t\t\t//当前页面初始化pullup\r\n\t\t\t\t\t\t\t\t\t\t\tvar upOptions = {};\r\n\t\t\t\t\t\t\t\t\t\t\tupOptions.up = pullRefreshOptions.up;\r\n\t\t\t\t\t\t\t\t\t\t\tupOptions.webviewId = webview.id || webview.getURL();\r\n\t\t\t\t\t\t\t\t\t\t\t$container.pullRefresh(upOptions);\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\tif(hasPulldown) {\r\n\t\t\t\t\t\t\t\t\t\t\tvar parent = webview.parent();\r\n\t\t\t\t\t\t\t\t\t\t\tvar id = webview.id || webview.getURL();\r\n\t\t\t\t\t\t\t\t\t\t\tif(parent) {\r\n\t\t\t\t\t\t\t\t\t\t\t\tif(!hasPullup) { //如果没有上拉加载，需要手动初始化一个默认的pullRefresh，以便当前页面容器可以调用endPulldownToRefresh等方法\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t$container.pullRefresh({\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\twebviewId: id\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\tvar downOptions = {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\twebviewId: id//子页面id\r\n\t\t\t\t\t\t\t\t\t\t\t\t};\r\n\t\t\t\t\t\t\t\t\t\t\t\tdownOptions.down = $.extend({}, pullRefreshOptions.down);\r\n\t\t\t\t\t\t\t\t\t\t\t\tdownOptions.down.callback = '_CALLBACK';\r\n\t\t\t\t\t\t\t\t\t\t\t\t//改写父页面的$.fn.pullRefresh\r\n\t\t\t\t\t\t\t\t\t\t\t\tparent.evalJS(\"mui.fn.pullRefresh=mui.fn.pullRefresh_native\");\r\n\t\t\t\t\t\t\t\t\t\t\t\t//父页面初始化pulldown\r\n\t\t\t\t\t\t\t\t\t\t\t\tparent.evalJS(\"mui&&mui(document.querySelector('.mui-content')).pullRefresh('\" + JSON.stringify(downOptions) + \"')\");\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t} else { //非原生转圈，iOS环境\r\n\t\t\t\t\t\t\t\t$container.pullRefresh(pullRefreshOptions);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t$container.pullRefresh(pullRefreshOptions);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t});\r\n})(mui);\r\n/**\r\n * mui ajax\r\n * @param {type} $\r\n * @returns {undefined}\r\n */\r\n(function($, window, undefined) {\r\n\r\n\tvar jsonType = 'application/json';\r\n\tvar htmlType = 'text/html';\r\n\tvar rscript = /<script\\b[^<]*(?:(?!<\\/script>)<[^<]*)*<\\/script>/gi;\r\n\tvar scriptTypeRE = /^(?:text|application)\\/javascript/i;\r\n\tvar xmlTypeRE = /^(?:text|application)\\/xml/i;\r\n\tvar blankRE = /^\\s*$/;\r\n\r\n\t$.ajaxSettings = {\r\n\t\ttype: 'GET',\r\n\t\tbeforeSend: $.noop,\r\n\t\tsuccess: $.noop,\r\n\t\terror: $.noop,\r\n\t\tcomplete: $.noop,\r\n\t\tcontext: null,\r\n\t\txhr: function(protocol) {\r\n\t\t\treturn new window.XMLHttpRequest();\r\n\t\t},\r\n\t\taccepts: {\r\n\t\t\tscript: 'text/javascript, application/javascript, application/x-javascript',\r\n\t\t\tjson: jsonType,\r\n\t\t\txml: 'application/xml, text/xml',\r\n\t\t\thtml: htmlType,\r\n\t\t\ttext: 'text/plain'\r\n\t\t},\r\n\t\ttimeout: 0,\r\n\t\tprocessData: true,\r\n\t\tcache: true\r\n\t};\r\n\tvar ajaxBeforeSend = function(xhr, settings) {\r\n\t\tvar context = settings.context\r\n\t\tif(settings.beforeSend.call(context, xhr, settings) === false) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\t};\r\n\tvar ajaxSuccess = function(data, xhr, settings) {\r\n\t\tsettings.success.call(settings.context, data, 'success', xhr);\r\n\t\tajaxComplete('success', xhr, settings);\r\n\t};\r\n\t// type: \"timeout\", \"error\", \"abort\", \"parsererror\"\r\n\tvar ajaxError = function(error, type, xhr, settings) {\r\n\t\tsettings.error.call(settings.context, xhr, type, error);\r\n\t\tajaxComplete(type, xhr, settings);\r\n\t};\r\n\t// status: \"success\", \"notmodified\", \"error\", \"timeout\", \"abort\", \"parsererror\"\r\n\tvar ajaxComplete = function(status, xhr, settings) {\r\n\t\tsettings.complete.call(settings.context, xhr, status);\r\n\t};\r\n\r\n\tvar serialize = function(params, obj, traditional, scope) {\r\n\t\tvar type, array = $.isArray(obj),\r\n\t\t\thash = $.isPlainObject(obj);\r\n\t\t$.each(obj, function(key, value) {\r\n\t\t\ttype = $.type(value);\r\n\t\t\tif(scope) {\r\n\t\t\t\tkey = traditional ? scope :\r\n\t\t\t\t\tscope + '[' + (hash || type === 'object' || type === 'array' ? key : '') + ']';\r\n\t\t\t}\r\n\t\t\t// handle data in serializeArray() format\r\n\t\t\tif(!scope && array) {\r\n\t\t\t\tparams.add(value.name, value.value);\r\n\t\t\t}\r\n\t\t\t// recurse into nested objects\r\n\t\t\telse if(type === \"array\" || (!traditional && type === \"object\")) {\r\n\t\t\t\tserialize(params, value, traditional, key);\r\n\t\t\t} else {\r\n\t\t\t\tparams.add(key, value);\r\n\t\t\t}\r\n\t\t});\r\n\t};\r\n\tvar serializeData = function(options) {\r\n\t\tif(options.processData && options.data && typeof options.data !== \"string\") {\r\n\t\t\tvar contentType = options.contentType;\r\n\t\t\tif(!contentType && options.headers) {\r\n\t\t\t\tcontentType = options.headers['Content-Type'];\r\n\t\t\t}\r\n\t\t\tif(contentType && ~contentType.indexOf(jsonType)) { //application/json\r\n\t\t\t\toptions.data = JSON.stringify(options.data);\r\n\t\t\t} else {\r\n\t\t\t\toptions.data = $.param(options.data, options.traditional);\r\n\t\t\t}\r\n\t\t}\r\n\t\tif(options.data && (!options.type || options.type.toUpperCase() === 'GET')) {\r\n\t\t\toptions.url = appendQuery(options.url, options.data);\r\n\t\t\toptions.data = undefined;\r\n\t\t}\r\n\t};\r\n\tvar appendQuery = function(url, query) {\r\n\t\tif(query === '') {\r\n\t\t\treturn url;\r\n\t\t}\r\n\t\treturn(url + '&' + query).replace(/[&?]{1,2}/, '?');\r\n\t};\r\n\tvar mimeToDataType = function(mime) {\r\n\t\tif(mime) {\r\n\t\t\tmime = mime.split(';', 2)[0];\r\n\t\t}\r\n\t\treturn mime && (mime === htmlType ? 'html' :\r\n\t\t\tmime === jsonType ? 'json' :\r\n\t\t\tscriptTypeRE.test(mime) ? 'script' :\r\n\t\t\txmlTypeRE.test(mime) && 'xml') || 'text';\r\n\t};\r\n\tvar parseArguments = function(url, data, success, dataType) {\r\n\t\tif($.isFunction(data)) {\r\n\t\t\tdataType = success, success = data, data = undefined;\r\n\t\t}\r\n\t\tif(!$.isFunction(success)) {\r\n\t\t\tdataType = success, success = undefined;\r\n\t\t}\r\n\t\treturn {\r\n\t\t\turl: url,\r\n\t\t\tdata: data,\r\n\t\t\tsuccess: success,\r\n\t\t\tdataType: dataType\r\n\t\t};\r\n\t};\r\n\t$.ajax = function(url, options) {\r\n\t\tif(typeof url === \"object\") {\r\n\t\t\toptions = url;\r\n\t\t\turl = undefined;\r\n\t\t}\r\n\t\tvar settings = options || {};\r\n\t\tsettings.url = url || settings.url;\r\n\t\tfor(var key in $.ajaxSettings) {\r\n\t\t\tif(settings[key] === undefined) {\r\n\t\t\t\tsettings[key] = $.ajaxSettings[key];\r\n\t\t\t}\r\n\t\t}\r\n\t\tserializeData(settings);\r\n\t\tvar dataType = settings.dataType;\r\n\r\n\t\tif(settings.cache === false || ((!options || options.cache !== true) && ('script' === dataType))) {\r\n\t\t\tsettings.url = appendQuery(settings.url, '_=' + $.now());\r\n\t\t}\r\n\t\tvar mime = settings.accepts[dataType && dataType.toLowerCase()];\r\n\t\tvar headers = {};\r\n\t\tvar setHeader = function(name, value) {\r\n\t\t\theaders[name.toLowerCase()] = [name, value];\r\n\t\t};\r\n\t\tvar protocol = /^([\\w-]+:)\\/\\//.test(settings.url) ? RegExp.$1 : window.location.protocol;        \r\n\t\tvar xhr = settings.xhr(settings);\r\n        \r\n        if(location.protocol === 'file:' && $.os.ios && window.webkit && window.webkit.messageHandlers && !(xhr instanceof plus.net.XMLHttpRequest)){\r\n            console.error(\"当前运行环境为WKWebview，需在plusReady事件触发后再调用mui.ajax，否则可能会执行失败或报Script error的错误\")\r\n        }\r\n\t\tvar nativeSetHeader = xhr.setRequestHeader;\r\n\t\tvar abortTimeout;\r\n\r\n\t\tsetHeader('X-Requested-With', 'XMLHttpRequest');\r\n\t\tsetHeader('Accept', mime || '*/*');\r\n\t\tif(!!(mime = settings.mimeType || mime)) {\r\n\t\t\tif(mime.indexOf(',') > -1) {\r\n\t\t\t\tmime = mime.split(',', 2)[0];\r\n\t\t\t}\r\n\t\t\txhr.overrideMimeType && xhr.overrideMimeType(mime);\r\n\t\t}\r\n\t\tif(settings.contentType || (settings.contentType !== false && settings.data && settings.type.toUpperCase() !== 'GET')) {\r\n\t\t\tsetHeader('Content-Type', settings.contentType || 'application/x-www-form-urlencoded');\r\n\t\t}\r\n\t\tif(settings.headers) {\r\n\t\t\tfor(var name in settings.headers)\r\n\t\t\t\tsetHeader(name, settings.headers[name]);\r\n\t\t}\r\n\t\txhr.setRequestHeader = setHeader;\r\n\r\n\t\txhr.onreadystatechange = function() {\r\n\t\t\tif(xhr.readyState === 4) {\r\n\t\t\t\txhr.onreadystatechange = $.noop;\r\n\t\t\t\tclearTimeout(abortTimeout);\r\n\t\t\t\tvar result, error = false;\r\n\t\t\t\tvar isLocal = protocol === 'file:';\r\n\t\t\t\tif((xhr.status >= 200 && xhr.status < 300) || xhr.status === 304 || (xhr.status === 0 && isLocal && xhr.responseText)) {\r\n\t\t\t\t\tdataType = dataType || mimeToDataType(settings.mimeType || xhr.getResponseHeader('content-type'));\r\n\t\t\t\t\tresult = xhr.responseText;\r\n\t\t\t\t\ttry {\r\n\t\t\t\t\t\t// http://perfectionkills.com/global-eval-what-are-the-options/\r\n\t\t\t\t\t\tif(dataType === 'script') {\r\n\t\t\t\t\t\t\t(1, eval)(result);\r\n\t\t\t\t\t\t} else if(dataType === 'xml') {\r\n\t\t\t\t\t\t\tresult = xhr.responseXML;\r\n\t\t\t\t\t\t} else if(dataType === 'json') {\r\n\t\t\t\t\t\t\tresult = blankRE.test(result) ? null : $.parseJSON(result);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} catch(e) {\r\n\t\t\t\t\t\terror = e;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif(error) {\r\n\t\t\t\t\t\tajaxError(error, 'parsererror', xhr, settings);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tajaxSuccess(result, xhr, settings);\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\tvar status = xhr.status ? 'error' : 'abort';\r\n\t\t\t\t\tvar statusText = xhr.statusText || null;\r\n\t\t\t\t\tif(isLocal) {\r\n\t\t\t\t\t\tstatus = 'error';\r\n\t\t\t\t\t\tstatusText = '404';\r\n\t\t\t\t\t}\r\n\t\t\t\t\tajaxError(statusText, status, xhr, settings);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t};\r\n\t\tif(ajaxBeforeSend(xhr, settings) === false) {\r\n\t\t\txhr.abort();\r\n\t\t\tajaxError(null, 'abort', xhr, settings);\r\n\t\t\treturn xhr;\r\n\t\t}\r\n\r\n\t\tif(settings.xhrFields) {\r\n\t\t\tfor(var name in settings.xhrFields) {\r\n\t\t\t\txhr[name] = settings.xhrFields[name];\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tvar async = 'async' in settings ? settings.async : true;\r\n\r\n\t\txhr.open(settings.type.toUpperCase(), settings.url, async, settings.username, settings.password);\r\n\r\n\t\tfor(var name in headers) {\r\n\t\t\tif(headers.hasOwnProperty(name)) {\r\n\t\t\t\tnativeSetHeader.apply(xhr, headers[name]);\r\n\t\t\t}\r\n\t\t}\r\n\t\tif(settings.timeout > 0) {\r\n\t\t\tabortTimeout = setTimeout(function() {\r\n\t\t\t\txhr.onreadystatechange = $.noop;\r\n\t\t\t\txhr.abort();\r\n\t\t\t\tajaxError(null, 'timeout', xhr, settings);\r\n\t\t\t}, settings.timeout);\r\n\t\t}\r\n\t\txhr.send(settings.data ? settings.data : null);\r\n\t\treturn xhr;\r\n\t};\r\n\r\n\t$.param = function(obj, traditional) {\r\n\t\tvar params = [];\r\n\t\tparams.add = function(k, v) {\r\n\t\t\tthis.push(encodeURIComponent(k) + '=' + encodeURIComponent(v));\r\n\t\t};\r\n\t\tserialize(params, obj, traditional);\r\n\t\treturn params.join('&').replace(/%20/g, '+');\r\n\t};\r\n\t$.get = function( /* url, data, success, dataType */ ) {\r\n\t\treturn $.ajax(parseArguments.apply(null, arguments));\r\n\t};\r\n\r\n\t$.post = function( /* url, data, success, dataType */ ) {\r\n\t\tvar options = parseArguments.apply(null, arguments);\r\n\t\toptions.type = 'POST';\r\n\t\treturn $.ajax(options);\r\n\t};\r\n\r\n\t$.getJSON = function( /* url, data, success */ ) {\r\n\t\tvar options = parseArguments.apply(null, arguments);\r\n\t\toptions.dataType = 'json';\r\n\t\treturn $.ajax(options);\r\n\t};\r\n\r\n\t$.fn.load = function(url, data, success) {\r\n\t\tif(!this.length)\r\n\t\t\treturn this;\r\n\t\tvar self = this,\r\n\t\t\tparts = url.split(/\\s/),\r\n\t\t\tselector,\r\n\t\t\toptions = parseArguments(url, data, success),\r\n\t\t\tcallback = options.success;\r\n\t\tif(parts.length > 1)\r\n\t\t\toptions.url = parts[0], selector = parts[1];\r\n\t\toptions.success = function(response) {\r\n\t\t\tif(selector) {\r\n\t\t\t\tvar div = document.createElement('div');\r\n\t\t\t\tdiv.innerHTML = response.replace(rscript, \"\");\r\n\t\t\t\tvar selectorDiv = document.createElement('div');\r\n\t\t\t\tvar childs = div.querySelectorAll(selector);\r\n\t\t\t\tif(childs && childs.length > 0) {\r\n\t\t\t\t\tfor(var i = 0, len = childs.length; i < len; i++) {\r\n\t\t\t\t\t\tselectorDiv.appendChild(childs[i]);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tself[0].innerHTML = selectorDiv.innerHTML;\r\n\t\t\t} else {\r\n\t\t\t\tself[0].innerHTML = response;\r\n\t\t\t}\r\n\t\t\tcallback && callback.apply(self, arguments);\r\n\t\t};\r\n\t\t$.ajax(options);\r\n\t\treturn this;\r\n\t};\r\n\r\n})(mui, window);\r\n/**\r\n * 5+ ajax\r\n */\r\n(function($) {\r\n\tvar originAnchor = document.createElement('a');\r\n\toriginAnchor.href = window.location.href;\r\n\t$.plusReady(function() {\r\n\t\t$.ajaxSettings = $.extend($.ajaxSettings, {\r\n\t\t\txhr: function(settings) {\r\n\t\t\t\tif (settings.crossDomain) { //强制使用plus跨域\r\n\t\t\t\t\treturn new plus.net.XMLHttpRequest();\r\n\t\t\t\t}\r\n\t\t\t\t//仅在webview的url为远程文件，且ajax请求的资源不同源下使用plus.net.XMLHttpRequest\r\n\t\t\t\tif (originAnchor.protocol !== 'file:') {\r\n\t\t\t\t\tvar urlAnchor = document.createElement('a');\r\n\t\t\t\t\turlAnchor.href = settings.url;\r\n\t\t\t\t\turlAnchor.href = urlAnchor.href;\r\n\t\t\t\t\tsettings.crossDomain = (originAnchor.protocol + '//' + originAnchor.host) !== (urlAnchor.protocol + '//' + urlAnchor.host);\r\n\t\t\t\t\tif (settings.crossDomain) {\r\n\t\t\t\t\t\treturn new plus.net.XMLHttpRequest();\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tif ($.os.ios && window.webkit && window.webkit.messageHandlers) { //wkwebview下同样使用5+ xhr\r\n                    return new plus.net.XMLHttpRequest();\r\n                }\r\n\t\t\t\treturn new window.XMLHttpRequest();\r\n\t\t\t}\r\n\t\t});\r\n\t});\r\n})(mui);\r\n/**\r\n * mui layout(offset[,position,width,height...])\r\n * @param {type} $\r\n * @param {type} window\r\n * @param {type} undefined\r\n * @returns {undefined}\r\n */\r\n(function($, window, undefined) {\r\n\t$.offset = function(element) {\r\n\t\tvar box = {\r\n\t\t\ttop : 0,\r\n\t\t\tleft : 0\r\n\t\t};\r\n\t\tif ( typeof element.getBoundingClientRect !== undefined) {\r\n\t\t\tbox = element.getBoundingClientRect();\r\n\t\t}\r\n\t\treturn {\r\n\t\t\ttop : box.top + window.pageYOffset - element.clientTop,\r\n\t\t\tleft : box.left + window.pageXOffset - element.clientLeft\r\n\t\t};\r\n\t};\r\n})(mui, window); \r\n/**\r\n * mui animation\r\n */\r\n(function($, window) {\r\n\t/**\r\n\t * scrollTo\r\n\t */\r\n\t$.scrollTo = function(scrollTop, duration, callback) {\r\n\t\tduration = duration || 1000;\r\n\t\tvar scroll = function(duration) {\r\n\t\t\tif (duration <= 0) {\r\n\t\t\t\twindow.scrollTo(0, scrollTop);\r\n\t\t\t\tcallback && callback();\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tvar distaince = scrollTop - window.scrollY;\r\n\t\t\tsetTimeout(function() {\r\n\t\t\t\twindow.scrollTo(0, window.scrollY + distaince / duration * 10);\r\n\t\t\t\tscroll(duration - 10);\r\n\t\t\t}, 16.7);\r\n\t\t};\r\n\t\tscroll(duration);\r\n\t};\r\n\t$.animationFrame = function(cb) {\r\n\t\tvar args, isQueued, context;\r\n\t\treturn function() {\r\n\t\t\targs = arguments;\r\n\t\t\tcontext = this;\r\n\t\t\tif (!isQueued) {\r\n\t\t\t\tisQueued = true;\r\n\t\t\t\trequestAnimationFrame(function() {\r\n\t\t\t\t\tcb.apply(context, args);\r\n\t\t\t\t\tisQueued = false;\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t};\r\n\t};\r\n\r\n})(mui, window);\r\n(function($) {\r\n\tvar initializing = false,\r\n\t\tfnTest = /xyz/.test(function() {\r\n\t\t\txyz;\r\n\t\t}) ? /\\b_super\\b/ : /.*/;\r\n\r\n\tvar Class = function() {};\r\n\tClass.extend = function(prop) {\r\n\t\tvar _super = this.prototype;\r\n\t\tinitializing = true;\r\n\t\tvar prototype = new this();\r\n\t\tinitializing = false;\r\n\t\tfor (var name in prop) {\r\n\t\t\tprototype[name] = typeof prop[name] == \"function\" &&\r\n\t\t\t\ttypeof _super[name] == \"function\" && fnTest.test(prop[name]) ?\r\n\t\t\t\t(function(name, fn) {\r\n\t\t\t\t\treturn function() {\r\n\t\t\t\t\t\tvar tmp = this._super;\r\n\r\n\t\t\t\t\t\tthis._super = _super[name];\r\n\r\n\t\t\t\t\t\tvar ret = fn.apply(this, arguments);\r\n\t\t\t\t\t\tthis._super = tmp;\r\n\r\n\t\t\t\t\t\treturn ret;\r\n\t\t\t\t\t};\r\n\t\t\t\t})(name, prop[name]) :\r\n\t\t\t\tprop[name];\r\n\t\t}\r\n\t\tfunction Class() {\r\n\t\t\tif (!initializing && this.init)\r\n\t\t\t\tthis.init.apply(this, arguments);\r\n\t\t}\r\n\t\tClass.prototype = prototype;\r\n\t\tClass.prototype.constructor = Class;\r\n\t\tClass.extend = arguments.callee;\r\n\t\treturn Class;\r\n\t};\r\n\t$.Class = Class;\r\n})(mui);\r\n(function($, document, undefined) {\r\n    var CLASS_PULL_TOP_POCKET = 'mui-pull-top-pocket';\r\n    var CLASS_PULL_BOTTOM_POCKET = 'mui-pull-bottom-pocket';\r\n    var CLASS_PULL = 'mui-pull';\r\n    var CLASS_PULL_LOADING = 'mui-pull-loading';\r\n    var CLASS_PULL_CAPTION = 'mui-pull-caption';\r\n    var CLASS_PULL_CAPTION_DOWN = 'mui-pull-caption-down';\r\n    var CLASS_PULL_CAPTION_REFRESH = 'mui-pull-caption-refresh';\r\n    var CLASS_PULL_CAPTION_NOMORE = 'mui-pull-caption-nomore';\r\n\r\n    var CLASS_ICON = 'mui-icon';\r\n    var CLASS_SPINNER = 'mui-spinner';\r\n    var CLASS_ICON_PULLDOWN = 'mui-icon-pulldown';\r\n\r\n    var CLASS_BLOCK = 'mui-block';\r\n    var CLASS_HIDDEN = 'mui-hidden';\r\n    var CLASS_VISIBILITY = 'mui-visibility';\r\n\r\n    var CLASS_LOADING_UP = CLASS_PULL_LOADING + ' ' + CLASS_ICON + ' ' + CLASS_ICON_PULLDOWN;\r\n    var CLASS_LOADING_DOWN = CLASS_PULL_LOADING + ' ' + CLASS_ICON + ' ' + CLASS_ICON_PULLDOWN;\r\n    var CLASS_LOADING = CLASS_PULL_LOADING + ' ' + CLASS_ICON + ' ' + CLASS_SPINNER;\r\n\r\n    var pocketHtml = ['<div class=\"' + CLASS_PULL + '\">', '<div class=\"{icon}\"></div>', '<div class=\"' + CLASS_PULL_CAPTION + '\">{contentrefresh}</div>', '</div>'].join('');\r\n\r\n    var PullRefresh = {\r\n        init: function(element, options) {\r\n            this._super(element, $.extend(true, {\r\n                scrollY: true,\r\n                scrollX: false,\r\n                indicators: true,\r\n                deceleration: 0.003,\r\n                down: {\r\n                    height: 50,\r\n                    contentinit: '下拉可以刷新',\r\n                    contentdown: '下拉可以刷新',\r\n                    contentover: '释放立即刷新',\r\n                    contentrefresh: '正在刷新...'\r\n                },\r\n                up: {\r\n                    height: 50,\r\n                    auto: false,\r\n                    contentinit: '上拉显示更多',\r\n                    contentdown: '上拉显示更多',\r\n                    contentrefresh: '正在加载...',\r\n                    contentnomore: '没有更多数据了',\r\n                    duration: 300\r\n                }\r\n            }, options));\r\n        },\r\n        _init: function() {\r\n            this._super();\r\n            this._initPocket();\r\n        },\r\n        _initPulldownRefresh: function() {\r\n            this.pulldown = true;\r\n            if (this.topPocket) {\r\n                this.pullPocket = this.topPocket;\r\n                this.pullPocket.classList.add(CLASS_BLOCK);\r\n                this.pullPocket.classList.add(CLASS_VISIBILITY);\r\n                this.pullCaption = this.topCaption;\r\n                this.pullLoading = this.topLoading;\r\n            }\r\n        },\r\n        _initPullupRefresh: function() {\r\n            this.pulldown = false;\r\n            if (this.bottomPocket) {\r\n                this.pullPocket = this.bottomPocket;\r\n                this.pullPocket.classList.add(CLASS_BLOCK);\r\n                this.pullPocket.classList.add(CLASS_VISIBILITY);\r\n                this.pullCaption = this.bottomCaption;\r\n                this.pullLoading = this.bottomLoading;\r\n            }\r\n        },\r\n        _initPocket: function() {\r\n            var options = this.options;\r\n            if (options.down && options.down.hasOwnProperty('callback')) {\r\n                this.topPocket = this.scroller.querySelector('.' + CLASS_PULL_TOP_POCKET);\r\n                if (!this.topPocket) {\r\n                    this.topPocket = this._createPocket(CLASS_PULL_TOP_POCKET, options.down, CLASS_LOADING_DOWN);\r\n                    this.wrapper.insertBefore(this.topPocket, this.wrapper.firstChild);\r\n                }\r\n                this.topLoading = this.topPocket.querySelector('.' + CLASS_PULL_LOADING);\r\n                this.topCaption = this.topPocket.querySelector('.' + CLASS_PULL_CAPTION);\r\n            }\r\n            if (options.up && options.up.hasOwnProperty('callback')) {\r\n                this.bottomPocket = this.scroller.querySelector('.' + CLASS_PULL_BOTTOM_POCKET);\r\n                if (!this.bottomPocket) {\r\n                    this.bottomPocket = this._createPocket(CLASS_PULL_BOTTOM_POCKET, options.up, CLASS_LOADING);\r\n                    this.scroller.appendChild(this.bottomPocket);\r\n                }\r\n                this.bottomLoading = this.bottomPocket.querySelector('.' + CLASS_PULL_LOADING);\r\n                this.bottomCaption = this.bottomPocket.querySelector('.' + CLASS_PULL_CAPTION);\r\n                //TODO only for h5\r\n                this.wrapper.addEventListener('scrollbottom', this);\r\n            }\r\n        },\r\n        _createPocket: function(clazz, options, iconClass) {\r\n            var pocket = document.createElement('div');\r\n            pocket.className = clazz;\r\n            pocket.innerHTML = pocketHtml.replace('{contentrefresh}', options.contentinit).replace('{icon}', iconClass);\r\n            return pocket;\r\n        },\r\n        _resetPullDownLoading: function() {\r\n            var loading = this.pullLoading;\r\n            if (loading) {\r\n                this.pullCaption.innerHTML = this.options.down.contentdown;\r\n                loading.style.webkitTransition = \"\";\r\n                loading.style.webkitTransform = \"\";\r\n                loading.style.webkitAnimation = \"\";\r\n                loading.className = CLASS_LOADING_DOWN;\r\n            }\r\n        },\r\n        _setCaptionClass: function(isPulldown, caption, title) {\r\n            if (!isPulldown) {\r\n                switch (title) {\r\n                    case this.options.up.contentdown:\r\n                        caption.className = CLASS_PULL_CAPTION + ' ' + CLASS_PULL_CAPTION_DOWN;\r\n                        break;\r\n                    case this.options.up.contentrefresh:\r\n                        caption.className = CLASS_PULL_CAPTION + ' ' + CLASS_PULL_CAPTION_REFRESH\r\n                        break;\r\n                    case this.options.up.contentnomore:\r\n                        caption.className = CLASS_PULL_CAPTION + ' ' + CLASS_PULL_CAPTION_NOMORE;\r\n                        break;\r\n                }\r\n            }\r\n        },\r\n        _setCaption: function(title, reset) {\r\n            if (this.loading) {\r\n                return;\r\n            }\r\n            var options = this.options;\r\n            var pocket = this.pullPocket;\r\n            var caption = this.pullCaption;\r\n            var loading = this.pullLoading;\r\n            var isPulldown = this.pulldown;\r\n            var self = this;\r\n            if (pocket) {\r\n                if (reset) {\r\n                    setTimeout(function() {\r\n                        caption.innerHTML = self.lastTitle = title;\r\n                        if (isPulldown) {\r\n                            loading.className = CLASS_LOADING_DOWN;\r\n                        } else {\r\n                            self._setCaptionClass(false, caption, title);\r\n                            loading.className = CLASS_LOADING;\r\n                        }\r\n                        loading.style.webkitAnimation = \"\";\r\n                        loading.style.webkitTransition = \"\";\r\n                        loading.style.webkitTransform = \"\";\r\n                    }, 100);\r\n                } else {\r\n                    if (title !== this.lastTitle) {\r\n                        caption.innerHTML = title;\r\n                        if (isPulldown) {\r\n                            if (title === options.down.contentrefresh) {\r\n                                loading.className = CLASS_LOADING;\r\n                                loading.style.webkitAnimation = \"spinner-spin 1s step-end infinite\";\r\n                            } else if (title === options.down.contentover) {\r\n                                loading.className = CLASS_LOADING_UP;\r\n                                loading.style.webkitTransition = \"-webkit-transform 0.3s ease-in\";\r\n                                loading.style.webkitTransform = \"rotate(180deg)\";\r\n                            } else if (title === options.down.contentdown) {\r\n                                loading.className = CLASS_LOADING_DOWN;\r\n                                loading.style.webkitTransition = \"-webkit-transform 0.3s ease-in\";\r\n                                loading.style.webkitTransform = \"rotate(0deg)\";\r\n                            }\r\n                        } else {\r\n                            if (title === options.up.contentrefresh) {\r\n                                loading.className = CLASS_LOADING + ' ' + CLASS_VISIBILITY;\r\n                            } else {\r\n                                loading.className = CLASS_LOADING + ' ' + CLASS_HIDDEN;\r\n                            }\r\n                            self._setCaptionClass(false, caption, title);\r\n                        }\r\n                        this.lastTitle = title;\r\n                    }\r\n                }\r\n\r\n            }\r\n        }\r\n    };\r\n    $.PullRefresh = PullRefresh;\r\n})(mui, document);\r\n(function($, window, document, undefined) {\r\n\tvar CLASS_SCROLL = 'mui-scroll';\r\n\tvar CLASS_SCROLLBAR = 'mui-scrollbar';\r\n\tvar CLASS_INDICATOR = 'mui-scrollbar-indicator';\r\n\tvar CLASS_SCROLLBAR_VERTICAL = CLASS_SCROLLBAR + '-vertical';\r\n\tvar CLASS_SCROLLBAR_HORIZONTAL = CLASS_SCROLLBAR + '-horizontal';\r\n\r\n\tvar CLASS_ACTIVE = 'mui-active';\r\n\r\n\tvar ease = {\r\n\t\tquadratic: {\r\n\t\t\tstyle: 'cubic-bezier(0.25, 0.46, 0.45, 0.94)',\r\n\t\t\tfn: function(k) {\r\n\t\t\t\treturn k * (2 - k);\r\n\t\t\t}\r\n\t\t},\r\n\t\tcircular: {\r\n\t\t\tstyle: 'cubic-bezier(0.1, 0.57, 0.1, 1)',\r\n\t\t\tfn: function(k) {\r\n\t\t\t\treturn Math.sqrt(1 - (--k * k));\r\n\t\t\t}\r\n\t\t},\r\n\t\toutCirc: {\r\n\t\t\tstyle: 'cubic-bezier(0.075, 0.82, 0.165, 1)'\r\n\t\t},\r\n\t\toutCubic: {\r\n\t\t\tstyle: 'cubic-bezier(0.165, 0.84, 0.44, 1)'\r\n\t\t}\r\n\t}\r\n\tvar Scroll = $.Class.extend({\r\n\t\tinit: function(element, options) {\r\n\t\t\tthis.wrapper = this.element = element;\r\n\t\t\tthis.scroller = this.wrapper.children[0];\r\n\t\t\tthis.scrollerStyle = this.scroller && this.scroller.style;\r\n\t\t\tthis.stopped = false;\r\n\r\n\t\t\tthis.options = $.extend(true, {\r\n\t\t\t\tscrollY: true, //是否竖向滚动\r\n\t\t\t\tscrollX: false, //是否横向滚动\r\n\t\t\t\tstartX: 0, //初始化时滚动至x\r\n\t\t\t\tstartY: 0, //初始化时滚动至y\r\n\r\n\t\t\t\tindicators: true, //是否显示滚动条\r\n\t\t\t\tstopPropagation: false,\r\n\t\t\t\thardwareAccelerated: true,\r\n\t\t\t\tfixedBadAndorid: false,\r\n\t\t\t\tpreventDefaultException: {\r\n\t\t\t\t\ttagName: /^(INPUT|TEXTAREA|BUTTON|SELECT|VIDEO)$/\r\n\t\t\t\t},\r\n\t\t\t\tmomentum: true,\r\n\r\n\t\t\t\tsnapX: 0.5, //横向切换距离(以当前容器宽度为基准)\r\n\t\t\t\tsnap: false, //图片轮播，拖拽式选项卡\r\n\r\n\t\t\t\tbounce: true, //是否启用回弹\r\n\t\t\t\tbounceTime: 500, //回弹动画时间\r\n\t\t\t\tbounceEasing: ease.outCirc, //回弹动画曲线\r\n\r\n\t\t\t\tscrollTime: 500,\r\n\t\t\t\tscrollEasing: ease.outCubic, //轮播动画曲线\r\n\r\n\t\t\t\tdirectionLockThreshold: 5,\r\n\r\n\t\t\t\tparallaxElement: false, //视差元素\r\n\t\t\t\tparallaxRatio: 0.5\r\n\t\t\t}, options);\r\n\r\n\t\t\tthis.x = 0;\r\n\t\t\tthis.y = 0;\r\n\t\t\tthis.translateZ = this.options.hardwareAccelerated ? ' translateZ(0)' : '';\r\n\r\n\t\t\tthis._init();\r\n\t\t\tif (this.scroller) {\r\n\t\t\t\tthis.refresh();\r\n\t\t\t\t//\t\t\t\tif (this.options.startX !== 0 || this.options.startY !== 0) { //需要判断吗？后续根据实际情况再看看\r\n\t\t\t\tthis.scrollTo(this.options.startX, this.options.startY);\r\n\t\t\t\t//\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\t_init: function() {\r\n\t\t\tthis._initParallax();\r\n\t\t\tthis._initIndicators();\r\n\t\t\tthis._initEvent();\r\n\t\t},\r\n\t\t_initParallax: function() {\r\n\t\t\tif (this.options.parallaxElement) {\r\n\t\t\t\tthis.parallaxElement = document.querySelector(this.options.parallaxElement);\r\n\t\t\t\tthis.parallaxStyle = this.parallaxElement.style;\r\n\t\t\t\tthis.parallaxHeight = this.parallaxElement.offsetHeight;\r\n\t\t\t\tthis.parallaxImgStyle = this.parallaxElement.querySelector('img').style;\r\n\t\t\t}\r\n\t\t},\r\n\t\t_initIndicators: function() {\r\n\t\t\tvar self = this;\r\n\t\t\tself.indicators = [];\r\n\t\t\tif (!this.options.indicators) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tvar indicators = [],\r\n\t\t\t\tindicator;\r\n\r\n\t\t\t// Vertical scrollbar\r\n\t\t\tif (self.options.scrollY) {\r\n\t\t\t\tindicator = {\r\n\t\t\t\t\tel: this._createScrollBar(CLASS_SCROLLBAR_VERTICAL),\r\n\t\t\t\t\tlistenX: false\r\n\t\t\t\t};\r\n\r\n\t\t\t\tthis.wrapper.appendChild(indicator.el);\r\n\t\t\t\tindicators.push(indicator);\r\n\t\t\t}\r\n\r\n\t\t\t// Horizontal scrollbar\r\n\t\t\tif (this.options.scrollX) {\r\n\t\t\t\tindicator = {\r\n\t\t\t\t\tel: this._createScrollBar(CLASS_SCROLLBAR_HORIZONTAL),\r\n\t\t\t\t\tlistenY: false\r\n\t\t\t\t};\r\n\r\n\t\t\t\tthis.wrapper.appendChild(indicator.el);\r\n\t\t\t\tindicators.push(indicator);\r\n\t\t\t}\r\n\r\n\t\t\tfor (var i = indicators.length; i--;) {\r\n\t\t\t\tthis.indicators.push(new Indicator(this, indicators[i]));\r\n\t\t\t}\r\n\r\n\t\t},\r\n\t\t_initSnap: function() {\r\n\t\t\tthis.currentPage = {};\r\n\t\t\tthis.pages = [];\r\n\t\t\tvar snaps = this.snaps;\r\n\t\t\tvar length = snaps.length;\r\n\t\t\tvar m = 0;\r\n\t\t\tvar n = -1;\r\n\t\t\tvar x = 0;\r\n\t\t\tvar leftX = 0;\r\n\t\t\tvar rightX = 0;\r\n\t\t\tvar snapX = 0;\r\n\t\t\tfor (var i = 0; i < length; i++) {\r\n\t\t\t\tvar snap = snaps[i];\r\n\t\t\t\tvar offsetLeft = snap.offsetLeft;\r\n\t\t\t\tvar offsetWidth = snap.offsetWidth;\r\n\t\t\t\tif (i === 0 || offsetLeft <= snaps[i - 1].offsetLeft) {\r\n\t\t\t\t\tm = 0;\r\n\t\t\t\t\tn++;\r\n\t\t\t\t}\r\n\t\t\t\tif (!this.pages[m]) {\r\n\t\t\t\t\tthis.pages[m] = [];\r\n\t\t\t\t}\r\n\t\t\t\tx = this._getSnapX(offsetLeft);\r\n\t\t\t\tsnapX = Math.round((offsetWidth) * this.options.snapX);\r\n\t\t\t\tleftX = x - snapX;\r\n\t\t\t\trightX = x - offsetWidth + snapX;\r\n\t\t\t\tthis.pages[m][n] = {\r\n\t\t\t\t\tx: x,\r\n\t\t\t\t\tleftX: leftX,\r\n\t\t\t\t\trightX: rightX,\r\n\t\t\t\t\tpageX: m,\r\n\t\t\t\t\telement: snap\r\n\t\t\t\t}\r\n\t\t\t\tif (snap.classList.contains(CLASS_ACTIVE)) {\r\n\t\t\t\t\tthis.currentPage = this.pages[m][0];\r\n\t\t\t\t}\r\n\t\t\t\tif (x >= this.maxScrollX) {\r\n\t\t\t\t\tm++;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tthis.options.startX = this.currentPage.x || 0;\r\n\t\t},\r\n\t\t_getSnapX: function(offsetLeft) {\r\n\t\t\treturn Math.max(Math.min(0, -offsetLeft + (this.wrapperWidth / 2)), this.maxScrollX);\r\n\t\t},\r\n\t\t_gotoPage: function(index) {\r\n\t\t\tthis.currentPage = this.pages[Math.min(index, this.pages.length - 1)][0];\r\n\t\t\tfor (var i = 0, len = this.snaps.length; i < len; i++) {\r\n\t\t\t\tif (i === index) {\r\n\t\t\t\t\tthis.snaps[i].classList.add(CLASS_ACTIVE);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.snaps[i].classList.remove(CLASS_ACTIVE);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tthis.scrollTo(this.currentPage.x, 0, this.options.scrollTime);\r\n\t\t},\r\n\t\t_nearestSnap: function(x) {\r\n\t\t\tif (!this.pages.length) {\r\n\t\t\t\treturn {\r\n\t\t\t\t\tx: 0,\r\n\t\t\t\t\tpageX: 0\r\n\t\t\t\t};\r\n\t\t\t}\r\n\t\t\tvar i = 0;\r\n\t\t\tvar length = this.pages.length;\r\n\t\t\tif (x > 0) {\r\n\t\t\t\tx = 0;\r\n\t\t\t} else if (x < this.maxScrollX) {\r\n\t\t\t\tx = this.maxScrollX;\r\n\t\t\t}\r\n\t\t\tfor (; i < length; i++) {\r\n\t\t\t\tvar nearestX = this.direction === 'left' ? this.pages[i][0].leftX : this.pages[i][0].rightX;\r\n\t\t\t\tif (x >= nearestX) {\r\n\t\t\t\t\treturn this.pages[i][0];\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn {\r\n\t\t\t\tx: 0,\r\n\t\t\t\tpageX: 0\r\n\t\t\t};\r\n\t\t},\r\n\t\t_initEvent: function(detach) {\r\n\t\t\tvar action = detach ? 'removeEventListener' : 'addEventListener';\r\n\t\t\twindow[action]('orientationchange', this);\r\n\t\t\twindow[action]('resize', this);\r\n\r\n\t\t\tthis.scroller[action]('webkitTransitionEnd', this);\r\n\r\n\t\t\tthis.wrapper[action]($.EVENT_START, this);\r\n\t\t\tthis.wrapper[action]($.EVENT_CANCEL, this);\r\n\t\t\tthis.wrapper[action]($.EVENT_END, this);\r\n\t\t\tthis.wrapper[action]('drag', this);\r\n\t\t\tthis.wrapper[action]('dragend', this);\r\n\t\t\tthis.wrapper[action]('flick', this);\r\n\t\t\tthis.wrapper[action]('scrollend', this);\r\n\t\t\tif (this.options.scrollX) {\r\n\t\t\t\tthis.wrapper[action]('swiperight', this);\r\n\t\t\t}\r\n\t\t\tvar segmentedControl = this.wrapper.querySelector('.mui-segmented-control');\r\n\t\t\tif (segmentedControl) { //靠，这个bug排查了一下午，阻止hash跳转，一旦hash跳转会导致可拖拽选项卡的tab不见\r\n\t\t\t\tmui(segmentedControl)[detach ? 'off' : 'on']('click', 'a', $.preventDefault);\r\n\t\t\t}\r\n\r\n\t\t\tthis.wrapper[action]('scrollstart', this);\r\n\t\t\tthis.wrapper[action]('refresh', this);\r\n\t\t},\r\n\t\t_handleIndicatorScrollend: function() {\r\n\t\t\tthis.indicators.map(function(indicator) {\r\n\t\t\t\tindicator.fade();\r\n\t\t\t});\r\n\t\t},\r\n\t\t_handleIndicatorScrollstart: function() {\r\n\t\t\tthis.indicators.map(function(indicator) {\r\n\t\t\t\tindicator.fade(1);\r\n\t\t\t});\r\n\t\t},\r\n\t\t_handleIndicatorRefresh: function() {\r\n\t\t\tthis.indicators.map(function(indicator) {\r\n\t\t\t\tindicator.refresh();\r\n\t\t\t});\r\n\t\t},\r\n\t\thandleEvent: function(e) {\r\n\t\t\tif (this.stopped) {\r\n\t\t\t\tthis.resetPosition();\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tswitch (e.type) {\r\n\t\t\t\tcase $.EVENT_START:\r\n\t\t\t\t\tthis._start(e);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 'drag':\r\n\t\t\t\t\tthis.options.stopPropagation && e.stopPropagation();\r\n\t\t\t\t\tthis._drag(e);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 'dragend':\r\n\t\t\t\tcase 'flick':\r\n\t\t\t\t\tthis.options.stopPropagation && e.stopPropagation();\r\n\t\t\t\t\tthis._flick(e);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase $.EVENT_CANCEL:\r\n\t\t\t\tcase $.EVENT_END:\r\n\t\t\t\t\tthis._end(e);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 'webkitTransitionEnd':\r\n\t\t\t\t\tthis.transitionTimer && this.transitionTimer.cancel();\r\n\t\t\t\t\tthis._transitionEnd(e);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 'scrollstart':\r\n\t\t\t\t\tthis._handleIndicatorScrollstart(e);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 'scrollend':\r\n\t\t\t\t\tthis._handleIndicatorScrollend(e);\r\n\t\t\t\t\tthis._scrollend(e);\r\n\t\t\t\t\te.stopPropagation();\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 'orientationchange':\r\n\t\t\t\tcase 'resize':\r\n\t\t\t\t\tthis._resize();\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 'swiperight':\r\n\t\t\t\t\te.stopPropagation();\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 'refresh':\r\n\t\t\t\t\tthis._handleIndicatorRefresh(e);\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t}\r\n\t\t},\r\n\t\t_start: function(e) {\r\n\t\t\tthis.moved = this.needReset = false;\r\n\t\t\tthis._transitionTime();\r\n\t\t\tif (this.isInTransition) {\r\n\t\t\t\tthis.needReset = true;\r\n\t\t\t\tthis.isInTransition = false;\r\n\t\t\t\tvar pos = $.parseTranslateMatrix($.getStyles(this.scroller, 'webkitTransform'));\r\n\t\t\t\tthis.setTranslate(Math.round(pos.x), Math.round(pos.y));\r\n\t\t\t\t//\t\t\t\tthis.resetPosition(); //reset\r\n\t\t\t\t$.trigger(this.scroller, 'scrollend', this);\r\n\t\t\t\t//\t\t\t\te.stopPropagation();\r\n\t\t\t\te.preventDefault();\r\n\t\t\t}\r\n\t\t\tthis.reLayout();\r\n\t\t\t$.trigger(this.scroller, 'beforescrollstart', this);\r\n\t\t},\r\n\t\t_getDirectionByAngle: function(angle) {\r\n\t\t\tif (angle < -80 && angle > -100) {\r\n\t\t\t\treturn 'up';\r\n\t\t\t} else if (angle >= 80 && angle < 100) {\r\n\t\t\t\treturn 'down';\r\n\t\t\t} else if (angle >= 170 || angle <= -170) {\r\n\t\t\t\treturn 'left';\r\n\t\t\t} else if (angle >= -35 && angle <= 10) {\r\n\t\t\t\treturn 'right';\r\n\t\t\t}\r\n\t\t\treturn null;\r\n\t\t},\r\n\t\t_drag: function(e) {\r\n\t\t\t//\t\t\tif (this.needReset) {\r\n\t\t\t//\t\t\t\te.stopPropagation(); //disable parent drag(nested scroller)\r\n\t\t\t//\t\t\t\treturn;\r\n\t\t\t//\t\t\t}\r\n\t\t\tvar detail = e.detail;\r\n\t\t\tif (this.options.scrollY || detail.direction === 'up' || detail.direction === 'down') { //如果是竖向滚动或手势方向是上或下\r\n\t\t\t\t//ios8 hack\r\n\t\t\t\tif ($.os.ios && parseFloat($.os.version) >= 8) { //多webview时，离开当前webview会导致后续touch事件不触发\r\n\t\t\t\t\tvar clientY = detail.gesture.touches[0].clientY;\r\n\t\t\t\t\t//下拉刷新 or 上拉加载\r\n\t\t\t\t\tif ((clientY + 10) > window.innerHeight || clientY < 10) {\r\n\t\t\t\t\t\tthis.resetPosition(this.options.bounceTime);\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tvar isPreventDefault = isReturn = false;\r\n\t\t\tvar direction = this._getDirectionByAngle(detail.angle);\r\n\t\t\tif (detail.direction === 'left' || detail.direction === 'right') {\r\n\t\t\t\tif (this.options.scrollX) {\r\n\t\t\t\t\tisPreventDefault = true;\r\n\t\t\t\t\tif (!this.moved) { //识别角度(该角度导致轮播不灵敏)\r\n\t\t\t\t\t\t//\t\t\t\t\t\tif (direction !== 'left' && direction !== 'right') {\r\n\t\t\t\t\t\t//\t\t\t\t\t\t\tisReturn = true;\r\n\t\t\t\t\t\t//\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t$.gestures.session.lockDirection = true; //锁定方向\r\n\t\t\t\t\t\t$.gestures.session.startDirection = detail.direction;\r\n\t\t\t\t\t\t//\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t} else if (this.options.scrollY && !this.moved) {\r\n\t\t\t\t\tisReturn = true;\r\n\t\t\t\t}\r\n\t\t\t} else if (detail.direction === 'up' || detail.direction === 'down') {\r\n\t\t\t\tif (this.options.scrollY) {\r\n\t\t\t\t\tisPreventDefault = true;\r\n\t\t\t\t\t//\t\t\t\t\tif (!this.moved) { //识别角度,竖向滚动似乎没必要进行小角度验证\r\n\t\t\t\t\t//\t\t\t\t\t\tif (direction !== 'up' && direction !== 'down') {\r\n\t\t\t\t\t//\t\t\t\t\t\t\tisReturn = true;\r\n\t\t\t\t\t//\t\t\t\t\t\t}\r\n\t\t\t\t\t//\t\t\t\t\t}\r\n\t\t\t\t\tif (!this.moved) {\r\n\t\t\t\t\t\t$.gestures.session.lockDirection = true; //锁定方向\r\n\t\t\t\t\t\t$.gestures.session.startDirection = detail.direction;\r\n\t\t\t\t\t}\r\n\t\t\t\t} else if (this.options.scrollX && !this.moved) {\r\n\t\t\t\t\tisReturn = true;\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tisReturn = true;\r\n\t\t\t}\r\n\t\t\tif (this.moved || isPreventDefault) {\r\n\t\t\t\te.stopPropagation(); //阻止冒泡(scroll类嵌套)\r\n\t\t\t\tdetail.gesture && detail.gesture.preventDefault();\r\n\t\t\t}\r\n\t\t\tif (isReturn) { //禁止非法方向滚动\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tif (!this.moved) {\r\n\t\t\t\t$.trigger(this.scroller, 'scrollstart', this);\r\n\t\t\t} else {\r\n\t\t\t\te.stopPropagation(); //move期间阻止冒泡(scroll嵌套)\r\n\t\t\t}\r\n\t\t\tvar deltaX = 0;\r\n\t\t\tvar deltaY = 0;\r\n\t\t\tif (!this.moved) { //start\r\n\t\t\t\tdeltaX = detail.deltaX;\r\n\t\t\t\tdeltaY = detail.deltaY;\r\n\t\t\t} else { //move\r\n\t\t\t\tdeltaX = detail.deltaX - $.gestures.session.prevTouch.deltaX;\r\n\t\t\t\tdeltaY = detail.deltaY - $.gestures.session.prevTouch.deltaY;\r\n\t\t\t}\r\n\t\t\tvar absDeltaX = Math.abs(detail.deltaX);\r\n\t\t\tvar absDeltaY = Math.abs(detail.deltaY);\r\n\t\t\tif (absDeltaX > absDeltaY + this.options.directionLockThreshold) {\r\n\t\t\t\tdeltaY = 0;\r\n\t\t\t} else if (absDeltaY >= absDeltaX + this.options.directionLockThreshold) {\r\n\t\t\t\tdeltaX = 0;\r\n\t\t\t}\r\n\r\n\t\t\tdeltaX = this.hasHorizontalScroll ? deltaX : 0;\r\n\t\t\tdeltaY = this.hasVerticalScroll ? deltaY : 0;\r\n\t\t\tvar newX = this.x + deltaX;\r\n\t\t\tvar newY = this.y + deltaY;\r\n\t\t\t// Slow down if outside of the boundaries\r\n\t\t\tif (newX > 0 || newX < this.maxScrollX) {\r\n\t\t\t\tnewX = this.options.bounce ? this.x + deltaX / 3 : newX > 0 ? 0 : this.maxScrollX;\r\n\t\t\t}\r\n\t\t\tif (newY > 0 || newY < this.maxScrollY) {\r\n\t\t\t\tnewY = this.options.bounce ? this.y + deltaY / 3 : newY > 0 ? 0 : this.maxScrollY;\r\n\t\t\t}\r\n\r\n\t\t\tif (!this.requestAnimationFrame) {\r\n\t\t\t\tthis._updateTranslate();\r\n\t\t\t}\r\n\t\t\tthis.direction = detail.deltaX > 0 ? 'right' : 'left';\r\n\t\t\tthis.moved = true;\r\n\t\t\tthis.x = newX;\r\n\t\t\tthis.y = newY;\r\n\t\t\t$.trigger(this.scroller, 'scroll', this);\r\n\t\t},\r\n\t\t_flick: function(e) {\r\n\t\t\t//\t\t\tif (!this.moved || this.needReset) {\r\n\t\t\t//\t\t\t\treturn;\r\n\t\t\t//\t\t\t}\r\n\t\t\tif (!this.moved) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\te.stopPropagation();\r\n\t\t\tvar detail = e.detail;\r\n\t\t\tthis._clearRequestAnimationFrame();\r\n\t\t\tif (e.type === 'dragend' && detail.flick) { //dragend\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tvar newX = Math.round(this.x);\r\n\t\t\tvar newY = Math.round(this.y);\r\n\r\n\t\t\tthis.isInTransition = false;\r\n\t\t\t// reset if we are outside of the boundaries\r\n\t\t\tif (this.resetPosition(this.options.bounceTime)) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tthis.scrollTo(newX, newY); // ensures that the last position is rounded\r\n\r\n\t\t\tif (e.type === 'dragend') { //dragend\r\n\t\t\t\t$.trigger(this.scroller, 'scrollend', this);\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tvar time = 0;\r\n\t\t\tvar easing = '';\r\n\t\t\t// start momentum animation if needed\r\n\t\t\tif (this.options.momentum && detail.flickTime < 300) {\r\n\t\t\t\tmomentumX = this.hasHorizontalScroll ? this._momentum(this.x, detail.flickDistanceX, detail.flickTime, this.maxScrollX, this.options.bounce ? this.wrapperWidth : 0, this.options.deceleration) : {\r\n\t\t\t\t\tdestination: newX,\r\n\t\t\t\t\tduration: 0\r\n\t\t\t\t};\r\n\t\t\t\tmomentumY = this.hasVerticalScroll ? this._momentum(this.y, detail.flickDistanceY, detail.flickTime, this.maxScrollY, this.options.bounce ? this.wrapperHeight : 0, this.options.deceleration) : {\r\n\t\t\t\t\tdestination: newY,\r\n\t\t\t\t\tduration: 0\r\n\t\t\t\t};\r\n\t\t\t\tnewX = momentumX.destination;\r\n\t\t\t\tnewY = momentumY.destination;\r\n\t\t\t\ttime = Math.max(momentumX.duration, momentumY.duration);\r\n\t\t\t\tthis.isInTransition = true;\r\n\t\t\t}\r\n\r\n\t\t\tif (newX != this.x || newY != this.y) {\r\n\t\t\t\tif (newX > 0 || newX < this.maxScrollX || newY > 0 || newY < this.maxScrollY) {\r\n\t\t\t\t\teasing = ease.quadratic;\r\n\t\t\t\t}\r\n\t\t\t\tthis.scrollTo(newX, newY, time, easing);\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\t$.trigger(this.scroller, 'scrollend', this);\r\n\t\t\t//\t\t\te.stopPropagation();\r\n\t\t},\r\n\t\t_end: function(e) {\r\n\t\t\tthis.needReset = false;\r\n\t\t\tif ((!this.moved && this.needReset) || e.type === $.EVENT_CANCEL) {\r\n\t\t\t\tthis.resetPosition();\r\n\t\t\t}\r\n\t\t},\r\n\t\t_transitionEnd: function(e) {\r\n\t\t\tif (e.target != this.scroller || !this.isInTransition) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tthis._transitionTime();\r\n\t\t\tif (!this.resetPosition(this.options.bounceTime)) {\r\n\t\t\t\tthis.isInTransition = false;\r\n\t\t\t\t$.trigger(this.scroller, 'scrollend', this);\r\n\t\t\t}\r\n\t\t},\r\n\t\t_scrollend: function(e) {\r\n\t\t\tif ((this.y === 0 && this.maxScrollY === 0) || (Math.abs(this.y) > 0 && this.y <= this.maxScrollY)) {\r\n\t\t\t\t$.trigger(this.scroller, 'scrollbottom', this);\r\n\t\t\t}\r\n\t\t},\r\n\t\t_resize: function() {\r\n\t\t\tvar that = this;\r\n\t\t\tclearTimeout(that.resizeTimeout);\r\n\t\t\tthat.resizeTimeout = setTimeout(function() {\r\n\t\t\t\tthat.refresh();\r\n\t\t\t}, that.options.resizePolling);\r\n\t\t},\r\n\t\t_transitionTime: function(time) {\r\n\t\t\ttime = time || 0;\r\n\t\t\tthis.scrollerStyle['webkitTransitionDuration'] = time + 'ms';\r\n\t\t\tif (this.parallaxElement && this.options.scrollY) { //目前仅支持竖向视差效果\r\n\t\t\t\tthis.parallaxStyle['webkitTransitionDuration'] = time + 'ms';\r\n\t\t\t}\r\n\t\t\tif (this.options.fixedBadAndorid && !time && $.os.isBadAndroid) {\r\n\t\t\t\tthis.scrollerStyle['webkitTransitionDuration'] = '0.001s';\r\n\t\t\t\tif (this.parallaxElement && this.options.scrollY) { //目前仅支持竖向视差效果\r\n\t\t\t\t\tthis.parallaxStyle['webkitTransitionDuration'] = '0.001s';\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif (this.indicators) {\r\n\t\t\t\tfor (var i = this.indicators.length; i--;) {\r\n\t\t\t\t\tthis.indicators[i].transitionTime(time);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif (time) { //自定义timer，保证webkitTransitionEnd始终触发\r\n\t\t\t\tthis.transitionTimer && this.transitionTimer.cancel();\r\n\t\t\t\tthis.transitionTimer = $.later(function() {\r\n\t\t\t\t\t$.trigger(this.scroller, 'webkitTransitionEnd');\r\n\t\t\t\t}, time + 100, this);\r\n\t\t\t}\r\n\t\t},\r\n\t\t_transitionTimingFunction: function(easing) {\r\n\t\t\tthis.scrollerStyle['webkitTransitionTimingFunction'] = easing;\r\n\t\t\tif (this.parallaxElement && this.options.scrollY) { //目前仅支持竖向视差效果\r\n\t\t\t\tthis.parallaxStyle['webkitTransitionDuration'] = easing;\r\n\t\t\t}\r\n\t\t\tif (this.indicators) {\r\n\t\t\t\tfor (var i = this.indicators.length; i--;) {\r\n\t\t\t\t\tthis.indicators[i].transitionTimingFunction(easing);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\t_translate: function(x, y) {\r\n\t\t\tthis.x = x;\r\n\t\t\tthis.y = y;\r\n\t\t},\r\n\t\t_clearRequestAnimationFrame: function() {\r\n\t\t\tif (this.requestAnimationFrame) {\r\n\t\t\t\tcancelAnimationFrame(this.requestAnimationFrame);\r\n\t\t\t\tthis.requestAnimationFrame = null;\r\n\t\t\t}\r\n\t\t},\r\n\t\t_updateTranslate: function() {\r\n\t\t\tvar self = this;\r\n\t\t\tif (self.x !== self.lastX || self.y !== self.lastY) {\r\n\t\t\t\tself.setTranslate(self.x, self.y);\r\n\t\t\t}\r\n\t\t\tself.requestAnimationFrame = requestAnimationFrame(function() {\r\n\t\t\t\tself._updateTranslate();\r\n\t\t\t});\r\n\t\t},\r\n\t\t_createScrollBar: function(clazz) {\r\n\t\t\tvar scrollbar = document.createElement('div');\r\n\t\t\tvar indicator = document.createElement('div');\r\n\t\t\tscrollbar.className = CLASS_SCROLLBAR + ' ' + clazz;\r\n\t\t\tindicator.className = CLASS_INDICATOR;\r\n\t\t\tscrollbar.appendChild(indicator);\r\n\t\t\tif (clazz === CLASS_SCROLLBAR_VERTICAL) {\r\n\t\t\t\tthis.scrollbarY = scrollbar;\r\n\t\t\t\tthis.scrollbarIndicatorY = indicator;\r\n\t\t\t} else if (clazz === CLASS_SCROLLBAR_HORIZONTAL) {\r\n\t\t\t\tthis.scrollbarX = scrollbar;\r\n\t\t\t\tthis.scrollbarIndicatorX = indicator;\r\n\t\t\t}\r\n\t\t\tthis.wrapper.appendChild(scrollbar);\r\n\t\t\treturn scrollbar;\r\n\t\t},\r\n\t\t_preventDefaultException: function(el, exceptions) {\r\n\t\t\tfor (var i in exceptions) {\r\n\t\t\t\tif (exceptions[i].test(el[i])) {\r\n\t\t\t\t\treturn true;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn false;\r\n\t\t},\r\n\t\t_reLayout: function() {\r\n\t\t\tif (!this.hasHorizontalScroll) {\r\n\t\t\t\tthis.maxScrollX = 0;\r\n\t\t\t\tthis.scrollerWidth = this.wrapperWidth;\r\n\t\t\t}\r\n\r\n\t\t\tif (!this.hasVerticalScroll) {\r\n\t\t\t\tthis.maxScrollY = 0;\r\n\t\t\t\tthis.scrollerHeight = this.wrapperHeight;\r\n\t\t\t}\r\n\r\n\t\t\tthis.indicators.map(function(indicator) {\r\n\t\t\t\tindicator.refresh();\r\n\t\t\t});\r\n\r\n\t\t\t//以防slider类嵌套使用\r\n\t\t\tif (this.options.snap && typeof this.options.snap === 'string') {\r\n\t\t\t\tvar items = this.scroller.querySelectorAll(this.options.snap);\r\n\t\t\t\tthis.itemLength = 0;\r\n\t\t\t\tthis.snaps = [];\r\n\t\t\t\tfor (var i = 0, len = items.length; i < len; i++) {\r\n\t\t\t\t\tvar item = items[i];\r\n\t\t\t\t\tif (item.parentNode === this.scroller) {\r\n\t\t\t\t\t\tthis.itemLength++;\r\n\t\t\t\t\t\tthis.snaps.push(item);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tthis._initSnap(); //需要每次都_initSnap么。其实init的时候执行一次，后续resize的时候执行一次就行了吧.先这么做吧，如果影响性能，再调整\r\n\t\t\t}\r\n\t\t},\r\n\t\t_momentum: function(current, distance, time, lowerMargin, wrapperSize, deceleration) {\r\n\t\t\tvar speed = parseFloat(Math.abs(distance) / time),\r\n\t\t\t\tdestination,\r\n\t\t\t\tduration;\r\n\r\n\t\t\tdeceleration = deceleration === undefined ? 0.0006 : deceleration;\r\n\t\t\tdestination = current + (speed * speed) / (2 * deceleration) * (distance < 0 ? -1 : 1);\r\n\t\t\tduration = speed / deceleration;\r\n\t\t\tif (destination < lowerMargin) {\r\n\t\t\t\tdestination = wrapperSize ? lowerMargin - (wrapperSize / 2.5 * (speed / 8)) : lowerMargin;\r\n\t\t\t\tdistance = Math.abs(destination - current);\r\n\t\t\t\tduration = distance / speed;\r\n\t\t\t} else if (destination > 0) {\r\n\t\t\t\tdestination = wrapperSize ? wrapperSize / 2.5 * (speed / 8) : 0;\r\n\t\t\t\tdistance = Math.abs(current) + destination;\r\n\t\t\t\tduration = distance / speed;\r\n\t\t\t}\r\n\r\n\t\t\treturn {\r\n\t\t\t\tdestination: Math.round(destination),\r\n\t\t\t\tduration: duration\r\n\t\t\t};\r\n\t\t},\r\n\t\t_getTranslateStr: function(x, y) {\r\n\t\t\tif (this.options.hardwareAccelerated) {\r\n\t\t\t\treturn 'translate3d(' + x + 'px,' + y + 'px,0px) ' + this.translateZ;\r\n\t\t\t}\r\n\t\t\treturn 'translate(' + x + 'px,' + y + 'px) ';\r\n\t\t},\r\n\t\t//API\r\n\t\tsetStopped: function(stopped) {\r\n\t\t\t// this.stopped = !!stopped;\r\n\r\n\t\t\t// fixed ios双webview模式下拉刷新\r\n\t\t\tif(stopped) {\r\n\t\t\t\tthis.disablePullupToRefresh();\r\n\t\t\t\tthis.disablePulldownToRefresh();\r\n\t\t\t} else {\r\n\t\t\t\tthis.enablePullupToRefresh();\r\n\t\t\t\tthis.enablePulldownToRefresh();\r\n\t\t\t}\r\n\t\t},\r\n\t\tsetTranslate: function(x, y) {\r\n\t\t\tthis.x = x;\r\n\t\t\tthis.y = y;\r\n\t\t\tthis.scrollerStyle['webkitTransform'] = this._getTranslateStr(x, y);\r\n\t\t\tif (this.parallaxElement && this.options.scrollY) { //目前仅支持竖向视差效果\r\n\t\t\t\tvar parallaxY = y * this.options.parallaxRatio;\r\n\t\t\t\tvar scale = 1 + parallaxY / ((this.parallaxHeight - parallaxY) / 2);\r\n\t\t\t\tif (scale > 1) {\r\n\t\t\t\t\tthis.parallaxImgStyle['opacity'] = 1 - parallaxY / 100 * this.options.parallaxRatio;\r\n\t\t\t\t\tthis.parallaxStyle['webkitTransform'] = this._getTranslateStr(0, -parallaxY) + ' scale(' + scale + ',' + scale + ')';\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.parallaxImgStyle['opacity'] = 1;\r\n\t\t\t\t\tthis.parallaxStyle['webkitTransform'] = this._getTranslateStr(0, -1) + ' scale(1,1)';\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif (this.indicators) {\r\n\t\t\t\tfor (var i = this.indicators.length; i--;) {\r\n\t\t\t\t\tthis.indicators[i].updatePosition();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tthis.lastX = this.x;\r\n\t\t\tthis.lastY = this.y;\r\n\t\t\t$.trigger(this.scroller, 'scroll', this);\r\n\t\t},\r\n\t\treLayout: function() {\r\n\t\t\tthis.wrapper.offsetHeight;\r\n\r\n\t\t\tvar paddingLeft = parseFloat($.getStyles(this.wrapper, 'padding-left')) || 0;\r\n\t\t\tvar paddingRight = parseFloat($.getStyles(this.wrapper, 'padding-right')) || 0;\r\n\t\t\tvar paddingTop = parseFloat($.getStyles(this.wrapper, 'padding-top')) || 0;\r\n\t\t\tvar paddingBottom = parseFloat($.getStyles(this.wrapper, 'padding-bottom')) || 0;\r\n\r\n\t\t\tvar clientWidth = this.wrapper.clientWidth;\r\n\t\t\tvar clientHeight = this.wrapper.clientHeight;\r\n\r\n\t\t\tthis.scrollerWidth = this.scroller.offsetWidth;\r\n\t\t\tthis.scrollerHeight = this.scroller.offsetHeight;\r\n\r\n\t\t\tthis.wrapperWidth = clientWidth - paddingLeft - paddingRight;\r\n\t\t\tthis.wrapperHeight = clientHeight - paddingTop - paddingBottom;\r\n\r\n\t\t\tthis.maxScrollX = Math.min(this.wrapperWidth - this.scrollerWidth, 0);\r\n\t\t\tthis.maxScrollY = Math.min(this.wrapperHeight - this.scrollerHeight, 0);\r\n\t\t\tthis.hasHorizontalScroll = this.options.scrollX && this.maxScrollX < 0;\r\n\t\t\tthis.hasVerticalScroll = this.options.scrollY && this.maxScrollY < 0;\r\n\t\t\tthis._reLayout();\r\n\t\t},\r\n\t\tresetPosition: function(time) {\r\n\t\t\tvar x = this.x,\r\n\t\t\t\ty = this.y;\r\n\r\n\t\t\ttime = time || 0;\r\n\t\t\tif (!this.hasHorizontalScroll || this.x > 0) {\r\n\t\t\t\tx = 0;\r\n\t\t\t} else if (this.x < this.maxScrollX) {\r\n\t\t\t\tx = this.maxScrollX;\r\n\t\t\t}\r\n\r\n\t\t\tif (!this.hasVerticalScroll || this.y > 0) {\r\n\t\t\t\ty = 0;\r\n\t\t\t} else if (this.y < this.maxScrollY) {\r\n\t\t\t\ty = this.maxScrollY;\r\n\t\t\t}\r\n\r\n\t\t\tif (x == this.x && y == this.y) {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t\tthis.scrollTo(x, y, time, this.options.scrollEasing);\r\n\r\n\t\t\treturn true;\r\n\t\t},\r\n\t\t_reInit: function() {\r\n\t\t\tvar groups = this.wrapper.querySelectorAll('.' + CLASS_SCROLL);\r\n\t\t\tfor (var i = 0, len = groups.length; i < len; i++) {\r\n\t\t\t\tif (groups[i].parentNode === this.wrapper) {\r\n\t\t\t\t\tthis.scroller = groups[i];\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tthis.scrollerStyle = this.scroller && this.scroller.style;\r\n\t\t},\r\n\t\trefresh: function() {\r\n\t\t\tthis._reInit();\r\n\t\t\tthis.reLayout();\r\n\t\t\t$.trigger(this.scroller, 'refresh', this);\r\n\t\t\tthis.resetPosition();\r\n\t\t},\r\n\t\tscrollTo: function(x, y, time, easing) {\r\n\t\t\tvar easing = easing || ease.circular;\r\n\t\t\t//\t\t\tthis.isInTransition = time > 0 && (this.lastX != x || this.lastY != y);\r\n\t\t\t//暂不严格判断x,y，否则会导致部分版本上不正常触发轮播\r\n\t\t\tthis.isInTransition = time > 0;\r\n\t\t\tif (this.isInTransition) {\r\n\t\t\t\tthis._clearRequestAnimationFrame();\r\n\t\t\t\tthis._transitionTimingFunction(easing.style);\r\n\t\t\t\tthis._transitionTime(time);\r\n\t\t\t\tthis.setTranslate(x, y);\r\n\t\t\t} else {\r\n\t\t\t\tthis.setTranslate(x, y);\r\n\t\t\t}\r\n\r\n\t\t},\r\n\t\tscrollToBottom: function(time, easing) {\r\n\t\t\ttime = time || this.options.scrollTime;\r\n\t\t\tthis.scrollTo(0, this.maxScrollY, time, easing);\r\n\t\t},\r\n\t\tgotoPage: function(index) {\r\n\t\t\tthis._gotoPage(index);\r\n\t\t},\r\n\t\tdestroy: function() {\r\n\t\t\tthis._initEvent(true); //detach\r\n\t\t\tdelete $.data[this.wrapper.getAttribute('data-scroll')];\r\n\t\t\tthis.wrapper.setAttribute('data-scroll', '');\r\n\t\t}\r\n\t});\r\n\t//Indicator\r\n\tvar Indicator = function(scroller, options) {\r\n\t\tthis.wrapper = typeof options.el == 'string' ? document.querySelector(options.el) : options.el;\r\n\t\tthis.wrapperStyle = this.wrapper.style;\r\n\t\tthis.indicator = this.wrapper.children[0];\r\n\t\tthis.indicatorStyle = this.indicator.style;\r\n\t\tthis.scroller = scroller;\r\n\r\n\t\tthis.options = $.extend({\r\n\t\t\tlistenX: true,\r\n\t\t\tlistenY: true,\r\n\t\t\tfade: false,\r\n\t\t\tspeedRatioX: 0,\r\n\t\t\tspeedRatioY: 0\r\n\t\t}, options);\r\n\r\n\t\tthis.sizeRatioX = 1;\r\n\t\tthis.sizeRatioY = 1;\r\n\t\tthis.maxPosX = 0;\r\n\t\tthis.maxPosY = 0;\r\n\r\n\t\tif (this.options.fade) {\r\n\t\t\tthis.wrapperStyle['webkitTransform'] = this.scroller.translateZ;\r\n\t\t\tthis.wrapperStyle['webkitTransitionDuration'] = this.options.fixedBadAndorid && $.os.isBadAndroid ? '0.001s' : '0ms';\r\n\t\t\tthis.wrapperStyle.opacity = '0';\r\n\t\t}\r\n\t}\r\n\tIndicator.prototype = {\r\n\t\thandleEvent: function(e) {\r\n\r\n\t\t},\r\n\t\ttransitionTime: function(time) {\r\n\t\t\ttime = time || 0;\r\n\t\t\tthis.indicatorStyle['webkitTransitionDuration'] = time + 'ms';\r\n\t\t\tif (this.scroller.options.fixedBadAndorid && !time && $.os.isBadAndroid) {\r\n\t\t\t\tthis.indicatorStyle['webkitTransitionDuration'] = '0.001s';\r\n\t\t\t}\r\n\t\t},\r\n\t\ttransitionTimingFunction: function(easing) {\r\n\t\t\tthis.indicatorStyle['webkitTransitionTimingFunction'] = easing;\r\n\t\t},\r\n\t\trefresh: function() {\r\n\t\t\tthis.transitionTime();\r\n\r\n\t\t\tif (this.options.listenX && !this.options.listenY) {\r\n\t\t\t\tthis.indicatorStyle.display = this.scroller.hasHorizontalScroll ? 'block' : 'none';\r\n\t\t\t} else if (this.options.listenY && !this.options.listenX) {\r\n\t\t\t\tthis.indicatorStyle.display = this.scroller.hasVerticalScroll ? 'block' : 'none';\r\n\t\t\t} else {\r\n\t\t\t\tthis.indicatorStyle.display = this.scroller.hasHorizontalScroll || this.scroller.hasVerticalScroll ? 'block' : 'none';\r\n\t\t\t}\r\n\r\n\t\t\tthis.wrapper.offsetHeight; // force refresh\r\n\r\n\t\t\tif (this.options.listenX) {\r\n\t\t\t\tthis.wrapperWidth = this.wrapper.clientWidth;\r\n\t\t\t\tthis.indicatorWidth = Math.max(Math.round(this.wrapperWidth * this.wrapperWidth / (this.scroller.scrollerWidth || this.wrapperWidth || 1)), 8);\r\n\t\t\t\tthis.indicatorStyle.width = this.indicatorWidth + 'px';\r\n\r\n\t\t\t\tthis.maxPosX = this.wrapperWidth - this.indicatorWidth;\r\n\r\n\t\t\t\tthis.minBoundaryX = 0;\r\n\t\t\t\tthis.maxBoundaryX = this.maxPosX;\r\n\r\n\t\t\t\tthis.sizeRatioX = this.options.speedRatioX || (this.scroller.maxScrollX && (this.maxPosX / this.scroller.maxScrollX));\r\n\t\t\t}\r\n\r\n\t\t\tif (this.options.listenY) {\r\n\t\t\t\tthis.wrapperHeight = this.wrapper.clientHeight;\r\n\t\t\t\tthis.indicatorHeight = Math.max(Math.round(this.wrapperHeight * this.wrapperHeight / (this.scroller.scrollerHeight || this.wrapperHeight || 1)), 8);\r\n\t\t\t\tthis.indicatorStyle.height = this.indicatorHeight + 'px';\r\n\r\n\t\t\t\tthis.maxPosY = this.wrapperHeight - this.indicatorHeight;\r\n\r\n\t\t\t\tthis.minBoundaryY = 0;\r\n\t\t\t\tthis.maxBoundaryY = this.maxPosY;\r\n\r\n\t\t\t\tthis.sizeRatioY = this.options.speedRatioY || (this.scroller.maxScrollY && (this.maxPosY / this.scroller.maxScrollY));\r\n\t\t\t}\r\n\r\n\t\t\tthis.updatePosition();\r\n\t\t},\r\n\r\n\t\tupdatePosition: function() {\r\n\t\t\tvar x = this.options.listenX && Math.round(this.sizeRatioX * this.scroller.x) || 0,\r\n\t\t\t\ty = this.options.listenY && Math.round(this.sizeRatioY * this.scroller.y) || 0;\r\n\r\n\t\t\tif (x < this.minBoundaryX) {\r\n\t\t\t\tthis.width = Math.max(this.indicatorWidth + x, 8);\r\n\t\t\t\tthis.indicatorStyle.width = this.width + 'px';\r\n\t\t\t\tx = this.minBoundaryX;\r\n\t\t\t} else if (x > this.maxBoundaryX) {\r\n\t\t\t\tthis.width = Math.max(this.indicatorWidth - (x - this.maxPosX), 8);\r\n\t\t\t\tthis.indicatorStyle.width = this.width + 'px';\r\n\t\t\t\tx = this.maxPosX + this.indicatorWidth - this.width;\r\n\t\t\t} else if (this.width != this.indicatorWidth) {\r\n\t\t\t\tthis.width = this.indicatorWidth;\r\n\t\t\t\tthis.indicatorStyle.width = this.width + 'px';\r\n\t\t\t}\r\n\r\n\t\t\tif (y < this.minBoundaryY) {\r\n\t\t\t\tthis.height = Math.max(this.indicatorHeight + y * 3, 8);\r\n\t\t\t\tthis.indicatorStyle.height = this.height + 'px';\r\n\t\t\t\ty = this.minBoundaryY;\r\n\t\t\t} else if (y > this.maxBoundaryY) {\r\n\t\t\t\tthis.height = Math.max(this.indicatorHeight - (y - this.maxPosY) * 3, 8);\r\n\t\t\t\tthis.indicatorStyle.height = this.height + 'px';\r\n\t\t\t\ty = this.maxPosY + this.indicatorHeight - this.height;\r\n\t\t\t} else if (this.height != this.indicatorHeight) {\r\n\t\t\t\tthis.height = this.indicatorHeight;\r\n\t\t\t\tthis.indicatorStyle.height = this.height + 'px';\r\n\t\t\t}\r\n\r\n\t\t\tthis.x = x;\r\n\t\t\tthis.y = y;\r\n\r\n\t\t\tthis.indicatorStyle['webkitTransform'] = this.scroller._getTranslateStr(x, y);\r\n\r\n\t\t},\r\n\t\tfade: function(val, hold) {\r\n\t\t\tif (hold && !this.visible) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tclearTimeout(this.fadeTimeout);\r\n\t\t\tthis.fadeTimeout = null;\r\n\r\n\t\t\tvar time = val ? 250 : 500,\r\n\t\t\t\tdelay = val ? 0 : 300;\r\n\r\n\t\t\tval = val ? '1' : '0';\r\n\r\n\t\t\tthis.wrapperStyle['webkitTransitionDuration'] = time + 'ms';\r\n\r\n\t\t\tthis.fadeTimeout = setTimeout((function(val) {\r\n\t\t\t\tthis.wrapperStyle.opacity = val;\r\n\t\t\t\tthis.visible = +val;\r\n\t\t\t}).bind(this, val), delay);\r\n\t\t}\r\n\t};\r\n\r\n\t$.Scroll = Scroll;\r\n\r\n\t$.fn.scroll = function(options) {\r\n\t\tvar scrollApis = [];\r\n\t\tthis.each(function() {\r\n\t\t\tvar scrollApi = null;\r\n\t\t\tvar self = this;\r\n\t\t\tvar id = self.getAttribute('data-scroll');\r\n\t\t\tif (!id) {\r\n\t\t\t\tid = ++$.uuid;\r\n\t\t\t\tvar _options = $.extend({}, options);\r\n\t\t\t\tif (self.classList.contains('mui-segmented-control')) {\r\n\t\t\t\t\t_options = $.extend(_options, {\r\n\t\t\t\t\t\tscrollY: false,\r\n\t\t\t\t\t\tscrollX: true,\r\n\t\t\t\t\t\tindicators: false,\r\n\t\t\t\t\t\tsnap: '.mui-control-item'\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t\t$.data[id] = scrollApi = new Scroll(self, _options);\r\n\t\t\t\tself.setAttribute('data-scroll', id);\r\n\t\t\t} else {\r\n\t\t\t\tscrollApi = $.data[id];\r\n\t\t\t}\r\n\t\t\tscrollApis.push(scrollApi);\r\n\t\t});\r\n\t\treturn scrollApis.length === 1 ? scrollApis[0] : scrollApis;\r\n\t};\r\n})(mui, window, document);\r\n(function($, window, document, undefined) {\r\n\r\n    var CLASS_VISIBILITY = 'mui-visibility';\r\n    var CLASS_HIDDEN = 'mui-hidden';\r\n\r\n    var PullRefresh = $.Scroll.extend($.extend({\r\n        handleEvent: function(e) {\r\n            this._super(e);\r\n            if (e.type === 'scrollbottom') {\r\n                if (e.target === this.scroller) {\r\n                    this._scrollbottom();\r\n                }\r\n            }\r\n        },\r\n        _scrollbottom: function() {\r\n            if (!this.pulldown && !this.loading) {\r\n                this.pulldown = false;\r\n                this._initPullupRefresh();\r\n                this.pullupLoading();\r\n            }\r\n        },\r\n        _start: function(e) {\r\n            //仅下拉刷新在start阻止默认事件\r\n            if (e.touches && e.touches.length && e.touches[0].clientX > 30) {\r\n                e.target && !this._preventDefaultException(e.target, this.options.preventDefaultException) && e.preventDefault();\r\n            }\r\n            if (!this.loading) {\r\n                this.pulldown = this.pullPocket = this.pullCaption = this.pullLoading = false\r\n            }\r\n            this._super(e);\r\n        },\r\n        _drag: function(e) {\r\n            if (this.y >= 0 && this.disablePulldown && e.detail.direction === 'down') { //禁用下拉刷新\r\n                return;\r\n            }\r\n            this._super(e);\r\n            if (!this.pulldown && !this.loading && this.topPocket && e.detail.direction === 'down' && this.y >= 0) {\r\n                this._initPulldownRefresh();\r\n            }\r\n            if (this.pulldown) {\r\n                this._setCaption(this.y > this.options.down.height ? this.options.down.contentover : this.options.down.contentdown);\r\n            }\r\n        },\r\n\r\n        _reLayout: function() {\r\n            this.hasVerticalScroll = true;\r\n            this._super();\r\n        },\r\n        //API\r\n        resetPosition: function(time) {\r\n            if (this.pulldown && !this.disablePulldown) {\r\n                if (this.y >= this.options.down.height) {\r\n                    this.pulldownLoading(undefined, time || 0);\r\n                    return true;\r\n                } else {\r\n                    !this.loading && this.topPocket.classList.remove(CLASS_VISIBILITY);\r\n                }\r\n            }\r\n            return this._super(time);\r\n        },\r\n        pulldownLoading: function(y, time) {\r\n            typeof y === 'undefined' && (y = this.options.down.height); //默认高度\r\n            this.scrollTo(0, y, time, this.options.bounceEasing);\r\n            if (this.loading) {\r\n                return;\r\n            }\r\n            //\t\t\tif (!this.pulldown) {\r\n            this._initPulldownRefresh();\r\n            //\t\t\t}\r\n            this._setCaption(this.options.down.contentrefresh);\r\n            this.loading = true;\r\n            this.indicators.map(function(indicator) {\r\n                indicator.fade(0);\r\n            });\r\n            var callback = this.options.down.callback;\r\n            callback && callback.call(this);\r\n        },\r\n        endPulldownToRefresh: function() {\r\n            var self = this;\r\n            if (self.topPocket && self.loading && this.pulldown) {\r\n                self.scrollTo(0, 0, self.options.bounceTime, self.options.bounceEasing);\r\n                self.loading = false;\r\n                self._setCaption(self.options.down.contentdown, true);\r\n                setTimeout(function() {\r\n                    self.loading || self.topPocket.classList.remove(CLASS_VISIBILITY);\r\n                }, 350);\r\n            }\r\n        },\r\n        pullupLoading: function(callback, x, time) {\r\n            x = x || 0;\r\n            this.scrollTo(x, this.maxScrollY, time, this.options.bounceEasing);\r\n            if (this.loading) {\r\n                return;\r\n            }\r\n            this._initPullupRefresh();\r\n            this._setCaption(this.options.up.contentrefresh);\r\n            this.indicators.map(function(indicator) {\r\n                indicator.fade(0);\r\n            });\r\n            this.loading = true;\r\n            callback = callback || this.options.up.callback;\r\n            callback && callback.call(this);\r\n        },\r\n        endPullupToRefresh: function(finished) {\r\n            var self = this;\r\n            if (self.bottomPocket) { // && self.loading && !this.pulldown\r\n                self.loading = false;\r\n                if (finished) {\r\n                    this.finished = true;\r\n                    self._setCaption(self.options.up.contentnomore);\r\n                    //\t\t\t\t\tself.bottomPocket.classList.remove(CLASS_VISIBILITY);\r\n                    //\t\t\t\t\tself.bottomPocket.classList.add(CLASS_HIDDEN);\r\n                    self.wrapper.removeEventListener('scrollbottom', self);\r\n                } else {\r\n                    self._setCaption(self.options.up.contentdown);\r\n                    //\t\t\t\t\tsetTimeout(function() {\r\n                    self.loading || self.bottomPocket.classList.remove(CLASS_VISIBILITY);\r\n                    //\t\t\t\t\t}, 300);\r\n                }\r\n            }\r\n        },\r\n        disablePullupToRefresh: function() {\r\n            this._initPullupRefresh();\r\n            this.bottomPocket.className = 'mui-pull-bottom-pocket' + ' ' + CLASS_HIDDEN;\r\n            this.wrapper.removeEventListener('scrollbottom', this);\r\n        },\r\n        disablePulldownToRefresh: function() {\r\n            this._initPulldownRefresh();\r\n            this.topPocket.className = 'mui-pull-top-pocket' + ' ' + CLASS_HIDDEN;\r\n            this.disablePulldown = true;\r\n        },\r\n        enablePulldownToRefresh: function() {\r\n            this._initPulldownRefresh();\r\n            this.topPocket.classList.remove(CLASS_HIDDEN);\r\n            this._setCaption(this.options.down.contentdown);\r\n            this.disablePulldown = false;\r\n        },\r\n        enablePullupToRefresh: function() {\r\n            this._initPullupRefresh();\r\n            this.bottomPocket.classList.remove(CLASS_HIDDEN);\r\n            this._setCaption(this.options.up.contentdown);\r\n            this.wrapper.addEventListener('scrollbottom', this);\r\n        },\r\n        refresh: function(isReset) {\r\n            if (isReset && this.finished) {\r\n                this.enablePullupToRefresh();\r\n                this.finished = false;\r\n            }\r\n            this._super();\r\n        },\r\n    }, $.PullRefresh));\r\n    $.fn.pullRefresh = function(options) {\r\n        if (this.length === 1) {\r\n            var self = this[0];\r\n            var pullRefreshApi = null;\r\n            var id = self.getAttribute('data-pullrefresh');\r\n            if (!id && typeof options === 'undefined') {\r\n                return false;\r\n            }\r\n            options = options || {};\r\n            if (!id) {\r\n                id = ++$.uuid;\r\n                $.data[id] = pullRefreshApi = new PullRefresh(self, options);\r\n                self.setAttribute('data-pullrefresh', id);\r\n            } else {\r\n                pullRefreshApi = $.data[id];\r\n            }\r\n            if (options.down && options.down.auto) { //如果设置了auto，则自动下拉一次\r\n                pullRefreshApi.pulldownLoading(options.down.autoY);\r\n            } else if (options.up && options.up.auto) { //如果设置了auto，则自动上拉一次\r\n                pullRefreshApi.pullupLoading();\r\n            }\r\n            //暂不提供这种调用方式吧\t\t\t\r\n            //\t\t\tif (typeof options === 'string') {\r\n            //\t\t\t\tvar methodValue = pullRefreshApi[options].apply(pullRefreshApi, $.slice.call(arguments, 1));\r\n            //\t\t\t\tif (methodValue !== undefined) {\r\n            //\t\t\t\t\treturn methodValue;\r\n            //\t\t\t\t}\r\n            //\t\t\t}\r\n            return pullRefreshApi;\r\n        }\r\n    };\r\n})(mui, window, document);\r\n/**\r\n * snap 重构\r\n * @param {Object} $\r\n * @param {Object} window\r\n */\r\n(function($, window) {\r\n\tvar CLASS_SLIDER = 'mui-slider';\r\n\tvar CLASS_SLIDER_GROUP = 'mui-slider-group';\r\n\tvar CLASS_SLIDER_LOOP = 'mui-slider-loop';\r\n\tvar CLASS_SLIDER_INDICATOR = 'mui-slider-indicator';\r\n\tvar CLASS_ACTION_PREVIOUS = 'mui-action-previous';\r\n\tvar CLASS_ACTION_NEXT = 'mui-action-next';\r\n\tvar CLASS_SLIDER_ITEM = 'mui-slider-item';\r\n\r\n\tvar CLASS_ACTIVE = 'mui-active';\r\n\r\n\tvar SELECTOR_SLIDER_ITEM = '.' + CLASS_SLIDER_ITEM;\r\n\tvar SELECTOR_SLIDER_INDICATOR = '.' + CLASS_SLIDER_INDICATOR;\r\n\tvar SELECTOR_SLIDER_PROGRESS_BAR = '.mui-slider-progress-bar';\r\n\r\n\tvar Slider = $.Slider = $.Scroll.extend({\r\n\t\tinit: function(element, options) {\r\n\t\t\tthis._super(element, $.extend(true, {\r\n\t\t\t\tfingers: 1,\r\n\t\t\t\tinterval: 0, //设置为0，则不定时轮播\r\n\t\t\t\tscrollY: false,\r\n\t\t\t\tscrollX: true,\r\n\t\t\t\tindicators: false,\r\n\t\t\t\tscrollTime: 1000,\r\n\t\t\t\tstartX: false,\r\n\t\t\t\tslideTime: 0, //滑动动画时间\r\n\t\t\t\tsnap: SELECTOR_SLIDER_ITEM\r\n\t\t\t}, options));\r\n\t\t\tif (this.options.startX) {\r\n\t\t\t\t//\t\t\t\t$.trigger(this.wrapper, 'scrollend', this);\r\n\t\t\t}\r\n\t\t},\r\n\t\t_init: function() {\r\n\t\t\tthis._reInit();\r\n\t\t\tif (this.scroller) {\r\n\t\t\t\tthis.scrollerStyle = this.scroller.style;\r\n\t\t\t\tthis.progressBar = this.wrapper.querySelector(SELECTOR_SLIDER_PROGRESS_BAR);\r\n\t\t\t\tif (this.progressBar) {\r\n\t\t\t\t\tthis.progressBarWidth = this.progressBar.offsetWidth;\r\n\t\t\t\t\tthis.progressBarStyle = this.progressBar.style;\r\n\t\t\t\t}\r\n\t\t\t\t//忘记这个代码是干什么的了？\r\n\t\t\t\t//\t\t\t\tthis.x = this._getScroll();\r\n\t\t\t\t//\t\t\t\tif (this.options.startX === false) {\r\n\t\t\t\t//\t\t\t\t\tthis.options.startX = this.x;\r\n\t\t\t\t//\t\t\t\t}\r\n\t\t\t\t//根据active修正startX\r\n\r\n\t\t\t\tthis._super();\r\n\t\t\t\tthis._initTimer();\r\n\t\t\t}\r\n\t\t},\r\n\t\t_triggerSlide: function() {\r\n\t\t\tvar self = this;\r\n\t\t\tself.isInTransition = false;\r\n\t\t\tvar page = self.currentPage;\r\n\t\t\tself.slideNumber = self._fixedSlideNumber();\r\n\t\t\tif (self.loop) {\r\n\t\t\t\tif (self.slideNumber === 0) {\r\n\t\t\t\t\tself.setTranslate(self.pages[1][0].x, 0);\r\n\t\t\t\t} else if (self.slideNumber === self.itemLength - 3) {\r\n\t\t\t\t\tself.setTranslate(self.pages[self.itemLength - 2][0].x, 0);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif (self.lastSlideNumber != self.slideNumber) {\r\n\t\t\t\tself.lastSlideNumber = self.slideNumber;\r\n\t\t\t\tself.lastPage = self.currentPage;\r\n\t\t\t\t$.trigger(self.wrapper, 'slide', {\r\n\t\t\t\t\tslideNumber: self.slideNumber\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t\tself._initTimer();\r\n\t\t},\r\n\t\t_handleSlide: function(e) {\r\n\t\t\tvar self = this;\r\n\t\t\tif (e.target !== self.wrapper) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tvar detail = e.detail;\r\n\t\t\tdetail.slideNumber = detail.slideNumber || 0;\r\n\t\t\tvar temps = self.scroller.querySelectorAll(SELECTOR_SLIDER_ITEM);\r\n\t\t\tvar items = [];\r\n\t\t\tfor (var i = 0, len = temps.length; i < len; i++) {\r\n\t\t\t\tvar item = temps[i];\r\n\t\t\t\tif (item.parentNode === self.scroller) {\r\n\t\t\t\t\titems.push(item);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tvar _slideNumber = detail.slideNumber;\r\n\t\t\tif (self.loop) {\r\n\t\t\t\t_slideNumber += 1;\r\n\t\t\t}\r\n\t\t\tif (!self.wrapper.classList.contains('mui-segmented-control')) {\r\n\t\t\t\tfor (var i = 0, len = items.length; i < len; i++) {\r\n\t\t\t\t\tvar item = items[i];\r\n\t\t\t\t\tif (item.parentNode === self.scroller) {\r\n\t\t\t\t\t\tif (i === _slideNumber) {\r\n\t\t\t\t\t\t\titem.classList.add(CLASS_ACTIVE);\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\titem.classList.remove(CLASS_ACTIVE);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tvar indicatorWrap = self.wrapper.querySelector('.mui-slider-indicator');\r\n\t\t\tif (indicatorWrap) {\r\n\t\t\t\tif (indicatorWrap.getAttribute('data-scroll')) { //scroll\r\n\t\t\t\t\t$(indicatorWrap).scroll().gotoPage(detail.slideNumber);\r\n\t\t\t\t}\r\n\t\t\t\tvar indicators = indicatorWrap.querySelectorAll('.mui-indicator');\r\n\t\t\t\tif (indicators.length > 0) { //图片轮播\r\n\t\t\t\t\tfor (var i = 0, len = indicators.length; i < len; i++) {\r\n\t\t\t\t\t\tindicators[i].classList[i === detail.slideNumber ? 'add' : 'remove'](CLASS_ACTIVE);\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\tvar number = indicatorWrap.querySelector('.mui-number span');\r\n\t\t\t\t\tif (number) { //图文表格\r\n\t\t\t\t\t\tnumber.innerText = (detail.slideNumber + 1);\r\n\t\t\t\t\t} else { //segmented controls\r\n\t\t\t\t\t\tvar controlItems = indicatorWrap.querySelectorAll('.mui-control-item');\r\n\t\t\t\t\t\tfor (var i = 0, len = controlItems.length; i < len; i++) {\r\n\t\t\t\t\t\t\tcontrolItems[i].classList[i === detail.slideNumber ? 'add' : 'remove'](CLASS_ACTIVE);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\te.stopPropagation();\r\n\t\t},\r\n\t\t_handleTabShow: function(e) {\r\n\t\t\tvar self = this;\r\n\t\t\tself.gotoItem((e.detail.tabNumber || 0), self.options.slideTime);\r\n\t\t},\r\n\t\t_handleIndicatorTap: function(event) {\r\n\t\t\tvar self = this;\r\n\t\t\tvar target = event.target;\r\n\t\t\tif (target.classList.contains(CLASS_ACTION_PREVIOUS) || target.classList.contains(CLASS_ACTION_NEXT)) {\r\n\t\t\t\tself[target.classList.contains(CLASS_ACTION_PREVIOUS) ? 'prevItem' : 'nextItem']();\r\n\t\t\t\tevent.stopPropagation();\r\n\t\t\t}\r\n\t\t},\r\n\t\t_initEvent: function(detach) {\r\n\t\t\tvar self = this;\r\n\t\t\tself._super(detach);\r\n\t\t\tvar action = detach ? 'removeEventListener' : 'addEventListener';\r\n\t\t\tself.wrapper[action]('slide', this);\r\n\t\t\tself.wrapper[action]($.eventName('shown', 'tab'), this);\r\n\t\t},\r\n\t\thandleEvent: function(e) {\r\n\t\t\tthis._super(e);\r\n\t\t\tswitch (e.type) {\r\n\t\t\t\tcase 'slide':\r\n\t\t\t\t\tthis._handleSlide(e);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase $.eventName('shown', 'tab'):\r\n\t\t\t\t\tif (~this.snaps.indexOf(e.target)) { //避免嵌套监听错误的tab show\r\n\t\t\t\t\t\tthis._handleTabShow(e);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t},\r\n\t\t_scrollend: function(e) {\r\n\t\t\tthis._super(e);\r\n\t\t\tthis._triggerSlide(e);\r\n\t\t},\r\n\t\t_drag: function(e) {\r\n\t\t\tthis._super(e);\r\n\t\t\tvar direction = e.detail.direction;\r\n\t\t\tif (direction === 'left' || direction === 'right') {\r\n\t\t\t\t//拖拽期间取消定时\r\n\t\t\t\tvar slidershowTimer = this.wrapper.getAttribute('data-slidershowTimer');\r\n\t\t\t\tslidershowTimer && window.clearTimeout(slidershowTimer);\r\n\r\n\t\t\t\te.stopPropagation();\r\n\t\t\t}\r\n\t\t},\r\n\t\t_initTimer: function() {\r\n\t\t\tvar self = this;\r\n\t\t\tvar slider = self.wrapper;\r\n\t\t\tvar interval = self.options.interval;\r\n\t\t\tvar slidershowTimer = slider.getAttribute('data-slidershowTimer');\r\n\t\t\tslidershowTimer && window.clearTimeout(slidershowTimer);\r\n\t\t\tif (interval) {\r\n\t\t\t\tslidershowTimer = window.setTimeout(function() {\r\n\t\t\t\t\tif (!slider) {\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\t\t\t\t\t//仅slider显示状态进行自动轮播\r\n\t\t\t\t\tif (!!(slider.offsetWidth || slider.offsetHeight)) {\r\n\t\t\t\t\t\tself.nextItem(true);\r\n\t\t\t\t\t\t//下一个\r\n\t\t\t\t\t}\r\n\t\t\t\t\tself._initTimer();\r\n\t\t\t\t}, interval);\r\n\t\t\t\tslider.setAttribute('data-slidershowTimer', slidershowTimer);\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t_fixedSlideNumber: function(page) {\r\n\t\t\tpage = page || this.currentPage;\r\n\t\t\tvar slideNumber = page.pageX;\r\n\t\t\tif (this.loop) {\r\n\t\t\t\tif (page.pageX === 0) {\r\n\t\t\t\t\tslideNumber = this.itemLength - 3;\r\n\t\t\t\t} else if (page.pageX === (this.itemLength - 1)) {\r\n\t\t\t\t\tslideNumber = 0;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tslideNumber = page.pageX - 1;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn slideNumber;\r\n\t\t},\r\n\t\t_reLayout: function() {\r\n\t\t\tthis.hasHorizontalScroll = true;\r\n\t\t\tthis.loop = this.scroller.classList.contains(CLASS_SLIDER_LOOP);\r\n\t\t\tthis._super();\r\n\t\t},\r\n\t\t_getScroll: function() {\r\n\t\t\tvar result = $.parseTranslateMatrix($.getStyles(this.scroller, 'webkitTransform'));\r\n\t\t\treturn result ? result.x : 0;\r\n\t\t},\r\n\t\t_transitionEnd: function(e) {\r\n\t\t\tif (e.target !== this.scroller || !this.isInTransition) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tthis._transitionTime();\r\n\t\t\tthis.isInTransition = false;\r\n\t\t\t$.trigger(this.wrapper, 'scrollend', this);\r\n\t\t},\r\n\t\t_flick: function(e) {\r\n\t\t\tif (!this.moved) { //无moved\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tvar detail = e.detail;\r\n\t\t\tvar direction = detail.direction;\r\n\t\t\tthis._clearRequestAnimationFrame();\r\n\t\t\tthis.isInTransition = true;\r\n\t\t\t//\t\t\tif (direction === 'up' || direction === 'down') {\r\n\t\t\t//\t\t\t\tthis.resetPosition(this.options.bounceTime);\r\n\t\t\t//\t\t\t\treturn;\r\n\t\t\t//\t\t\t}\r\n\t\t\tif (e.type === 'flick') {\r\n\t\t\t\tif (detail.deltaTime < 200) { //flick，太容易触发，额外校验一下deltaTime\r\n\t\t\t\t\tthis.x = this._getPage((this.slideNumber + (direction === 'right' ? -1 : 1)), true).x;\r\n\t\t\t\t}\r\n\t\t\t\tthis.resetPosition(this.options.bounceTime);\r\n\t\t\t} else if (e.type === 'dragend' && !detail.flick) {\r\n\t\t\t\tthis.resetPosition(this.options.bounceTime);\r\n\t\t\t}\r\n\t\t\te.stopPropagation();\r\n\t\t},\r\n\t\t_initSnap: function() {\r\n\t\t\tthis.scrollerWidth = this.itemLength * this.scrollerWidth;\r\n\t\t\tthis.maxScrollX = Math.min(this.wrapperWidth - this.scrollerWidth, 0);\r\n\t\t\tthis._super();\r\n\t\t\tif (!this.currentPage.x) {\r\n\t\t\t\t//当slider处于隐藏状态时，导致snap计算是错误的，临时先这么判断一下，后续要考虑解决所有scroll在隐藏状态下初始化属性不正确的问题\r\n\t\t\t\tvar currentPage = this.pages[this.loop ? 1 : 0];\r\n\t\t\t\tcurrentPage = currentPage || this.pages[0];\r\n\t\t\t\tif (!currentPage) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tthis.currentPage = currentPage[0];\r\n\t\t\t\tthis.slideNumber = 0;\r\n\t\t\t\tthis.lastSlideNumber = typeof this.lastSlideNumber === 'undefined' ? 0 : this.lastSlideNumber;\r\n\t\t\t} else {\r\n\t\t\t\tthis.slideNumber = this._fixedSlideNumber();\r\n\t\t\t\tthis.lastSlideNumber = typeof this.lastSlideNumber === 'undefined' ? this.slideNumber : this.lastSlideNumber;\r\n\t\t\t}\r\n\t\t\tthis.options.startX = this.currentPage.x || 0;\r\n\t\t},\r\n\t\t_getSnapX: function(offsetLeft) {\r\n\t\t\treturn Math.max(-offsetLeft, this.maxScrollX);\r\n\t\t},\r\n\t\t_getPage: function(slideNumber, isFlick) {\r\n\t\t\tif (this.loop) {\r\n\t\t\t\tif (slideNumber > (this.itemLength - (isFlick ? 2 : 3))) {\r\n\t\t\t\t\tslideNumber = 1;\r\n\t\t\t\t\ttime = 0;\r\n\t\t\t\t} else if (slideNumber < (isFlick ? -1 : 0)) {\r\n\t\t\t\t\tslideNumber = this.itemLength - 2;\r\n\t\t\t\t\ttime = 0;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tslideNumber += 1;\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tif (!isFlick) {\r\n\t\t\t\t\tif (slideNumber > (this.itemLength - 1)) {\r\n\t\t\t\t\t\tslideNumber = 0;\r\n\t\t\t\t\t\ttime = 0;\r\n\t\t\t\t\t} else if (slideNumber < 0) {\r\n\t\t\t\t\t\tslideNumber = this.itemLength - 1;\r\n\t\t\t\t\t\ttime = 0;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tslideNumber = Math.min(Math.max(0, slideNumber), this.itemLength - 1);\r\n\t\t\t}\r\n\t\t\treturn this.pages[slideNumber][0];\r\n\t\t},\r\n\t\t_gotoItem: function(slideNumber, time) {\r\n\t\t\tthis.currentPage = this._getPage(slideNumber, true); //此处传true。可保证程序切换时，动画与人手操作一致(第一张，最后一张的切换动画)\r\n\t\t\tthis.scrollTo(this.currentPage.x, 0, time, this.options.scrollEasing);\r\n\t\t\tif (time === 0) {\r\n\t\t\t\t$.trigger(this.wrapper, 'scrollend', this);\r\n\t\t\t}\r\n\t\t},\r\n\t\t//API\r\n\t\tsetTranslate: function(x, y) {\r\n\t\t\tthis._super(x, y);\r\n\t\t\tvar progressBar = this.progressBar;\r\n\t\t\tif (progressBar) {\r\n\t\t\t\tthis.progressBarStyle.webkitTransform = this._getTranslateStr((-x * (this.progressBarWidth / this.wrapperWidth)), 0);\r\n\t\t\t}\r\n\t\t},\r\n\t\tresetPosition: function(time) {\r\n\t\t\ttime = time || 0;\r\n\t\t\tif (this.x > 0) {\r\n\t\t\t\tthis.x = 0;\r\n\t\t\t} else if (this.x < this.maxScrollX) {\r\n\t\t\t\tthis.x = this.maxScrollX;\r\n\t\t\t}\r\n\t\t\tthis.currentPage = this._nearestSnap(this.x);\r\n\t\t\tthis.scrollTo(this.currentPage.x, 0, time, this.options.scrollEasing);\r\n\t\t\treturn true;\r\n\t\t},\r\n\t\tgotoItem: function(slideNumber, time) {\r\n\t\t\tthis._gotoItem(slideNumber, typeof time === 'undefined' ? this.options.scrollTime : time);\r\n\t\t},\r\n\t\tnextItem: function() {\r\n\t\t\tthis._gotoItem(this.slideNumber + 1, this.options.scrollTime);\r\n\t\t},\r\n\t\tprevItem: function() {\r\n\t\t\tthis._gotoItem(this.slideNumber - 1, this.options.scrollTime);\r\n\t\t},\r\n\t\tgetSlideNumber: function() {\r\n\t\t\treturn this.slideNumber || 0;\r\n\t\t},\r\n\t\t_reInit: function() {\r\n\t\t\tvar groups = this.wrapper.querySelectorAll('.' + CLASS_SLIDER_GROUP);\r\n\t\t\tfor (var i = 0, len = groups.length; i < len; i++) {\r\n\t\t\t\tif (groups[i].parentNode === this.wrapper) {\r\n\t\t\t\t\tthis.scroller = groups[i];\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tthis.scrollerStyle = this.scroller && this.scroller.style;\r\n\t\t\tif (this.progressBar) {\r\n\t\t\t\tthis.progressBarWidth = this.progressBar.offsetWidth;\r\n\t\t\t\tthis.progressBarStyle = this.progressBar.style;\r\n\t\t\t}\r\n\t\t},\r\n\t\trefresh: function(options) {\r\n\t\t\tif (options) {\r\n\t\t\t\t$.extend(this.options, options);\r\n\t\t\t\tthis._super();\r\n\t\t\t\tthis._initTimer();\r\n\t\t\t} else {\r\n\t\t\t\tthis._super();\r\n\t\t\t}\r\n\t\t},\r\n\t\tdestroy: function() {\r\n\t\t\tthis._initEvent(true); //detach\r\n\t\t\tdelete $.data[this.wrapper.getAttribute('data-slider')];\r\n\t\t\tthis.wrapper.setAttribute('data-slider', '');\r\n\t\t}\r\n\t});\r\n\t$.fn.slider = function(options) {\r\n\t\tvar slider = null;\r\n\t\tthis.each(function() {\r\n\t\t\tvar sliderElement = this;\r\n\t\t\tif (!this.classList.contains(CLASS_SLIDER)) {\r\n\t\t\t\tsliderElement = this.querySelector('.' + CLASS_SLIDER);\r\n\t\t\t}\r\n\t\t\tif (sliderElement && sliderElement.querySelector(SELECTOR_SLIDER_ITEM)) {\r\n\t\t\t\tvar id = sliderElement.getAttribute('data-slider');\r\n\t\t\t\tif (!id) {\r\n\t\t\t\t\tid = ++$.uuid;\r\n\t\t\t\t\t$.data[id] = slider = new Slider(sliderElement, options);\r\n\t\t\t\t\tsliderElement.setAttribute('data-slider', id);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tslider = $.data[id];\r\n\t\t\t\t\tif (slider && options) {\r\n\t\t\t\t\t\tslider.refresh(options);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t\treturn slider;\r\n\t};\r\n\t$.ready(function() {\r\n\t\t//\t\tsetTimeout(function() {\r\n\t\t$('.mui-slider').slider();\r\n\t\t$('.mui-scroll-wrapper.mui-slider-indicator.mui-segmented-control').scroll({\r\n\t\t\tscrollY: false,\r\n\t\t\tscrollX: true,\r\n\t\t\tindicators: false,\r\n\t\t\tsnap: '.mui-control-item'\r\n\t\t});\r\n\t\t//\t\t}, 500); //临时处理slider宽度计算不正确的问题(初步确认是scrollbar导致的)\r\n\r\n\t});\r\n})(mui, window);\r\n/**\r\n * pullRefresh 5+\r\n * @param {type} $\r\n * @returns {undefined}\r\n */\r\n(function($, document) {\r\n    if (!($.os.plus)) { //仅在5+android支持多webview的使用\r\n        return;\r\n    }\r\n    $.plusReady(function() {\r\n        if (window.__NWin_Enable__ === false) { //不支持多webview，则不用5+下拉刷新\r\n            return;\r\n        }\r\n        var CLASS_PLUS_PULLREFRESH = 'mui-plus-pullrefresh';\r\n        var CLASS_VISIBILITY = 'mui-visibility';\r\n        var CLASS_HIDDEN = 'mui-hidden';\r\n        var CLASS_BLOCK = 'mui-block';\r\n\r\n        var CLASS_PULL_CAPTION = 'mui-pull-caption';\r\n        var CLASS_PULL_CAPTION_DOWN = 'mui-pull-caption-down';\r\n        var CLASS_PULL_CAPTION_REFRESH = 'mui-pull-caption-refresh';\r\n        var CLASS_PULL_CAPTION_NOMORE = 'mui-pull-caption-nomore';\r\n\r\n        var PlusPullRefresh = $.Class.extend({\r\n            init: function(element, options) {\r\n                this.element = element;\r\n                this.options = options;\r\n                this.wrapper = this.scroller = element;\r\n                this._init();\r\n                this._initPulldownRefreshEvent();\r\n            },\r\n            _init: function() {\r\n                var self = this;\r\n                //document.addEventListener('plusscrollbottom', this);\r\n                window.addEventListener('dragup', self);\r\n                document.addEventListener(\"plusscrollbottom\", self);\r\n                self.scrollInterval = window.setInterval(function() {\r\n                    if (self.isScroll && !self.loading) {\r\n                        if (window.pageYOffset + window.innerHeight + 10 >= document.documentElement.scrollHeight) {\r\n                            self.isScroll = false; //放在这里是因为快速滚动的话，有可能检测时，还没到底，所以只要有滚动，没到底之前一直检测高度变化\r\n                            if (self.bottomPocket) {\r\n                                self.pullupLoading();\r\n                            }\r\n                        }\r\n                    }\r\n                }, 100);\r\n            },\r\n            _initPulldownRefreshEvent: function() {\r\n                var self = this;\r\n                $.plusReady(function() {\r\n                    if (self.options.down.style == \"circle\") {\r\n                        //单webview、原生转圈\r\n                        self.options.webview = plus.webview.currentWebview();\r\n                        self.options.webview.setPullToRefresh({\r\n                            support: true,\r\n                            color: self.options.down.color || '#2BD009',\r\n                            height: self.options.down.height || '50px',\r\n                            range: self.options.down.range || '100px',\r\n                            style: 'circle',\r\n                            offset: self.options.down.offset || '0px'\r\n                        }, function() {\r\n                            self.options.down.callback();\r\n                        });\r\n                    } else if (self.topPocket && self.options.webviewId) {\r\n                        var webview = plus.webview.getWebviewById(self.options.webviewId); //子窗口\r\n                        if (!webview) {\r\n                            return;\r\n                        }\r\n                        self.options.webview = webview;\r\n                        var downOptions = self.options.down;\r\n                        var height = downOptions.height;\r\n                        webview.addEventListener('close', function() {\r\n                            var attrWebviewId = self.options.webviewId && self.options.webviewId.replace(/\\//g, \"_\"); //替换所有\"/\" \r\n                            self.element.removeAttribute('data-pullrefresh-plus-' + attrWebviewId);\r\n                        });\r\n                        webview.addEventListener(\"dragBounce\", function(e) {\r\n                            if (!self.pulldown) {\r\n                                self._initPulldownRefresh();\r\n                            } else {\r\n                                self.pullPocket.classList.add(CLASS_BLOCK);\r\n                            }\r\n                            switch (e.status) {\r\n                                case \"beforeChangeOffset\": //下拉可刷新状态\r\n                                    self._setCaption(downOptions.contentdown);\r\n                                    break;\r\n                                case \"afterChangeOffset\": //松开可刷新状态\r\n                                    self._setCaption(downOptions.contentover);\r\n                                    break;\r\n                                case \"dragEndAfterChangeOffset\": //正在刷新状态\r\n                                    //执行下拉刷新所在webview的回调函数\r\n                                    webview.evalJS(\"window.mui&&mui.options.pullRefresh.down.callback()\");\r\n                                    self._setCaption(downOptions.contentrefresh);\r\n                                    break;\r\n                                default:\r\n                                    break;\r\n                            }\r\n                        }, false);\r\n\r\n                        webview.setBounce({\r\n                            position: {\r\n                                top: height * 2 + 'px'\r\n                            },\r\n                            changeoffset: {\r\n                                top: height + 'px'\r\n                            }\r\n                        });\r\n\r\n                    }\r\n                });\r\n            },\r\n            handleEvent: function(e) {\r\n                var self = this;\r\n                if (self.stopped) {\r\n                    return;\r\n                }\r\n                self.isScroll = false;\r\n                if (e.type === 'dragup' || e.type === 'plusscrollbottom') {\r\n                    self.isScroll = true;\r\n                    setTimeout(function() {\r\n                        self.isScroll = false;\r\n                    }, 1000);\r\n                }\r\n            }\r\n        }).extend($.extend({\r\n            setStopped: function(stopped) { //该方法是子页面调用的\r\n                this.stopped = !!stopped;\r\n                // TODO 此处需要设置当前webview的bounce为none,目前5+有BUG\r\n                if (this.stopped) {\r\n                    this.disablePullupToRefresh();\r\n                    this.disablePulldownToRefresh();\r\n                } else {\r\n                    this.enablePullupToRefresh();\r\n                    this.enablePulldownToRefresh();\r\n                }\r\n            },\r\n            beginPulldown: function() {\r\n                var self = this;\r\n                $.plusReady(function() {\r\n                    //这里延时的目的是为了保证下拉刷新组件初始化完成，后续应该做成有状态的\r\n                    setTimeout(function() {\r\n                        if (self.options.down.style == \"circle\") { //单webview下拉刷新\r\n                            plus.webview.currentWebview().beginPullToRefresh();\r\n                        } else { //双webview模式\r\n                            var webview = self.options.webview;\r\n                            if (webview) {\r\n                                webview.setBounce({\r\n                                    offset: {\r\n                                        top: self.options.down.height + \"px\"\r\n                                    }\r\n                                });\r\n                            }\r\n                        }\r\n                    }, 15);\r\n                }.bind(this));\r\n            },\r\n            pulldownLoading: function() { //该方法是子页面调用的，兼容老的历史API\r\n                this.beginPulldown();\r\n            },\r\n            _pulldownLoading: function() { //该方法是父页面调用的\r\n                var self = this;\r\n                $.plusReady(function() {\r\n                    var childWebview = plus.webview.getWebviewById(self.options.webviewId);\r\n                    childWebview && childWebview.setBounce({\r\n                        offset: {\r\n                            top: self.options.down.height + \"px\"\r\n                        }\r\n                    });\r\n                });\r\n            },\r\n            endPulldown: function() {\r\n                var _wv = plus.webview.currentWebview();\r\n                //双webview的下拉刷新，需要修改父窗口提示信息\r\n                if (_wv.parent() && this.options.down.style !== \"circle\") {\r\n                    _wv.parent().evalJS(\"mui&&mui(document.querySelector('.mui-content')).pullRefresh('\" + JSON.stringify({\r\n                        webviewId: _wv.id\r\n                    }) + \"')._endPulldownToRefresh()\");\r\n                } else {\r\n                    _wv.endPullToRefresh();\r\n                }\r\n            },\r\n            endPulldownToRefresh: function() { //该方法是子页面调用的，兼容老的历史API\r\n                this.endPulldown();\r\n            },\r\n            _endPulldownToRefresh: function() { //该方法是父页面调用的\r\n                var self = this;\r\n                if (self.topPocket && self.options.webview) {\r\n                    self.options.webview.endPullToRefresh(); //下拉刷新所在webview回弹\r\n                    self.loading = false;\r\n                    self._setCaption(self.options.down.contentdown, true);\r\n                    setTimeout(function() {\r\n                        self.loading || self.topPocket.classList.remove(CLASS_BLOCK);\r\n                    }, 350);\r\n                }\r\n            },\r\n            beginPullup: function(callback) { //开始上拉加载\r\n                var self = this;\r\n                if (self.isLoading) return;\r\n                self.isLoading = true;\r\n                if (self.pulldown !== false) {\r\n                    self._initPullupRefresh();\r\n                } else {\r\n                    this.pullPocket.classList.add(CLASS_BLOCK);\r\n                }\r\n                setTimeout(function() {\r\n                    self.pullLoading.classList.add(CLASS_VISIBILITY);\r\n                    self.pullLoading.classList.remove(CLASS_HIDDEN);\r\n                    self.pullCaption.innerHTML = ''; //修正5+里边第一次加载时，文字显示的bug(还会显示出来个“多”,猜测应该是渲染问题导致的)\r\n                    self.pullCaption.className = CLASS_PULL_CAPTION + ' ' + CLASS_PULL_CAPTION_REFRESH;\r\n                    self.pullCaption.innerHTML = self.options.up.contentrefresh;\r\n                    callback = callback || self.options.up.callback;\r\n                    callback && callback.call(self);\r\n                }, 300);\r\n            },\r\n            pullupLoading: function(callback) { //兼容老的API\r\n                this.beginPullup(callback);\r\n            },\r\n            endPullup: function(finished) { //上拉加载结束\r\n                var self = this;\r\n                if (self.pullLoading) {\r\n                    self.pullLoading.classList.remove(CLASS_VISIBILITY);\r\n                    self.pullLoading.classList.add(CLASS_HIDDEN);\r\n                    self.isLoading = false;\r\n                    if (finished) {\r\n                        self.finished = true;\r\n                        self.pullCaption.className = CLASS_PULL_CAPTION + ' ' + CLASS_PULL_CAPTION_NOMORE;\r\n                        self.pullCaption.innerHTML = self.options.up.contentnomore;\r\n                        //取消5+的plusscrollbottom事件\r\n                        document.removeEventListener('plusscrollbottom', self);\r\n                        window.removeEventListener('dragup', self);\r\n                    } else { //初始化时隐藏，后续不再隐藏\r\n                        self.pullCaption.className = CLASS_PULL_CAPTION + ' ' + CLASS_PULL_CAPTION_DOWN;\r\n                        self.pullCaption.innerHTML = self.options.up.contentdown;\r\n                    }\r\n                }\r\n            },\r\n            endPullupToRefresh: function(finished) { //上拉加载结束，兼容老的API\r\n                this.endPullup(finished);\r\n            },\r\n            disablePulldownToRefresh: function() {\r\n                var webview = plus.webview.currentWebview();\r\n                if (this.options.down.style && this.options.down.style == 'circle') { // 单webview模式禁止原生下拉刷新\r\n                    this.options.webview.setPullToRefresh({\r\n                        support: false,\r\n                        style: 'circle'\r\n                    });\r\n                } else { // 双webview模式禁止下拉刷新\r\n                    webview.setStyle({\r\n                        bounce: 'none'\r\n                    });\r\n                    webview.setBounce({\r\n                        position: {\r\n                            top: 'none'\r\n                        }\r\n                    });\r\n                }\r\n            },\r\n            enablePulldownToRefresh: function() {\r\n                var self = this,\r\n                    webview = plus.webview.currentWebview(),\r\n                    height = this.options.down.height;\r\n                // 单webview模式禁止原生下拉刷新\r\n                if (this.options.down.style && this.options.down.style == 'circle') {\r\n                    webview.setPullToRefresh({\r\n                        support: true,\r\n                        height: height || '50px',\r\n                        range: self.options.down.range || '100px',\r\n                        style: 'circle',\r\n                        offset: self.options.down.offset || '0px'\r\n                    });\r\n                } else { // 重新初始化双webview模式下拉刷新\r\n                    webview.setStyle({\r\n                        bounce: 'vertical'\r\n                    });\r\n                    webview.setBounce({\r\n                        position: {\r\n                            top: height * 2 + 'px'\r\n                        },\r\n                        changeoffset: {\r\n                            top: height + 'px'\r\n                        }\r\n                    });\r\n                }\r\n            },\r\n            disablePullupToRefresh: function() {\r\n                this._initPullupRefresh();\r\n                this.bottomPocket.className = 'mui-pull-bottom-pocket' + ' ' + CLASS_HIDDEN;\r\n                window.removeEventListener('dragup', this);\r\n            },\r\n            enablePullupToRefresh: function() {\r\n                this._initPullupRefresh();\r\n                this.bottomPocket.classList.remove(CLASS_HIDDEN);\r\n                this.pullCaption.className = CLASS_PULL_CAPTION + ' ' + CLASS_PULL_CAPTION_DOWN;\r\n                this.pullCaption.innerHTML = this.options.up.contentdown;\r\n                document.addEventListener(\"plusscrollbottom\", this);\r\n                window.addEventListener('dragup', this);\r\n            },\r\n            scrollTo: function(x, y, time) {\r\n                $.scrollTo(y, time);\r\n            },\r\n            scrollToBottom: function(time) {\r\n                $.scrollTo(document.documentElement.scrollHeight, time);\r\n            },\r\n            refresh: function(isReset) {\r\n                if (isReset && this.finished) {\r\n                    this.enablePullupToRefresh();\r\n                    this.finished = false;\r\n                }\r\n            }\r\n        }, $.PullRefresh));\r\n\r\n        //override h5 pullRefresh\r\n        $.fn.pullRefresh_native = function(options) {\r\n            var self;\r\n            if (this.length === 0) {\r\n                self = document.createElement('div');\r\n                self.className = 'mui-content';\r\n                document.body.appendChild(self);\r\n            } else {\r\n                self = this[0];\r\n            }\r\n            var args = options;\r\n            //一个父需要支持多个子下拉刷新\r\n            options = options || {}\r\n            if (typeof options === 'string') {\r\n                options = $.parseJSON(options);\r\n            };\r\n            !options.webviewId && (options.webviewId = (plus.webview.currentWebview().id || plus.webview.currentWebview().getURL()));\r\n            var pullRefreshApi = null;\r\n            var attrWebviewId = options.webviewId && options.webviewId.replace(/\\//g, \"_\"); //替换所有\"/\"\r\n            var id = self.getAttribute('data-pullrefresh-plus-' + attrWebviewId);\r\n            if (!id && typeof args === 'undefined') {\r\n                return false;\r\n            }\r\n            if (!id) { //避免重复初始化5+ pullrefresh\r\n                id = ++$.uuid;\r\n                self.setAttribute('data-pullrefresh-plus-' + attrWebviewId, id);\r\n                document.body.classList.add(CLASS_PLUS_PULLREFRESH);\r\n                $.data[id] = pullRefreshApi = new PlusPullRefresh(self, options);\r\n            } else {\r\n                pullRefreshApi = $.data[id];\r\n            }\r\n            if (options.down && options.down.auto) { //如果设置了auto，则自动下拉一次\r\n                //pullRefreshApi._pulldownLoading(); //parent webview\r\n                pullRefreshApi.beginPulldown();\r\n            } else if (options.up && options.up.auto) { //如果设置了auto，则自动上拉一次\r\n                pullRefreshApi.beginPullup();\r\n            }\r\n            return pullRefreshApi;\r\n        };\r\n    });\r\n\r\n})(mui, document);\r\n/**\r\n * off-canvas\r\n * @param {type} $\r\n * @param {type} window\r\n * @param {type} document\r\n * @param {type} action\r\n * @returns {undefined}\r\n */\r\n(function($, window, document, name) {\r\n\tvar CLASS_OFF_CANVAS_LEFT = 'mui-off-canvas-left';\r\n\tvar CLASS_OFF_CANVAS_RIGHT = 'mui-off-canvas-right';\r\n\tvar CLASS_ACTION_BACKDROP = 'mui-off-canvas-backdrop';\r\n\tvar CLASS_OFF_CANVAS_WRAP = 'mui-off-canvas-wrap';\r\n\r\n\tvar CLASS_SLIDE_IN = 'mui-slide-in';\r\n\tvar CLASS_ACTIVE = 'mui-active';\r\n\r\n\r\n\tvar CLASS_TRANSITIONING = 'mui-transitioning';\r\n\r\n\tvar SELECTOR_INNER_WRAP = '.mui-inner-wrap';\r\n\r\n\r\n\tvar OffCanvas = $.Class.extend({\r\n\t\tinit: function(element, options) {\r\n\t\t\tthis.wrapper = this.element = element;\r\n\t\t\tthis.scroller = this.wrapper.querySelector(SELECTOR_INNER_WRAP);\r\n\t\t\tthis.classList = this.wrapper.classList;\r\n\t\t\tif (this.scroller) {\r\n\t\t\t\tthis.options = $.extend(true, {\r\n\t\t\t\t\tdragThresholdX: 10,\r\n\t\t\t\t\tscale: 0.8,\r\n\t\t\t\t\topacity: 0.1,\r\n\t\t\t\t\tpreventDefaultException: {\r\n\t\t\t\t\t\ttagName: /^(INPUT|TEXTAREA|BUTTON|SELECT|VIDEO)$/\r\n\t\t\t\t\t},\r\n\t\t\t\t}, options);\r\n\t\t\t\tdocument.body.classList.add('mui-fullscreen'); //fullscreen\r\n\t\t\t\tthis.refresh();\r\n\t\t\t\tthis.initEvent();\r\n\t\t\t}\r\n\t\t},\r\n\t\t_preventDefaultException: function(el, exceptions) {\r\n\t\t\tfor (var i in exceptions) {\r\n\t\t\t\tif (exceptions[i].test(el[i])) {\r\n\t\t\t\t\treturn true;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn false;\r\n\t\t},\r\n\t\trefresh: function(offCanvas) {\r\n\t\t\t//\t\t\toffCanvas && !offCanvas.classList.contains(CLASS_ACTIVE) && this.classList.remove(CLASS_ACTIVE);\r\n\t\t\tthis.slideIn = this.classList.contains(CLASS_SLIDE_IN);\r\n\t\t\tthis.scalable = this.classList.contains('mui-scalable') && !this.slideIn;\r\n\t\t\tthis.scroller = this.wrapper.querySelector(SELECTOR_INNER_WRAP);\r\n\t\t\t//\t\t\t!offCanvas && this.scroller.classList.remove(CLASS_TRANSITIONING);\r\n\t\t\t//\t\t\t!offCanvas && this.scroller.setAttribute('style', '');\r\n\t\t\tthis.offCanvasLefts = this.wrapper.querySelectorAll('.' + CLASS_OFF_CANVAS_LEFT);\r\n\t\t\tthis.offCanvasRights = this.wrapper.querySelectorAll('.' + CLASS_OFF_CANVAS_RIGHT);\r\n\t\t\tif (offCanvas) {\r\n\t\t\t\tif (offCanvas.classList.contains(CLASS_OFF_CANVAS_LEFT)) {\r\n\t\t\t\t\tthis.offCanvasLeft = offCanvas;\r\n\t\t\t\t} else if (offCanvas.classList.contains(CLASS_OFF_CANVAS_RIGHT)) {\r\n\t\t\t\t\tthis.offCanvasRight = offCanvas;\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tthis.offCanvasRight = this.wrapper.querySelector('.' + CLASS_OFF_CANVAS_RIGHT);\r\n\t\t\t\tthis.offCanvasLeft = this.wrapper.querySelector('.' + CLASS_OFF_CANVAS_LEFT);\r\n\t\t\t}\r\n\t\t\tthis.offCanvasRightWidth = this.offCanvasLeftWidth = 0;\r\n\t\t\tthis.offCanvasLeftSlideIn = this.offCanvasRightSlideIn = false;\r\n\t\t\tif (this.offCanvasRight) {\r\n\t\t\t\tthis.offCanvasRightWidth = this.offCanvasRight.offsetWidth;\r\n\t\t\t\tthis.offCanvasRightSlideIn = this.slideIn && (this.offCanvasRight.parentNode === this.wrapper);\r\n\t\t\t\t//\t\t\t\tthis.offCanvasRight.classList.remove(CLASS_TRANSITIONING);\r\n\t\t\t\t//\t\t\t\tthis.offCanvasRight.classList.remove(CLASS_ACTIVE);\r\n\t\t\t\t//\t\t\t\tthis.offCanvasRight.setAttribute('style', '');\r\n\t\t\t}\r\n\t\t\tif (this.offCanvasLeft) {\r\n\t\t\t\tthis.offCanvasLeftWidth = this.offCanvasLeft.offsetWidth;\r\n\t\t\t\tthis.offCanvasLeftSlideIn = this.slideIn && (this.offCanvasLeft.parentNode === this.wrapper);\r\n\t\t\t\t//\t\t\t\tthis.offCanvasLeft.classList.remove(CLASS_TRANSITIONING);\r\n\t\t\t\t//\t\t\t\tthis.offCanvasLeft.classList.remove(CLASS_ACTIVE);\r\n\t\t\t\t//\t\t\t\tthis.offCanvasLeft.setAttribute('style', '');\r\n\t\t\t}\r\n\t\t\tthis.backdrop = this.scroller.querySelector('.' + CLASS_ACTION_BACKDROP);\r\n\r\n\t\t\tthis.options.dragThresholdX = this.options.dragThresholdX || 10;\r\n\r\n\t\t\tthis.visible = false;\r\n\t\t\tthis.startX = null;\r\n\t\t\tthis.lastX = null;\r\n\t\t\tthis.offsetX = null;\r\n\t\t\tthis.lastTranslateX = null;\r\n\t\t},\r\n\t\thandleEvent: function(e) {\r\n\t\t\tswitch (e.type) {\r\n\t\t\t\tcase $.EVENT_START:\r\n\t\t\t\t\te.target && !this._preventDefaultException(e.target, this.options.preventDefaultException) && e.preventDefault();\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 'webkitTransitionEnd': //有个bug需要处理，需要考虑假设没有触发webkitTransitionEnd的情况\r\n\t\t\t\t\tif (e.target === this.scroller) {\r\n\t\t\t\t\t\tthis._dispatchEvent();\r\n\t\t\t\t\t}\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 'drag':\r\n\t\t\t\t\tvar detail = e.detail;\r\n\t\t\t\t\tif (!this.startX) {\r\n\t\t\t\t\t\tthis.startX = detail.center.x;\r\n\t\t\t\t\t\tthis.lastX = this.startX;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthis.lastX = detail.center.x;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (!this.isDragging && Math.abs(this.lastX - this.startX) > this.options.dragThresholdX && (detail.direction === 'left' || (detail.direction === 'right'))) {\r\n\t\t\t\t\t\tif (this.slideIn) {\r\n\t\t\t\t\t\t\tthis.scroller = this.wrapper.querySelector(SELECTOR_INNER_WRAP);\r\n\t\t\t\t\t\t\tif (this.classList.contains(CLASS_ACTIVE)) {\r\n\t\t\t\t\t\t\t\tif (this.offCanvasRight && this.offCanvasRight.classList.contains(CLASS_ACTIVE)) {\r\n\t\t\t\t\t\t\t\t\tthis.offCanvas = this.offCanvasRight;\r\n\t\t\t\t\t\t\t\t\tthis.offCanvasWidth = this.offCanvasRightWidth;\r\n\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\tthis.offCanvas = this.offCanvasLeft;\r\n\t\t\t\t\t\t\t\t\tthis.offCanvasWidth = this.offCanvasLeftWidth;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tif (detail.direction === 'left' && this.offCanvasRight) {\r\n\t\t\t\t\t\t\t\t\tthis.offCanvas = this.offCanvasRight;\r\n\t\t\t\t\t\t\t\t\tthis.offCanvasWidth = this.offCanvasRightWidth;\r\n\t\t\t\t\t\t\t\t} else if (detail.direction === 'right' && this.offCanvasLeft) {\r\n\t\t\t\t\t\t\t\t\tthis.offCanvas = this.offCanvasLeft;\r\n\t\t\t\t\t\t\t\t\tthis.offCanvasWidth = this.offCanvasLeftWidth;\r\n\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\tthis.scroller = null;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tif (this.classList.contains(CLASS_ACTIVE)) {\r\n\t\t\t\t\t\t\t\tif (detail.direction === 'left') {\r\n\t\t\t\t\t\t\t\t\tthis.offCanvas = this.offCanvasLeft;\r\n\t\t\t\t\t\t\t\t\tthis.offCanvasWidth = this.offCanvasLeftWidth;\r\n\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\tthis.offCanvas = this.offCanvasRight;\r\n\t\t\t\t\t\t\t\t\tthis.offCanvasWidth = this.offCanvasRightWidth;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tif (detail.direction === 'right') {\r\n\t\t\t\t\t\t\t\t\tthis.offCanvas = this.offCanvasLeft;\r\n\t\t\t\t\t\t\t\t\tthis.offCanvasWidth = this.offCanvasLeftWidth;\r\n\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\tthis.offCanvas = this.offCanvasRight;\r\n\t\t\t\t\t\t\t\t\tthis.offCanvasWidth = this.offCanvasRightWidth;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif (this.offCanvas && this.scroller) {\r\n\t\t\t\t\t\t\tthis.startX = this.lastX;\r\n\t\t\t\t\t\t\tthis.isDragging = true;\r\n\r\n\t\t\t\t\t\t\t$.gestures.session.lockDirection = true; //锁定方向\r\n\t\t\t\t\t\t\t$.gestures.session.startDirection = detail.direction;\r\n\r\n\t\t\t\t\t\t\tthis.offCanvas.classList.remove(CLASS_TRANSITIONING);\r\n\t\t\t\t\t\t\tthis.scroller.classList.remove(CLASS_TRANSITIONING);\r\n\t\t\t\t\t\t\tthis.offsetX = this.getTranslateX();\r\n\t\t\t\t\t\t\tthis._initOffCanvasVisible();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (this.isDragging) {\r\n\t\t\t\t\t\tthis.updateTranslate(this.offsetX + (this.lastX - this.startX));\r\n\t\t\t\t\t\tdetail.gesture.preventDefault();\r\n\t\t\t\t\t\te.stopPropagation();\r\n\t\t\t\t\t}\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 'dragend':\r\n\t\t\t\t\tif (this.isDragging) {\r\n\t\t\t\t\t\tvar detail = e.detail;\r\n\t\t\t\t\t\tvar direction = detail.direction;\r\n\t\t\t\t\t\tthis.isDragging = false;\r\n\t\t\t\t\t\tthis.offCanvas.classList.add(CLASS_TRANSITIONING);\r\n\t\t\t\t\t\tthis.scroller.classList.add(CLASS_TRANSITIONING);\r\n\t\t\t\t\t\tvar ratio = 0;\r\n\t\t\t\t\t\tvar x = this.getTranslateX();\r\n\t\t\t\t\t\tif (!this.slideIn) {\r\n\t\t\t\t\t\t\tif (x >= 0) {\r\n\t\t\t\t\t\t\t\tratio = (this.offCanvasLeftWidth && (x / this.offCanvasLeftWidth)) || 0;\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tratio = (this.offCanvasRightWidth && (x / this.offCanvasRightWidth)) || 0;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tif (ratio === 0) {\r\n\t\t\t\t\t\t\t\tthis.openPercentage(0);\r\n\t\t\t\t\t\t\t\tthis._dispatchEvent(); //此处不触发webkitTransitionEnd,所以手动dispatch\r\n\t\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tif (direction === 'right' && ratio >= 0 && (ratio >= 0.5 || detail.swipe)) { //右滑打开\r\n\t\t\t\t\t\t\t\tthis.openPercentage(100);\r\n\t\t\t\t\t\t\t} else if (direction === 'right' && ratio < 0 && (ratio > -0.5 || detail.swipe)) { //右滑关闭\r\n\t\t\t\t\t\t\t\tthis.openPercentage(0);\r\n\t\t\t\t\t\t\t} else if (direction === 'right' && ratio > 0 && ratio < 0.5) { //右滑还原关闭\r\n\t\t\t\t\t\t\t\tthis.openPercentage(0);\r\n\t\t\t\t\t\t\t} else if (direction === 'right' && ratio < 0.5) { //右滑还原打开\r\n\t\t\t\t\t\t\t\tthis.openPercentage(-100);\r\n\t\t\t\t\t\t\t} else if (direction === 'left' && ratio <= 0 && (ratio <= -0.5 || detail.swipe)) { //左滑打开\r\n\t\t\t\t\t\t\t\tthis.openPercentage(-100);\r\n\t\t\t\t\t\t\t} else if (direction === 'left' && ratio > 0 && (ratio <= 0.5 || detail.swipe)) { //左滑关闭\r\n\t\t\t\t\t\t\t\tthis.openPercentage(0);\r\n\t\t\t\t\t\t\t} else if (direction === 'left' && ratio < 0 && ratio >= -0.5) { //左滑还原关闭\r\n\t\t\t\t\t\t\t\tthis.openPercentage(0);\r\n\t\t\t\t\t\t\t} else if (direction === 'left' && ratio > 0.5) { //左滑还原打开\r\n\t\t\t\t\t\t\t\tthis.openPercentage(100);\r\n\t\t\t\t\t\t\t} else { //默认关闭\r\n\t\t\t\t\t\t\t\tthis.openPercentage(0);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tif (ratio === 1 || ratio === -1) { //此处不触发webkitTransitionEnd,所以手动dispatch\r\n\t\t\t\t\t\t\t\tthis._dispatchEvent();\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tif (x >= 0) {\r\n\t\t\t\t\t\t\t\tratio = (this.offCanvasRightWidth && (x / this.offCanvasRightWidth)) || 0;\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tratio = (this.offCanvasLeftWidth && (x / this.offCanvasLeftWidth)) || 0;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tif (direction === 'right' && ratio <= 0 && (ratio >= -0.5 || detail.swipe)) { //右滑打开\r\n\t\t\t\t\t\t\t\tthis.openPercentage(100);\r\n\t\t\t\t\t\t\t} else if (direction === 'right' && ratio > 0 && (ratio >= 0.5 || detail.swipe)) { //右滑关闭\r\n\t\t\t\t\t\t\t\tthis.openPercentage(0);\r\n\t\t\t\t\t\t\t} else if (direction === 'right' && ratio <= -0.5) { //右滑还原关闭\r\n\t\t\t\t\t\t\t\tthis.openPercentage(0);\r\n\t\t\t\t\t\t\t} else if (direction === 'right' && ratio > 0 && ratio <= 0.5) { //右滑还原打开\r\n\t\t\t\t\t\t\t\tthis.openPercentage(-100);\r\n\t\t\t\t\t\t\t} else if (direction === 'left' && ratio >= 0 && (ratio <= 0.5 || detail.swipe)) { //左滑打开\r\n\t\t\t\t\t\t\t\tthis.openPercentage(-100);\r\n\t\t\t\t\t\t\t} else if (direction === 'left' && ratio < 0 && (ratio <= -0.5 || detail.swipe)) { //左滑关闭\r\n\t\t\t\t\t\t\t\tthis.openPercentage(0);\r\n\t\t\t\t\t\t\t} else if (direction === 'left' && ratio >= 0.5) { //左滑还原关闭\r\n\t\t\t\t\t\t\t\tthis.openPercentage(0);\r\n\t\t\t\t\t\t\t} else if (direction === 'left' && ratio >= -0.5 && ratio < 0) { //左滑还原打开\r\n\t\t\t\t\t\t\t\tthis.openPercentage(100);\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tthis.openPercentage(0);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tif (ratio === 1 || ratio === -1 || ratio === 0) {\r\n\t\t\t\t\t\t\t\tthis._dispatchEvent();\r\n\t\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t},\r\n\t\t_dispatchEvent: function() {\r\n\t\t\tif (this.classList.contains(CLASS_ACTIVE)) {\r\n\t\t\t\t$.trigger(this.wrapper, 'shown', this);\r\n\t\t\t} else {\r\n\t\t\t\t$.trigger(this.wrapper, 'hidden', this);\r\n\t\t\t}\r\n\t\t},\r\n\t\t_initOffCanvasVisible: function() {\r\n\t\t\tif (!this.visible) {\r\n\t\t\t\tthis.visible = true;\r\n\t\t\t\tif (this.offCanvasLeft) {\r\n\t\t\t\t\tthis.offCanvasLeft.style.visibility = 'visible';\r\n\t\t\t\t}\r\n\t\t\t\tif (this.offCanvasRight) {\r\n\t\t\t\t\tthis.offCanvasRight.style.visibility = 'visible';\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\tinitEvent: function() {\r\n\t\t\tvar self = this;\r\n\t\t\tif (self.backdrop) {\r\n\t\t\t\tself.backdrop.addEventListener('tap', function(e) {\r\n\t\t\t\t\tself.close();\r\n\t\t\t\t\te.detail.gesture.preventDefault();\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t\tif (this.classList.contains('mui-draggable')) {\r\n\t\t\t\tthis.wrapper.addEventListener($.EVENT_START, this); //临时处理\r\n\t\t\t\tthis.wrapper.addEventListener('drag', this);\r\n\t\t\t\tthis.wrapper.addEventListener('dragend', this);\r\n\t\t\t}\r\n\t\t\tthis.wrapper.addEventListener('webkitTransitionEnd', this);\r\n\t\t},\r\n\t\topenPercentage: function(percentage) {\r\n\t\t\tvar p = percentage / 100;\r\n\t\t\tif (!this.slideIn) {\r\n\t\t\t\tif (this.offCanvasLeft && percentage >= 0) {\r\n\t\t\t\t\tthis.updateTranslate(this.offCanvasLeftWidth * p);\r\n\t\t\t\t\tthis.offCanvasLeft.classList[p !== 0 ? 'add' : 'remove'](CLASS_ACTIVE);\r\n\t\t\t\t} else if (this.offCanvasRight && percentage <= 0) {\r\n\t\t\t\t\tthis.updateTranslate(this.offCanvasRightWidth * p);\r\n\t\t\t\t\tthis.offCanvasRight.classList[p !== 0 ? 'add' : 'remove'](CLASS_ACTIVE);\r\n\t\t\t\t}\r\n\t\t\t\tthis.classList[p !== 0 ? 'add' : 'remove'](CLASS_ACTIVE);\r\n\t\t\t} else {\r\n\t\t\t\tif (this.offCanvasLeft && percentage >= 0) {\r\n\t\t\t\t\tp = p === 0 ? -1 : 0;\r\n\t\t\t\t\tthis.updateTranslate(this.offCanvasLeftWidth * p);\r\n\t\t\t\t\tthis.offCanvasLeft.classList[percentage !== 0 ? 'add' : 'remove'](CLASS_ACTIVE);\r\n\t\t\t\t} else if (this.offCanvasRight && percentage <= 0) {\r\n\t\t\t\t\tp = p === 0 ? 1 : 0;\r\n\t\t\t\t\tthis.updateTranslate(this.offCanvasRightWidth * p);\r\n\t\t\t\t\tthis.offCanvasRight.classList[percentage !== 0 ? 'add' : 'remove'](CLASS_ACTIVE);\r\n\t\t\t\t}\r\n\t\t\t\tthis.classList[percentage !== 0 ? 'add' : 'remove'](CLASS_ACTIVE);\r\n\t\t\t}\r\n\t\t},\r\n\t\tupdateTranslate: function(x) {\r\n\t\t\tif (x !== this.lastTranslateX) {\r\n\t\t\t\tif (!this.slideIn) {\r\n\t\t\t\t\tif ((!this.offCanvasLeft && x > 0) || (!this.offCanvasRight && x < 0)) {\r\n\t\t\t\t\t\tthis.setTranslateX(0);\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (this.leftShowing && x > this.offCanvasLeftWidth) {\r\n\t\t\t\t\t\tthis.setTranslateX(this.offCanvasLeftWidth);\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (this.rightShowing && x < -this.offCanvasRightWidth) {\r\n\t\t\t\t\t\tthis.setTranslateX(-this.offCanvasRightWidth);\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.setTranslateX(x);\r\n\t\t\t\t\tif (x >= 0) {\r\n\t\t\t\t\t\tthis.leftShowing = true;\r\n\t\t\t\t\t\tthis.rightShowing = false;\r\n\t\t\t\t\t\tif (x > 0) {\r\n\t\t\t\t\t\t\tif (this.offCanvasLeft) {\r\n\t\t\t\t\t\t\t\t$.each(this.offCanvasLefts, function(index, offCanvas) {\r\n\t\t\t\t\t\t\t\t\tif (offCanvas === this.offCanvasLeft) {\r\n\t\t\t\t\t\t\t\t\t\tthis.offCanvasLeft.style.zIndex = 0;\r\n\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\toffCanvas.style.zIndex = -1;\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}.bind(this));\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tif (this.offCanvasRight) {\r\n\t\t\t\t\t\t\t\tthis.offCanvasRight.style.zIndex = -1;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthis.rightShowing = true;\r\n\t\t\t\t\t\tthis.leftShowing = false;\r\n\t\t\t\t\t\tif (this.offCanvasRight) {\r\n\t\t\t\t\t\t\t$.each(this.offCanvasRights, function(index, offCanvas) {\r\n\t\t\t\t\t\t\t\tif (offCanvas === this.offCanvasRight) {\r\n\t\t\t\t\t\t\t\t\toffCanvas.style.zIndex = 0;\r\n\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\toffCanvas.style.zIndex = -1;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}.bind(this));\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif (this.offCanvasLeft) {\r\n\t\t\t\t\t\t\tthis.offCanvasLeft.style.zIndex = -1;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\tif (this.offCanvas.classList.contains(CLASS_OFF_CANVAS_RIGHT)) {\r\n\t\t\t\t\t\tif (x < 0) {\r\n\t\t\t\t\t\t\tthis.setTranslateX(0);\r\n\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif (x > this.offCanvasRightWidth) {\r\n\t\t\t\t\t\t\tthis.setTranslateX(this.offCanvasRightWidth);\r\n\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tif (x > 0) {\r\n\t\t\t\t\t\t\tthis.setTranslateX(0);\r\n\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif (x < -this.offCanvasLeftWidth) {\r\n\t\t\t\t\t\t\tthis.setTranslateX(-this.offCanvasLeftWidth);\r\n\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.setTranslateX(x);\r\n\t\t\t\t}\r\n\t\t\t\tthis.lastTranslateX = x;\r\n\t\t\t}\r\n\t\t},\r\n\t\tsetTranslateX: $.animationFrame(function(x) {\r\n\t\t\tif (this.scroller) {\r\n\t\t\t\tif (this.scalable && this.offCanvas.parentNode === this.wrapper) {\r\n\t\t\t\t\tvar percent = Math.abs(x) / this.offCanvasWidth;\r\n\t\t\t\t\tvar zoomOutScale = 1 - (1 - this.options.scale) * percent;\r\n\t\t\t\t\tvar zoomInScale = this.options.scale + (1 - this.options.scale) * percent;\r\n\t\t\t\t\tvar zoomOutOpacity = 1 - (1 - this.options.opacity) * percent;\r\n\t\t\t\t\tvar zoomInOpacity = this.options.opacity + (1 - this.options.opacity) * percent;\r\n\t\t\t\t\tif (this.offCanvas.classList.contains(CLASS_OFF_CANVAS_LEFT)) {\r\n\t\t\t\t\t\tthis.offCanvas.style.webkitTransformOrigin = '-100%';\r\n\t\t\t\t\t\tthis.scroller.style.webkitTransformOrigin = 'left';\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthis.offCanvas.style.webkitTransformOrigin = '200%';\r\n\t\t\t\t\t\tthis.scroller.style.webkitTransformOrigin = 'right';\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.offCanvas.style.opacity = zoomInOpacity;\r\n\t\t\t\t\tthis.offCanvas.style.webkitTransform = 'translate3d(0,0,0) scale(' + zoomInScale + ')';\r\n\t\t\t\t\tthis.scroller.style.webkitTransform = 'translate3d(' + x + 'px,0,0) scale(' + zoomOutScale + ')';\r\n\t\t\t\t} else {\r\n\t\t\t\t\tif (this.slideIn) {\r\n\t\t\t\t\t\tthis.offCanvas.style.webkitTransform = 'translate3d(' + x + 'px,0,0)';\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthis.scroller.style.webkitTransform = 'translate3d(' + x + 'px,0,0)';\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}),\r\n\t\tgetTranslateX: function() {\r\n\t\t\tif (this.offCanvas) {\r\n\t\t\t\tvar scroller = this.slideIn ? this.offCanvas : this.scroller;\r\n\t\t\t\tvar result = $.parseTranslateMatrix($.getStyles(scroller, 'webkitTransform'));\r\n\t\t\t\treturn (result && result.x) || 0;\r\n\t\t\t}\r\n\t\t\treturn 0;\r\n\t\t},\r\n\t\tisShown: function(direction) {\r\n\t\t\tvar shown = false;\r\n\t\t\tif (!this.slideIn) {\r\n\t\t\t\tvar x = this.getTranslateX();\r\n\t\t\t\tif (direction === 'right') {\r\n\t\t\t\t\tshown = this.classList.contains(CLASS_ACTIVE) && x < 0;\r\n\t\t\t\t} else if (direction === 'left') {\r\n\t\t\t\t\tshown = this.classList.contains(CLASS_ACTIVE) && x > 0;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tshown = this.classList.contains(CLASS_ACTIVE) && x !== 0;\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tif (direction === 'left') {\r\n\t\t\t\t\tshown = this.classList.contains(CLASS_ACTIVE) && this.wrapper.querySelector('.' + CLASS_OFF_CANVAS_LEFT + '.' + CLASS_ACTIVE);\r\n\t\t\t\t} else if (direction === 'right') {\r\n\t\t\t\t\tshown = this.classList.contains(CLASS_ACTIVE) && this.wrapper.querySelector('.' + CLASS_OFF_CANVAS_RIGHT + '.' + CLASS_ACTIVE);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tshown = this.classList.contains(CLASS_ACTIVE) && (this.wrapper.querySelector('.' + CLASS_OFF_CANVAS_LEFT + '.' + CLASS_ACTIVE) || this.wrapper.querySelector('.' + CLASS_OFF_CANVAS_RIGHT + '.' + CLASS_ACTIVE));\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn shown;\r\n\t\t},\r\n\t\tclose: function() {\r\n\t\t\tthis._initOffCanvasVisible();\r\n\t\t\tthis.offCanvas = this.wrapper.querySelector('.' + CLASS_OFF_CANVAS_RIGHT + '.' + CLASS_ACTIVE) || this.wrapper.querySelector('.' + CLASS_OFF_CANVAS_LEFT + '.' + CLASS_ACTIVE);\r\n\t\t\tthis.offCanvasWidth = this.offCanvas.offsetWidth;\r\n\t\t\tif (this.scroller) {\r\n\t\t\t\tthis.offCanvas.offsetHeight;\r\n\t\t\t\tthis.offCanvas.classList.add(CLASS_TRANSITIONING);\r\n\t\t\t\tthis.scroller.classList.add(CLASS_TRANSITIONING);\r\n\t\t\t\tthis.openPercentage(0);\r\n\t\t\t}\r\n\t\t},\r\n\t\tshow: function(direction) {\r\n\t\t\tthis._initOffCanvasVisible();\r\n\t\t\tif (this.isShown(direction)) {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t\tif (!direction) {\r\n\t\t\t\tdirection = this.wrapper.querySelector('.' + CLASS_OFF_CANVAS_RIGHT) ? 'right' : 'left';\r\n\t\t\t}\r\n\t\t\tif (direction === 'right') {\r\n\t\t\t\tthis.offCanvas = this.offCanvasRight;\r\n\t\t\t\tthis.offCanvasWidth = this.offCanvasRightWidth;\r\n\t\t\t} else {\r\n\t\t\t\tthis.offCanvas = this.offCanvasLeft;\r\n\t\t\t\tthis.offCanvasWidth = this.offCanvasLeftWidth;\r\n\t\t\t}\r\n\t\t\tif (this.scroller) {\r\n\t\t\t\tthis.offCanvas.offsetHeight;\r\n\t\t\t\tthis.offCanvas.classList.add(CLASS_TRANSITIONING);\r\n\t\t\t\tthis.scroller.classList.add(CLASS_TRANSITIONING);\r\n\t\t\t\tthis.openPercentage(direction === 'left' ? 100 : -100);\r\n\t\t\t}\r\n\t\t\treturn true;\r\n\t\t},\r\n\t\ttoggle: function(directionOrOffCanvas) {\r\n\t\t\tvar direction = directionOrOffCanvas;\r\n\t\t\tif (directionOrOffCanvas && directionOrOffCanvas.classList) {\r\n\t\t\t\tdirection = directionOrOffCanvas.classList.contains(CLASS_OFF_CANVAS_LEFT) ? 'left' : 'right';\r\n\t\t\t\tthis.refresh(directionOrOffCanvas);\r\n\t\t\t}\r\n\t\t\tif (!this.show(direction)) {\r\n\t\t\t\tthis.close();\r\n\t\t\t}\r\n\t\t}\r\n\t});\r\n\r\n\t//hash to offcanvas\r\n\tvar findOffCanvasContainer = function(target) {\r\n\t\tparentNode = target.parentNode;\r\n\t\tif (parentNode) {\r\n\t\t\tif (parentNode.classList.contains(CLASS_OFF_CANVAS_WRAP)) {\r\n\t\t\t\treturn parentNode;\r\n\t\t\t} else {\r\n\t\t\t\tparentNode = parentNode.parentNode;\r\n\t\t\t\tif (parentNode.classList.contains(CLASS_OFF_CANVAS_WRAP)) {\r\n\t\t\t\t\treturn parentNode;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\tvar handle = function(event, target) {\r\n\t\tif (target.tagName === 'A' && target.hash) {\r\n\t\t\tvar offcanvas = document.getElementById(target.hash.replace('#', ''));\r\n\t\t\tif (offcanvas) {\r\n\t\t\t\tvar container = findOffCanvasContainer(offcanvas);\r\n\t\t\t\tif (container) {\r\n\t\t\t\t\t$.targets._container = container;\r\n\t\t\t\t\treturn offcanvas;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn false;\r\n\t};\r\n\r\n\t$.registerTarget({\r\n\t\tname: name,\r\n\t\tindex: 60,\r\n\t\thandle: handle,\r\n\t\ttarget: false,\r\n\t\tisReset: false,\r\n\t\tisContinue: true\r\n\t});\r\n\r\n\twindow.addEventListener('tap', function(e) {\r\n\t\tif (!$.targets.offcanvas) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\t//TODO 此处类型的代码后续考虑统一优化(target机制)，现在的实现费力不讨好\r\n\t\tvar target = e.target;\r\n\t\tfor (; target && target !== document; target = target.parentNode) {\r\n\t\t\tif (target.tagName === 'A' && target.hash && target.hash === ('#' + $.targets.offcanvas.id)) {\r\n\t\t\t\te.detail && e.detail.gesture && e.detail.gesture.preventDefault(); //fixed hashchange\r\n\t\t\t\t$($.targets._container).offCanvas().toggle($.targets.offcanvas);\r\n\t\t\t\t$.targets.offcanvas = $.targets._container = null;\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\t});\r\n\r\n\t$.fn.offCanvas = function(options) {\r\n\t\tvar offCanvasApis = [];\r\n\t\tthis.each(function() {\r\n\t\t\tvar offCanvasApi = null;\r\n\t\t\tvar self = this;\r\n\t\t\t//hack old version\r\n\t\t\tif (!self.classList.contains(CLASS_OFF_CANVAS_WRAP)) {\r\n\t\t\t\tself = findOffCanvasContainer(self);\r\n\t\t\t}\r\n\t\t\tvar id = self.getAttribute('data-offCanvas');\r\n\t\t\tif (!id) {\r\n\t\t\t\tid = ++$.uuid;\r\n\t\t\t\t$.data[id] = offCanvasApi = new OffCanvas(self, options);\r\n\t\t\t\tself.setAttribute('data-offCanvas', id);\r\n\t\t\t} else {\r\n\t\t\t\toffCanvasApi = $.data[id];\r\n\t\t\t}\r\n\t\t\tif (options === 'show' || options === 'close' || options === 'toggle') {\r\n\t\t\t\toffCanvasApi.toggle();\r\n\t\t\t}\r\n\t\t\toffCanvasApis.push(offCanvasApi);\r\n\t\t});\r\n\t\treturn offCanvasApis.length === 1 ? offCanvasApis[0] : offCanvasApis;\r\n\t};\r\n\t$.ready(function() {\r\n\t\t$('.mui-off-canvas-wrap').offCanvas();\r\n\t});\r\n})(mui, window, document, 'offcanvas');\r\n/**\r\n * actions\r\n * @param {type} $\r\n * @param {type} name\r\n * @returns {undefined}\r\n */\r\n(function($, name) {\r\n\tvar CLASS_ACTION = 'mui-action';\r\n\r\n\tvar handle = function(event, target) {\r\n\t\tvar className = target.className || '';\r\n\t\tif (typeof className !== 'string') { //svg className(SVGAnimatedString)\r\n\t\t\tclassName = '';\r\n\t\t}\r\n\t\tif (className && ~className.indexOf(CLASS_ACTION)) {\r\n\t\t\tif (target.classList.contains('mui-action-back')) {\r\n\t\t\t\tevent.preventDefault();\r\n\t\t\t}\r\n\t\t\treturn target;\r\n\t\t}\r\n\t\treturn false;\r\n\t};\r\n\r\n\t$.registerTarget({\r\n\t\tname: name,\r\n\t\tindex: 50,\r\n\t\thandle: handle,\r\n\t\ttarget: false,\r\n\t\tisContinue: true\r\n\t});\r\n\r\n})(mui, 'action');\r\n/**\r\n * Modals\r\n * @param {type} $\r\n * @param {type} window\r\n * @param {type} document\r\n * @param {type} name\r\n * @returns {undefined}\r\n */\r\n(function($, window, document, name) {\r\n\tvar CLASS_MODAL = 'mui-modal';\r\n\r\n\tvar handle = function(event, target) {\r\n\t\tif (target.tagName === 'A' && target.hash) {\r\n\t\t\tvar modal = document.getElementById(target.hash.replace('#', ''));\r\n\t\t\tif (modal && modal.classList.contains(CLASS_MODAL)) {\r\n\t\t\t\treturn modal;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn false;\r\n\t};\r\n\r\n\t$.registerTarget({\r\n\t\tname: name,\r\n\t\tindex: 50,\r\n\t\thandle: handle,\r\n\t\ttarget: false,\r\n\t\tisReset: false,\r\n\t\tisContinue: true\r\n\t});\r\n\r\n\twindow.addEventListener('tap', function(event) {\r\n\t\tif ($.targets.modal) {\r\n\t\t\tevent.detail.gesture.preventDefault(); //fixed hashchange\r\n\t\t\t$.targets.modal.classList.toggle('mui-active');\r\n\t\t}\r\n\t});\r\n})(mui, window, document, 'modal');\r\n/**\r\n * Popovers\r\n * @param {type} $\r\n * @param {type} window\r\n * @param {type} document\r\n * @param {type} name\r\n * @param {type} undefined\r\n * @returns {undefined}\r\n */\r\n(function($, window, document, name) {\r\n\r\n\tvar CLASS_POPOVER = 'mui-popover';\r\n\tvar CLASS_POPOVER_ARROW = 'mui-popover-arrow';\r\n\tvar CLASS_ACTION_POPOVER = 'mui-popover-action';\r\n\tvar CLASS_BACKDROP = 'mui-backdrop';\r\n\tvar CLASS_BAR_POPOVER = 'mui-bar-popover';\r\n\tvar CLASS_BAR_BACKDROP = 'mui-bar-backdrop';\r\n\tvar CLASS_ACTION_BACKDROP = 'mui-backdrop-action';\r\n\tvar CLASS_ACTIVE = 'mui-active';\r\n\tvar CLASS_BOTTOM = 'mui-bottom';\r\n\r\n\r\n\r\n\tvar handle = function(event, target) {\r\n\t\tif (target.tagName === 'A' && target.hash) {\r\n\t\t\t$.targets._popover = document.getElementById(target.hash.replace('#', ''));\r\n\t\t\tif ($.targets._popover && $.targets._popover.classList.contains(CLASS_POPOVER)) {\r\n\t\t\t\treturn target;\r\n\t\t\t} else {\r\n\t\t\t\t$.targets._popover = null;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn false;\r\n\t};\r\n\r\n\t$.registerTarget({\r\n\t\tname: name,\r\n\t\tindex: 60,\r\n\t\thandle: handle,\r\n\t\ttarget: false,\r\n\t\tisReset: false,\r\n\t\tisContinue: true\r\n\t});\r\n\r\n\tvar onPopoverShown = function(e) {\r\n\t\tthis.removeEventListener('webkitTransitionEnd', onPopoverShown);\r\n\t\tthis.addEventListener($.EVENT_MOVE, $.preventDefault);\r\n\t\t$.trigger(this, 'shown', this);\r\n\t}\r\n\tvar onPopoverHidden = function(e) {\r\n\t\tsetStyle(this, 'none');\r\n\t\tthis.removeEventListener('webkitTransitionEnd', onPopoverHidden);\r\n\t\tthis.removeEventListener($.EVENT_MOVE, $.preventDefault);\r\n\t\t$.trigger(this, 'hidden', this);\r\n\t};\r\n\r\n\tvar backdrop = (function() {\r\n\t\tvar element = document.createElement('div');\r\n\t\telement.classList.add(CLASS_BACKDROP);\r\n\t\telement.addEventListener($.EVENT_MOVE, $.preventDefault);\r\n\t\telement.addEventListener('tap', function(e) {\r\n\t\t\tvar popover = $.targets._popover;\r\n\t\t\tif (popover) {\r\n\t\t\t\tpopover.addEventListener('webkitTransitionEnd', onPopoverHidden);\r\n\t\t\t\tpopover.classList.remove(CLASS_ACTIVE);\r\n\t\t\t\tremoveBackdrop(popover);\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\treturn element;\r\n\t}());\r\n\tvar removeBackdropTimer;\r\n\tvar removeBackdrop = function(popover) {\r\n\t\tbackdrop.setAttribute('style', 'opacity:0');\r\n\t\t$.targets.popover = $.targets._popover = null; //reset\r\n\t\tremoveBackdropTimer = $.later(function() {\r\n\t\t\tif (!popover.classList.contains(CLASS_ACTIVE) && backdrop.parentNode && backdrop.parentNode === document.body) {\r\n\t\t\t\tdocument.body.removeChild(backdrop);\r\n\t\t\t}\r\n\t\t}, 350);\r\n\t};\r\n\twindow.addEventListener('tap', function(e) {\r\n\t\tif (!$.targets.popover) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tvar toggle = false;\r\n\t\tvar target = e.target;\r\n\t\tfor (; target && target !== document; target = target.parentNode) {\r\n\t\t\tif (target === $.targets.popover) {\r\n\t\t\t\ttoggle = true;\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (toggle) {\r\n\t\t\te.detail.gesture.preventDefault(); //fixed hashchange\r\n\t\t\ttogglePopover($.targets._popover, $.targets.popover);\r\n\t\t}\r\n\r\n\t});\r\n\r\n\tvar togglePopover = function(popover, anchor, state) {\r\n\t\tif ((state === 'show' && popover.classList.contains(CLASS_ACTIVE)) || (state === 'hide' && !popover.classList.contains(CLASS_ACTIVE))) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tremoveBackdropTimer && removeBackdropTimer.cancel(); //取消remove的timer\r\n\t\t//remove一遍，以免来回快速切换，导致webkitTransitionEnd不触发，无法remove\r\n\t\tpopover.removeEventListener('webkitTransitionEnd', onPopoverShown);\r\n\t\tpopover.removeEventListener('webkitTransitionEnd', onPopoverHidden);\r\n\t\tbackdrop.classList.remove(CLASS_BAR_BACKDROP);\r\n\t\tbackdrop.classList.remove(CLASS_ACTION_BACKDROP);\r\n\t\tvar _popover = document.querySelector('.mui-popover.mui-active');\r\n\t\tif (_popover) {\r\n\t\t\t//\t\t\t_popover.setAttribute('style', '');\r\n\t\t\t_popover.addEventListener('webkitTransitionEnd', onPopoverHidden);\r\n\t\t\t_popover.classList.remove(CLASS_ACTIVE);\r\n\t\t\t//\t\t\t_popover.removeEventListener('webkitTransitionEnd', onPopoverHidden);\r\n\t\t\t//同一个弹出则直接返回，解决同一个popover的toggle\r\n\t\t\tif (popover === _popover) {\r\n\t\t\t\tremoveBackdrop(_popover);\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t}\r\n\t\tvar isActionSheet = false;\r\n\t\tif (popover.classList.contains(CLASS_BAR_POPOVER) || popover.classList.contains(CLASS_ACTION_POPOVER)) { //navBar\r\n\t\t\tif (popover.classList.contains(CLASS_ACTION_POPOVER)) { //action sheet popover\r\n\t\t\t\tisActionSheet = true;\r\n\t\t\t\tbackdrop.classList.add(CLASS_ACTION_BACKDROP);\r\n\t\t\t} else { //bar popover\r\n\t\t\t\tbackdrop.classList.add(CLASS_BAR_BACKDROP);\r\n\t\t\t\t//\t\t\t\tif (anchor) {\r\n\t\t\t\t//\t\t\t\t\tif (anchor.parentNode) {\r\n\t\t\t\t//\t\t\t\t\t\tvar offsetWidth = anchor.offsetWidth;\r\n\t\t\t\t//\t\t\t\t\t\tvar offsetLeft = anchor.offsetLeft;\r\n\t\t\t\t//\t\t\t\t\t\tvar innerWidth = window.innerWidth;\r\n\t\t\t\t//\t\t\t\t\t\tpopover.style.left = (Math.min(Math.max(offsetLeft, defaultPadding), innerWidth - offsetWidth - defaultPadding)) + \"px\";\r\n\t\t\t\t//\t\t\t\t\t} else {\r\n\t\t\t\t//\t\t\t\t\t\t//TODO anchor is position:{left,top,bottom,right}\r\n\t\t\t\t//\t\t\t\t\t}\r\n\t\t\t\t//\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\tsetStyle(popover, 'block'); //actionsheet transform\r\n\t\tpopover.offsetHeight;\r\n\t\tpopover.classList.add(CLASS_ACTIVE);\r\n\t\tbackdrop.setAttribute('style', '');\r\n\t\tdocument.body.appendChild(backdrop);\r\n\t\tcalPosition(popover, anchor, isActionSheet); //position\r\n\t\tbackdrop.classList.add(CLASS_ACTIVE);\r\n\t\tpopover.addEventListener('webkitTransitionEnd', onPopoverShown);\r\n\t};\r\n\tvar setStyle = function(popover, display, top, left) {\r\n\t\tvar style = popover.style;\r\n\t\tif (typeof display !== 'undefined')\r\n\t\t\tstyle.display = display;\r\n\t\tif (typeof top !== 'undefined')\r\n\t\t\tstyle.top = top + 'px';\r\n\t\tif (typeof left !== 'undefined')\r\n\t\t\tstyle.left = left + 'px';\r\n\t};\r\n\tvar calPosition = function(popover, anchor, isActionSheet) {\r\n\t\tif (!popover || !anchor) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tif (isActionSheet) { //actionsheet\r\n\t\t\tsetStyle(popover, 'block')\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tvar wWidth = window.innerWidth;\r\n\t\tvar wHeight = window.innerHeight;\r\n\r\n\t\tvar pWidth = popover.offsetWidth;\r\n\t\tvar pHeight = popover.offsetHeight;\r\n\r\n\t\tvar aWidth = anchor.offsetWidth;\r\n\t\tvar aHeight = anchor.offsetHeight;\r\n\t\tvar offset = $.offset(anchor);\r\n\r\n\t\tvar arrow = popover.querySelector('.' + CLASS_POPOVER_ARROW);\r\n\t\tif (!arrow) {\r\n\t\t\tarrow = document.createElement('div');\r\n\t\t\tarrow.className = CLASS_POPOVER_ARROW;\r\n\t\t\tpopover.appendChild(arrow);\r\n\t\t}\r\n\t\tvar arrowSize = arrow && arrow.offsetWidth / 2 || 0;\r\n\r\n\r\n\r\n\t\tvar pTop = 0;\r\n\t\tvar pLeft = 0;\r\n\t\tvar diff = 0;\r\n\t\tvar arrowLeft = 0;\r\n\t\tvar defaultPadding = popover.classList.contains(CLASS_ACTION_POPOVER) ? 0 : 5;\r\n\r\n\t\tvar position = 'top';\r\n\t\tif ((pHeight + arrowSize) < (offset.top - window.pageYOffset)) { //top\r\n\t\t\tpTop = offset.top - pHeight - arrowSize;\r\n\t\t} else if ((pHeight + arrowSize) < (wHeight - (offset.top - window.pageYOffset) - aHeight)) { //bottom\r\n\t\t\tposition = 'bottom';\r\n\t\t\tpTop = offset.top + aHeight + arrowSize;\r\n\t\t} else { //middle\r\n\t\t\tposition = 'middle';\r\n\t\t\tpTop = Math.max((wHeight - pHeight) / 2 + window.pageYOffset, 0);\r\n\t\t\tpLeft = Math.max((wWidth - pWidth) / 2 + window.pageXOffset, 0);\r\n\t\t}\r\n\t\tif (position === 'top' || position === 'bottom') {\r\n\t\t\tpLeft = aWidth / 2 + offset.left - pWidth / 2;\r\n\t\t\tdiff = pLeft;\r\n\t\t\tif (pLeft < defaultPadding) pLeft = defaultPadding;\r\n\t\t\tif (pLeft + pWidth > wWidth) pLeft = wWidth - pWidth - defaultPadding;\r\n\r\n\t\t\tif (arrow) {\r\n\t\t\t\tif (position === 'top') {\r\n\t\t\t\t\tarrow.classList.add(CLASS_BOTTOM);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tarrow.classList.remove(CLASS_BOTTOM);\r\n\t\t\t\t}\r\n\t\t\t\tdiff = diff - pLeft;\r\n\t\t\t\tarrowLeft = (pWidth / 2 - arrowSize / 2 + diff);\r\n\t\t\t\tarrowLeft = Math.max(Math.min(arrowLeft, pWidth - arrowSize * 2 - 6), 6);\r\n\t\t\t\tarrow.setAttribute('style', 'left:' + arrowLeft + 'px');\r\n\t\t\t}\r\n\t\t} else if (position === 'middle') {\r\n\t\t\tarrow.setAttribute('style', 'display:none');\r\n\t\t}\r\n\t\tsetStyle(popover, 'block', pTop, pLeft);\r\n\t};\r\n\r\n\t$.createMask = function(callback) {\r\n\t\tvar element = document.createElement('div');\r\n\t\telement.classList.add(CLASS_BACKDROP);\r\n\t\telement.addEventListener($.EVENT_MOVE, $.preventDefault);\r\n\t\telement.addEventListener('tap', function() {\r\n\t\t\tmask.close();\r\n\t\t});\r\n\t\tvar mask = [element];\r\n\t\tmask._show = false;\r\n\t\tmask.show = function() {\r\n\t\t\tmask._show = true;\r\n\t\t\telement.setAttribute('style', 'opacity:1');\r\n\t\t\tdocument.body.appendChild(element);\r\n\t\t\treturn mask;\r\n\t\t};\r\n\t\tmask._remove = function() {\r\n\t\t\tif (mask._show) {\r\n\t\t\t\tmask._show = false;\r\n\t\t\t\telement.setAttribute('style', 'opacity:0');\r\n\t\t\t\t$.later(function() {\r\n\t\t\t\t\tvar body = document.body;\r\n\t\t\t\t\telement.parentNode === body && body.removeChild(element);\r\n\t\t\t\t}, 350);\r\n\t\t\t}\r\n\t\t\treturn mask;\r\n\t\t};\r\n\t\tmask.close = function() {\r\n\t\t\tif (callback) {\r\n\t\t\t\tif (callback() !== false) {\r\n\t\t\t\t\tmask._remove();\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tmask._remove();\r\n\t\t\t}\r\n\t\t};\r\n\t\treturn mask;\r\n\t};\r\n\t$.fn.popover = function() {\r\n\t\tvar args = arguments;\r\n\t\tthis.each(function() {\r\n\t\t\t$.targets._popover = this;\r\n\t\t\tif (args[0] === 'show' || args[0] === 'hide' || args[0] === 'toggle') {\r\n\t\t\t\ttogglePopover(this, args[1], args[0]);\r\n\t\t\t}\r\n\t\t});\r\n\t};\r\n\r\n})(mui, window, document, 'popover');\r\n/**\r\n * segmented-controllers\r\n * @param {type} $\r\n * @param {type} window\r\n * @param {type} document\r\n * @param {type} undefined\r\n * @returns {undefined}\r\n */\r\n(function($, window, document, name, undefined) {\r\n\r\n    var CLASS_CONTROL_ITEM = 'mui-control-item';\r\n    var CLASS_SEGMENTED_CONTROL = 'mui-segmented-control';\r\n    var CLASS_SEGMENTED_CONTROL_VERTICAL = 'mui-segmented-control-vertical';\r\n    var CLASS_CONTROL_CONTENT = 'mui-control-content';\r\n    var CLASS_TAB_BAR = 'mui-bar-tab';\r\n    var CLASS_TAB_ITEM = 'mui-tab-item';\r\n    var CLASS_SLIDER_ITEM = 'mui-slider-item';\r\n\r\n   var handle = function(event, target) {\r\n        if (target.classList && (target.classList.contains(CLASS_CONTROL_ITEM) || target.classList.contains(CLASS_TAB_ITEM))) {\r\n            if (target.parentNode && target.parentNode.classList && target.parentNode.classList.contains(CLASS_SEGMENTED_CONTROL_VERTICAL)) {\r\n                //vertical 如果preventDefault会导致无法滚动\r\n            } else {\r\n\r\n                    event.preventDefault();      \r\n                    // if(target.tagName == 'A') {\r\n                    //     // fixed 底部选项卡href 无法跳转 && stop hash change\r\n                    //     var curr_href = location.hostname + location.pathname,\r\n                    //         target_href = target.hostname + target.pathname;\r\n                   \r\n                    //     if (curr_href == target_href && target.hash !== \"\") {\r\n                    //         event.preventDefault();\r\n                    //         return target;\r\n                    //     }else{\r\n                    //             return false\r\n                    //     }\r\n                    // }\r\n            }\r\n            //          if (target.hash) {\r\n            return target;\r\n            //          }\r\n        }\r\n        return false;\r\n    };\r\n\r\n    $.registerTarget({\r\n        name: name,\r\n        index: 80,\r\n        handle: handle,\r\n        target: false\r\n    });\r\n\r\n    window.addEventListener('tap', function(e) {\r\n\r\n        var targetTab = $.targets.tab;\r\n        if (!targetTab) {\r\n            return;\r\n        }\r\n        var activeTab;\r\n        var activeBodies;\r\n        var targetBody;\r\n        var className = 'mui-active';\r\n        var classSelector = '.' + className;\r\n        var segmentedControl = targetTab.parentNode;\r\n\r\n        for (; segmentedControl && segmentedControl !== document; segmentedControl = segmentedControl.parentNode) {\r\n            if (segmentedControl.classList.contains(CLASS_SEGMENTED_CONTROL)) {\r\n                activeTab = segmentedControl.querySelector(classSelector + '.' + CLASS_CONTROL_ITEM);\r\n                break;\r\n            } else if (segmentedControl.classList.contains(CLASS_TAB_BAR)) {\r\n                activeTab = segmentedControl.querySelector(classSelector + '.' + CLASS_TAB_ITEM);\r\n            }\r\n        }\r\n\r\n        if (activeTab) {\r\n            activeTab.classList.remove(className);\r\n        }\r\n\r\n        var isLastActive = targetTab === activeTab;\r\n        if (targetTab) {\r\n            targetTab.classList.add(className);\r\n        }\r\n\r\n        if (!targetTab.hash) {\r\n            return;\r\n        }\r\n        targetBody = document.getElementById(targetTab.hash.replace('#', ''));\r\n\r\n        if (!targetBody) {\r\n            return;\r\n        }\r\n        if (!targetBody.classList.contains(CLASS_CONTROL_CONTENT)) { //tab bar popover\r\n            targetTab.classList[isLastActive ? 'remove' : 'add'](className);\r\n            return;\r\n        }\r\n        if (isLastActive) { //same\r\n            return;\r\n        }\r\n        var parentNode = targetBody.parentNode;\r\n        activeBodies = parentNode.querySelectorAll('.' + CLASS_CONTROL_CONTENT + classSelector);\r\n        for (var i = 0; i < activeBodies.length; i++) {\r\n            var activeBody = activeBodies[i];\r\n            activeBody.parentNode === parentNode && activeBody.classList.remove(className);\r\n        }\r\n\r\n        targetBody.classList.add(className);\r\n\r\n        var contents = [];\r\n        var _contents = parentNode.querySelectorAll('.' + CLASS_CONTROL_CONTENT);\r\n        for (var i = 0; i < _contents.length; i++) { //查找直属子节点\r\n            _contents[i].parentNode === parentNode && (contents.push(_contents[i]));\r\n        }\r\n        $.trigger(targetBody, $.eventName('shown', name), {\r\n            tabNumber: Array.prototype.indexOf.call(contents, targetBody)\r\n        });\r\n        e.detail && e.detail.gesture.preventDefault(); //fixed hashchange\r\n    });\r\n\r\n})(mui, window, document, 'tab');\r\n/**\r\n * Toggles switch\r\n * @param {type} $\r\n * @param {type} window\r\n * @param {type} name\r\n * @returns {undefined}\r\n */\r\n(function($, window, name) {\r\n\r\n\tvar CLASS_SWITCH = 'mui-switch';\r\n\tvar CLASS_SWITCH_HANDLE = 'mui-switch-handle';\r\n\tvar CLASS_ACTIVE = 'mui-active';\r\n\tvar CLASS_DRAGGING = 'mui-dragging';\r\n\r\n\tvar CLASS_DISABLED = 'mui-disabled';\r\n\r\n\tvar SELECTOR_SWITCH_HANDLE = '.' + CLASS_SWITCH_HANDLE;\r\n\r\n\tvar handle = function(event, target) {\r\n\t\tif (target.classList && target.classList.contains(CLASS_SWITCH)) {\r\n\t\t\treturn target;\r\n\t\t}\r\n\t\treturn false;\r\n\t};\r\n\r\n\t$.registerTarget({\r\n\t\tname: name,\r\n\t\tindex: 100,\r\n\t\thandle: handle,\r\n\t\ttarget: false\r\n\t});\r\n\r\n\r\n\tvar Toggle = function(element) {\r\n\t\tthis.element = element;\r\n\t\tthis.classList = this.element.classList;\r\n\t\tthis.handle = this.element.querySelector(SELECTOR_SWITCH_HANDLE);\r\n\t\tthis.init();\r\n\t\tthis.initEvent();\r\n\t};\r\n\tToggle.prototype.init = function() {\r\n\t\tthis.toggleWidth = this.element.offsetWidth;\r\n\t\tthis.handleWidth = this.handle.offsetWidth;\r\n\t\tthis.handleX = this.toggleWidth - this.handleWidth - 3;\r\n\t};\r\n\tToggle.prototype.initEvent = function() {\r\n\t\tthis.element.addEventListener($.EVENT_START, this);\r\n\t\tthis.element.addEventListener('drag', this);\r\n\t\tthis.element.addEventListener('swiperight', this);\r\n\t\tthis.element.addEventListener($.EVENT_END, this);\r\n\t\tthis.element.addEventListener($.EVENT_CANCEL, this);\r\n\r\n\t};\r\n\tToggle.prototype.handleEvent = function(e) {\r\n\t\tif (this.classList.contains(CLASS_DISABLED)) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tswitch (e.type) {\r\n\t\t\tcase $.EVENT_START:\r\n\t\t\t\tthis.start(e);\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'drag':\r\n\t\t\t\tthis.drag(e);\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'swiperight':\r\n\t\t\t\tthis.swiperight();\r\n\t\t\t\tbreak;\r\n\t\t\tcase $.EVENT_END:\r\n\t\t\tcase $.EVENT_CANCEL:\r\n\t\t\t\tthis.end(e);\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\t};\r\n\tToggle.prototype.start = function(e) {\r\n\t\tthis.handle.style.webkitTransitionDuration = this.element.style.webkitTransitionDuration = '.2s';\r\n\t\tthis.classList.add(CLASS_DRAGGING);\r\n\t\tif (this.toggleWidth === 0 || this.handleWidth === 0) { //当switch处于隐藏状态时，width为0，需要重新初始化\r\n\t\t\tthis.init();\r\n\t\t}\r\n\t};\r\n\tToggle.prototype.drag = function(e) {\r\n\t\tvar detail = e.detail;\r\n\t\tif (!this.isDragging) {\r\n\t\t\tif (detail.direction === 'left' || detail.direction === 'right') {\r\n\t\t\t\tthis.isDragging = true;\r\n\t\t\t\tthis.lastChanged = undefined;\r\n\t\t\t\tthis.initialState = this.classList.contains(CLASS_ACTIVE);\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (this.isDragging) {\r\n\t\t\tthis.setTranslateX(detail.deltaX);\r\n\t\t\te.stopPropagation();\r\n\t\t\tdetail.gesture.preventDefault();\r\n\t\t}\r\n\t};\r\n\tToggle.prototype.swiperight = function(e) {\r\n\t\tif (this.isDragging) {\r\n\t\t\te.stopPropagation();\r\n\t\t}\r\n\t};\r\n\tToggle.prototype.end = function(e) {\r\n\t\tthis.classList.remove(CLASS_DRAGGING);\r\n\t\tif (this.isDragging) {\r\n\t\t\tthis.isDragging = false;\r\n\t\t\te.stopPropagation();\r\n\t\t\t$.trigger(this.element, 'toggle', {\r\n\t\t\t\tisActive: this.classList.contains(CLASS_ACTIVE)\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\tthis.toggle();\r\n\t\t}\r\n\t};\r\n\tToggle.prototype.toggle = function(animate) {\r\n\t\tvar classList = this.classList;\r\n\t\tif (animate === false) {\r\n\t\t\tthis.handle.style.webkitTransitionDuration = this.element.style.webkitTransitionDuration = '0s';\r\n\t\t} else {\r\n\t\t\tthis.handle.style.webkitTransitionDuration = this.element.style.webkitTransitionDuration = '.2s';\r\n\t\t}\r\n\t\tif (classList.contains(CLASS_ACTIVE)) {\r\n\t\t\tclassList.remove(CLASS_ACTIVE);\r\n\t\t\tthis.handle.style.webkitTransform = 'translate(0,0)';\r\n\t\t} else {\r\n\t\t\tclassList.add(CLASS_ACTIVE);\r\n\t\t\tthis.handle.style.webkitTransform = 'translate(' + this.handleX + 'px,0)';\r\n\t\t}\r\n\t\t$.trigger(this.element, 'toggle', {\r\n\t\t\tisActive: this.classList.contains(CLASS_ACTIVE)\r\n\t\t});\r\n\t};\r\n\tToggle.prototype.setTranslateX = $.animationFrame(function(x) {\r\n\t\tif (!this.isDragging) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tvar isChanged = false;\r\n\t\tif ((this.initialState && -x > (this.handleX / 2)) || (!this.initialState && x > (this.handleX / 2))) {\r\n\t\t\tisChanged = true;\r\n\t\t}\r\n\t\tif (this.lastChanged !== isChanged) {\r\n\t\t\tif (isChanged) {\r\n\t\t\t\tthis.handle.style.webkitTransform = 'translate(' + (this.initialState ? 0 : this.handleX) + 'px,0)';\r\n\t\t\t\tthis.classList[this.initialState ? 'remove' : 'add'](CLASS_ACTIVE);\r\n\t\t\t} else {\r\n\t\t\t\tthis.handle.style.webkitTransform = 'translate(' + (this.initialState ? this.handleX : 0) + 'px,0)';\r\n\t\t\t\tthis.classList[this.initialState ? 'add' : 'remove'](CLASS_ACTIVE);\r\n\t\t\t}\r\n\t\t\tthis.lastChanged = isChanged;\r\n\t\t}\r\n\r\n\t});\r\n\r\n\t$.fn['switch'] = function(options) {\r\n\t\tvar switchApis = [];\r\n\t\tthis.each(function() {\r\n\t\t\tvar switchApi = null;\r\n\t\t\tvar id = this.getAttribute('data-switch');\r\n\t\t\tif (!id) {\r\n\t\t\t\tid = ++$.uuid;\r\n\t\t\t\t$.data[id] = new Toggle(this);\r\n\t\t\t\tthis.setAttribute('data-switch', id);\r\n\t\t\t} else {\r\n\t\t\t\tswitchApi = $.data[id];\r\n\t\t\t}\r\n\t\t\tswitchApis.push(switchApi);\r\n\t\t});\r\n\t\treturn switchApis.length > 1 ? switchApis : switchApis[0];\r\n\t};\r\n\t$.ready(function() {\r\n\t\t$('.' + CLASS_SWITCH)['switch']();\r\n\t});\r\n})(mui, window, 'toggle');\r\n/**\r\n * Tableviews\r\n * @param {type} $\r\n * @param {type} window\r\n * @param {type} document\r\n * @returns {undefined}\r\n */\r\n(function($, window, document) {\r\n\r\n\tvar CLASS_ACTIVE = 'mui-active';\r\n\tvar CLASS_SELECTED = 'mui-selected';\r\n\tvar CLASS_GRID_VIEW = 'mui-grid-view';\r\n\tvar CLASS_RADIO_VIEW = 'mui-table-view-radio';\r\n\tvar CLASS_TABLE_VIEW_CELL = 'mui-table-view-cell';\r\n\tvar CLASS_COLLAPSE_CONTENT = 'mui-collapse-content';\r\n\tvar CLASS_DISABLED = 'mui-disabled';\r\n\tvar CLASS_TOGGLE = 'mui-switch';\r\n\tvar CLASS_BTN = 'mui-btn';\r\n\r\n\tvar CLASS_SLIDER_HANDLE = 'mui-slider-handle';\r\n\tvar CLASS_SLIDER_LEFT = 'mui-slider-left';\r\n\tvar CLASS_SLIDER_RIGHT = 'mui-slider-right';\r\n\tvar CLASS_TRANSITIONING = 'mui-transitioning';\r\n\r\n\r\n\tvar SELECTOR_SLIDER_HANDLE = '.' + CLASS_SLIDER_HANDLE;\r\n\tvar SELECTOR_SLIDER_LEFT = '.' + CLASS_SLIDER_LEFT;\r\n\tvar SELECTOR_SLIDER_RIGHT = '.' + CLASS_SLIDER_RIGHT;\r\n\tvar SELECTOR_SELECTED = '.' + CLASS_SELECTED;\r\n\tvar SELECTOR_BUTTON = '.' + CLASS_BTN;\r\n\tvar overFactor = 0.8;\r\n\tvar cell, a;\r\n\r\n\tvar isMoved = isOpened = openedActions = progress = false;\r\n\tvar sliderHandle = sliderActionLeft = sliderActionRight = buttonsLeft = buttonsRight = sliderDirection = sliderRequestAnimationFrame = false;\r\n\tvar timer = translateX = lastTranslateX = sliderActionLeftWidth = sliderActionRightWidth = 0;\r\n\r\n\r\n\r\n\tvar toggleActive = function(isActive) {\r\n\t\tif (isActive) {\r\n\t\t\tif (a) {\r\n\t\t\t\ta.classList.add(CLASS_ACTIVE);\r\n\t\t\t} else if (cell) {\r\n\t\t\t\tcell.classList.add(CLASS_ACTIVE);\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\ttimer && timer.cancel();\r\n\t\t\tif (a) {\r\n\t\t\t\ta.classList.remove(CLASS_ACTIVE);\r\n\t\t\t} else if (cell) {\r\n\t\t\t\tcell.classList.remove(CLASS_ACTIVE);\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\r\n\tvar updateTranslate = function() {\r\n\t\tif (translateX !== lastTranslateX) {\r\n\t\t\tif (buttonsRight && buttonsRight.length > 0) {\r\n\t\t\t\tprogress = translateX / sliderActionRightWidth;\r\n\t\t\t\tif (translateX < -sliderActionRightWidth) {\r\n\t\t\t\t\ttranslateX = -sliderActionRightWidth - Math.pow(-translateX - sliderActionRightWidth, overFactor);\r\n\t\t\t\t}\r\n\t\t\t\tfor (var i = 0, len = buttonsRight.length; i < len; i++) {\r\n\t\t\t\t\tvar buttonRight = buttonsRight[i];\r\n\t\t\t\t\tif (typeof buttonRight._buttonOffset === 'undefined') {\r\n\t\t\t\t\t\tbuttonRight._buttonOffset = buttonRight.offsetLeft;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tbuttonOffset = buttonRight._buttonOffset;\r\n\t\t\t\t\tsetTranslate(buttonRight, (translateX - buttonOffset * (1 + Math.max(progress, -1))));\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif (buttonsLeft && buttonsLeft.length > 0) {\r\n\t\t\t\tprogress = translateX / sliderActionLeftWidth;\r\n\t\t\t\tif (translateX > sliderActionLeftWidth) {\r\n\t\t\t\t\ttranslateX = sliderActionLeftWidth + Math.pow(translateX - sliderActionLeftWidth, overFactor);\r\n\t\t\t\t}\r\n\t\t\t\tfor (var i = 0, len = buttonsLeft.length; i < len; i++) {\r\n\t\t\t\t\tvar buttonLeft = buttonsLeft[i];\r\n\t\t\t\t\tif (typeof buttonLeft._buttonOffset === 'undefined') {\r\n\t\t\t\t\t\tbuttonLeft._buttonOffset = sliderActionLeftWidth - buttonLeft.offsetLeft - buttonLeft.offsetWidth;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tbuttonOffset = buttonLeft._buttonOffset;\r\n\t\t\t\t\tif (buttonsLeft.length > 1) {\r\n\t\t\t\t\t\tbuttonLeft.style.zIndex = buttonsLeft.length - i;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tsetTranslate(buttonLeft, (translateX + buttonOffset * (1 - Math.min(progress, 1))));\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tsetTranslate(sliderHandle, translateX);\r\n\t\t\tlastTranslateX = translateX;\r\n\t\t}\r\n\t\tsliderRequestAnimationFrame = requestAnimationFrame(function() {\r\n\t\t\tupdateTranslate();\r\n\t\t});\r\n\t};\r\n\tvar setTranslate = function(element, x) {\r\n\t\tif (element) {\r\n\t\t\telement.style.webkitTransform = 'translate(' + x + 'px,0)';\r\n\t\t}\r\n\t};\r\n\r\n\twindow.addEventListener($.EVENT_START, function(event) {\r\n\t\tif (cell) {\r\n\t\t\ttoggleActive(false);\r\n\t\t}\r\n\t\tcell = a = false;\r\n\t\tisMoved = isOpened = openedActions = false;\r\n\t\tvar target = event.target;\r\n\t\tvar isDisabled = false;\r\n\t\tfor (; target && target !== document; target = target.parentNode) {\r\n\t\t\tif (target.classList) {\r\n\t\t\t\tvar classList = target.classList;\r\n\t\t\t\tif ((target.tagName === 'INPUT' && target.type !== 'radio' && target.type !== 'checkbox') || target.tagName === 'BUTTON' || classList.contains(CLASS_TOGGLE) || classList.contains(CLASS_BTN) || classList.contains(CLASS_DISABLED)) {\r\n\t\t\t\t\tisDisabled = true;\r\n\t\t\t\t}\r\n\t\t\t\tif (classList.contains(CLASS_COLLAPSE_CONTENT)) { //collapse content\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t\tif (classList.contains(CLASS_TABLE_VIEW_CELL)) {\r\n\t\t\t\t\tcell = target;\r\n\t\t\t\t\t//TODO swipe to delete close\r\n\t\t\t\t\tvar selected = cell.parentNode.querySelector(SELECTOR_SELECTED);\r\n\t\t\t\t\tif (!cell.parentNode.classList.contains(CLASS_RADIO_VIEW) && selected && selected !== cell) {\r\n\t\t\t\t\t\t$.swipeoutClose(selected);\r\n\t\t\t\t\t\tcell = isDisabled = false;\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (!cell.parentNode.classList.contains(CLASS_GRID_VIEW)) {\r\n\t\t\t\t\t\tvar link = cell.querySelector('a');\r\n\t\t\t\t\t\tif (link && link.parentNode === cell) { //li>a\r\n\t\t\t\t\t\t\ta = link;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tvar handle = cell.querySelector(SELECTOR_SLIDER_HANDLE);\r\n\t\t\t\t\tif (handle) {\r\n\t\t\t\t\t\ttoggleEvents(cell);\r\n\t\t\t\t\t\tevent.stopPropagation();\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (!isDisabled) {\r\n\t\t\t\t\t\tif (handle) {\r\n\t\t\t\t\t\t\tif (timer) {\r\n\t\t\t\t\t\t\t\ttimer.cancel();\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\ttimer = $.later(function() {\r\n\t\t\t\t\t\t\t\ttoggleActive(true);\r\n\t\t\t\t\t\t\t}, 100);\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\ttoggleActive(true);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t});\r\n\twindow.addEventListener($.EVENT_MOVE, function(event) {\r\n\t\ttoggleActive(false);\r\n\t});\r\n\r\n\tvar handleEvent = {\r\n\t\thandleEvent: function(event) {\r\n\t\t\tswitch (event.type) {\r\n\t\t\t\tcase 'drag':\r\n\t\t\t\t\tthis.drag(event);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 'dragend':\r\n\t\t\t\t\tthis.dragend(event);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 'flick':\r\n\t\t\t\t\tthis.flick(event);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 'swiperight':\r\n\t\t\t\t\tthis.swiperight(event);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 'swipeleft':\r\n\t\t\t\t\tthis.swipeleft(event);\r\n\t\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t},\r\n\t\tdrag: function(event) {\r\n\t\t\tif (!cell) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tif (!isMoved) { //init\r\n\t\t\t\tsliderHandle = sliderActionLeft = sliderActionRight = buttonsLeft = buttonsRight = sliderDirection = sliderRequestAnimationFrame = false;\r\n\t\t\t\tsliderHandle = cell.querySelector(SELECTOR_SLIDER_HANDLE);\r\n\t\t\t\tif (sliderHandle) {\r\n\t\t\t\t\tsliderActionLeft = cell.querySelector(SELECTOR_SLIDER_LEFT);\r\n\t\t\t\t\tsliderActionRight = cell.querySelector(SELECTOR_SLIDER_RIGHT);\r\n\t\t\t\t\tif (sliderActionLeft) {\r\n\t\t\t\t\t\tsliderActionLeftWidth = sliderActionLeft.offsetWidth;\r\n\t\t\t\t\t\tbuttonsLeft = sliderActionLeft.querySelectorAll(SELECTOR_BUTTON);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (sliderActionRight) {\r\n\t\t\t\t\t\tsliderActionRightWidth = sliderActionRight.offsetWidth;\r\n\t\t\t\t\t\tbuttonsRight = sliderActionRight.querySelectorAll(SELECTOR_BUTTON);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tcell.classList.remove(CLASS_TRANSITIONING);\r\n\t\t\t\t\tisOpened = cell.classList.contains(CLASS_SELECTED);\r\n\t\t\t\t\tif (isOpened) {\r\n\t\t\t\t\t\topenedActions = cell.querySelector(SELECTOR_SLIDER_LEFT + SELECTOR_SELECTED) ? 'left' : 'right';\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tvar detail = event.detail;\r\n\t\t\tvar direction = detail.direction;\r\n\t\t\tvar angle = detail.angle;\r\n\t\t\tif (direction === 'left' && (angle > 150 || angle < -150)) {\r\n\t\t\t\tif (buttonsRight || (buttonsLeft && isOpened)) { //存在右侧按钮或存在左侧按钮且是已打开状态\r\n\t\t\t\t\tisMoved = true;\r\n\t\t\t\t}\r\n\t\t\t} else if (direction === 'right' && (angle > -30 && angle < 30)) {\r\n\t\t\t\tif (buttonsLeft || (buttonsRight && isOpened)) { //存在左侧按钮或存在右侧按钮且是已打开状态\r\n\t\t\t\t\tisMoved = true;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif (isMoved) {\r\n\t\t\t\tevent.stopPropagation();\r\n\t\t\t\tevent.detail.gesture.preventDefault();\r\n\t\t\t\tvar translate = event.detail.deltaX;\r\n\t\t\t\tif (isOpened) {\r\n\t\t\t\t\tif (openedActions === 'right') {\r\n\t\t\t\t\t\ttranslate = translate - sliderActionRightWidth;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\ttranslate = translate + sliderActionLeftWidth;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tif ((translate > 0 && !buttonsLeft) || (translate < 0 && !buttonsRight)) {\r\n\t\t\t\t\tif (!isOpened) {\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\t\t\t\t\ttranslate = 0;\r\n\t\t\t\t}\r\n\t\t\t\tif (translate < 0) {\r\n\t\t\t\t\tsliderDirection = 'toLeft';\r\n\t\t\t\t} else if (translate > 0) {\r\n\t\t\t\t\tsliderDirection = 'toRight';\r\n\t\t\t\t} else {\r\n\t\t\t\t\tif (!sliderDirection) {\r\n\t\t\t\t\t\tsliderDirection = 'toLeft';\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tif (!sliderRequestAnimationFrame) {\r\n\t\t\t\t\tupdateTranslate();\r\n\t\t\t\t}\r\n\t\t\t\ttranslateX = translate;\r\n\t\t\t}\r\n\t\t},\r\n\t\tflick: function(event) {\r\n\t\t\tif (isMoved) {\r\n\t\t\t\tevent.stopPropagation();\r\n\t\t\t}\r\n\t\t},\r\n\t\tswipeleft: function(event) {\r\n\t\t\tif (isMoved) {\r\n\t\t\t\tevent.stopPropagation();\r\n\t\t\t}\r\n\t\t},\r\n\t\tswiperight: function(event) {\r\n\t\t\tif (isMoved) {\r\n\t\t\t\tevent.stopPropagation();\r\n\t\t\t}\r\n\t\t},\r\n\t\tdragend: function(event) {\r\n\t\t\tif (!isMoved) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tevent.stopPropagation();\r\n\t\t\tif (sliderRequestAnimationFrame) {\r\n\t\t\t\tcancelAnimationFrame(sliderRequestAnimationFrame);\r\n\t\t\t\tsliderRequestAnimationFrame = null;\r\n\t\t\t}\r\n\t\t\tvar detail = event.detail;\r\n\t\t\tisMoved = false;\r\n\t\t\tvar action = 'close';\r\n\t\t\tvar actionsWidth = sliderDirection === 'toLeft' ? sliderActionRightWidth : sliderActionLeftWidth;\r\n\t\t\tvar isToggle = detail.swipe || (Math.abs(translateX) > actionsWidth / 2);\r\n\t\t\tif (isToggle) {\r\n\t\t\t\tif (!isOpened) {\r\n\t\t\t\t\taction = 'open';\r\n\t\t\t\t} else if (detail.direction === 'left' && openedActions === 'right') {\r\n\t\t\t\t\taction = 'open';\r\n\t\t\t\t} else if (detail.direction === 'right' && openedActions === 'left') {\r\n\t\t\t\t\taction = 'open';\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\t\t\tcell.classList.add(CLASS_TRANSITIONING);\r\n\t\t\tvar buttons;\r\n\t\t\tif (action === 'open') {\r\n\t\t\t\tvar newTranslate = sliderDirection === 'toLeft' ? -actionsWidth : actionsWidth;\r\n\t\t\t\tsetTranslate(sliderHandle, newTranslate);\r\n\t\t\t\tbuttons = sliderDirection === 'toLeft' ? buttonsRight : buttonsLeft;\r\n\t\t\t\tif (typeof buttons !== 'undefined') {\r\n\t\t\t\t\tvar button = null;\r\n\t\t\t\t\tfor (var i = 0; i < buttons.length; i++) {\r\n\t\t\t\t\t\tbutton = buttons[i];\r\n\t\t\t\t\t\tsetTranslate(button, newTranslate);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tbutton.parentNode.classList.add(CLASS_SELECTED);\r\n\t\t\t\t\tcell.classList.add(CLASS_SELECTED);\r\n\t\t\t\t\tif (!isOpened) {\r\n\t\t\t\t\t\t$.trigger(cell, sliderDirection === 'toLeft' ? 'slideleft' : 'slideright');\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tsetTranslate(sliderHandle, 0);\r\n\t\t\t\tsliderActionLeft && sliderActionLeft.classList.remove(CLASS_SELECTED);\r\n\t\t\t\tsliderActionRight && sliderActionRight.classList.remove(CLASS_SELECTED);\r\n\t\t\t\tcell.classList.remove(CLASS_SELECTED);\r\n\t\t\t}\r\n\t\t\tvar buttonOffset;\r\n\t\t\tif (buttonsLeft && buttonsLeft.length > 0 && buttonsLeft !== buttons) {\r\n\t\t\t\tfor (var i = 0, len = buttonsLeft.length; i < len; i++) {\r\n\t\t\t\t\tvar buttonLeft = buttonsLeft[i];\r\n\t\t\t\t\tbuttonOffset = buttonLeft._buttonOffset;\r\n\t\t\t\t\tif (typeof buttonOffset === 'undefined') {\r\n\t\t\t\t\t\tbuttonLeft._buttonOffset = sliderActionLeftWidth - buttonLeft.offsetLeft - buttonLeft.offsetWidth;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tsetTranslate(buttonLeft, buttonOffset);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif (buttonsRight && buttonsRight.length > 0 && buttonsRight !== buttons) {\r\n\t\t\t\tfor (var i = 0, len = buttonsRight.length; i < len; i++) {\r\n\t\t\t\t\tvar buttonRight = buttonsRight[i];\r\n\t\t\t\t\tbuttonOffset = buttonRight._buttonOffset;\r\n\t\t\t\t\tif (typeof buttonOffset === 'undefined') {\r\n\t\t\t\t\t\tbuttonRight._buttonOffset = buttonRight.offsetLeft;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tsetTranslate(buttonRight, -buttonOffset);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\r\n\tfunction toggleEvents(element, isRemove) {\r\n\t\tvar method = !!isRemove ? 'removeEventListener' : 'addEventListener';\r\n\t\telement[method]('drag', handleEvent);\r\n\t\telement[method]('dragend', handleEvent);\r\n\t\telement[method]('swiperight', handleEvent);\r\n\t\telement[method]('swipeleft', handleEvent);\r\n\t\telement[method]('flick', handleEvent);\r\n\t};\r\n\t/**\r\n\t * 打开滑动菜单\r\n\t * @param {Object} el\r\n\t * @param {Object} direction\r\n\t */\r\n\t$.swipeoutOpen = function(el, direction) {\r\n\t\tif (!el) return;\r\n\t\tvar classList = el.classList;\r\n\t\tif (classList.contains(CLASS_SELECTED)) return;\r\n\t\tif (!direction) {\r\n\t\t\tif (el.querySelector(SELECTOR_SLIDER_RIGHT)) {\r\n\t\t\t\tdirection = 'right';\r\n\t\t\t} else {\r\n\t\t\t\tdirection = 'left';\r\n\t\t\t}\r\n\t\t}\r\n\t\tvar swipeoutAction = el.querySelector($.classSelector(\".slider-\" + direction));\r\n\t\tif (!swipeoutAction) return;\r\n\t\tswipeoutAction.classList.add(CLASS_SELECTED);\r\n\t\tclassList.add(CLASS_SELECTED);\r\n\t\tclassList.remove(CLASS_TRANSITIONING);\r\n\t\tvar buttons = swipeoutAction.querySelectorAll(SELECTOR_BUTTON);\r\n\t\tvar swipeoutWidth = swipeoutAction.offsetWidth;\r\n\t\tvar translate = (direction === 'right') ? -swipeoutWidth : swipeoutWidth;\r\n\t\tvar length = buttons.length;\r\n\t\tvar button;\r\n\t\tfor (var i = 0; i < length; i++) {\r\n\t\t\tbutton = buttons[i];\r\n\t\t\tif (direction === 'right') {\r\n\t\t\t\tsetTranslate(button, -button.offsetLeft);\r\n\t\t\t} else {\r\n\t\t\t\tsetTranslate(button, (swipeoutWidth - button.offsetWidth - button.offsetLeft));\r\n\t\t\t}\r\n\t\t}\r\n\t\tclassList.add(CLASS_TRANSITIONING);\r\n\t\tfor (var i = 0; i < length; i++) {\r\n\t\t\tsetTranslate(buttons[i], translate);\r\n\t\t}\r\n\t\tsetTranslate(el.querySelector(SELECTOR_SLIDER_HANDLE), translate);\r\n\t};\r\n\t/**\r\n\t * 关闭滑动菜单\r\n\t * @param {Object} el\r\n\t */\r\n\t$.swipeoutClose = function(el) {\r\n\t\tif (!el) return;\r\n\t\tvar classList = el.classList;\r\n\t\tif (!classList.contains(CLASS_SELECTED)) return;\r\n\t\tvar direction = el.querySelector(SELECTOR_SLIDER_RIGHT + SELECTOR_SELECTED) ? 'right' : 'left';\r\n\t\tvar swipeoutAction = el.querySelector($.classSelector(\".slider-\" + direction));\r\n\t\tif (!swipeoutAction) return;\r\n\t\tswipeoutAction.classList.remove(CLASS_SELECTED);\r\n\t\tclassList.remove(CLASS_SELECTED);\r\n\t\tclassList.add(CLASS_TRANSITIONING);\r\n\t\tvar buttons = swipeoutAction.querySelectorAll(SELECTOR_BUTTON);\r\n\t\tvar swipeoutWidth = swipeoutAction.offsetWidth;\r\n\t\tvar length = buttons.length;\r\n\t\tvar button;\r\n\t\tsetTranslate(el.querySelector(SELECTOR_SLIDER_HANDLE), 0);\r\n\t\tfor (var i = 0; i < length; i++) {\r\n\t\t\tbutton = buttons[i];\r\n\t\t\tif (direction === 'right') {\r\n\t\t\t\tsetTranslate(button, (-button.offsetLeft));\r\n\t\t\t} else {\r\n\t\t\t\tsetTranslate(button, (swipeoutWidth - button.offsetWidth - button.offsetLeft));\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\r\n\twindow.addEventListener($.EVENT_END, function(event) { //使用touchend来取消高亮，避免一次点击既不触发tap，doubletap，longtap的事件\r\n\t\tif (!cell) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\ttoggleActive(false);\r\n\t\tsliderHandle && toggleEvents(cell, true);\r\n\t});\r\n\twindow.addEventListener($.EVENT_CANCEL, function(event) { //使用touchcancel来取消高亮，避免一次点击既不触发tap，doubletap，longtap的事件\r\n\t\tif (!cell) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\ttoggleActive(false);\r\n\t\tsliderHandle && toggleEvents(cell, true);\r\n\t});\r\n\tvar radioOrCheckboxClick = function(event) {\r\n\t\tvar type = event.target && event.target.type || '';\r\n\t\tif (type === 'radio' || type === 'checkbox') {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tvar classList = cell.classList;\r\n\t\tif (classList.contains('mui-radio')) {\r\n\t\t\tvar input = cell.querySelector('input[type=radio]');\r\n\t\t\tif (input) {\r\n\t\t\t\t//\t\t\t\tinput.click();\r\n\t\t\t\tif (!input.disabled && !input.readOnly) {\r\n\t\t\t\t\tinput.checked = !input.checked;\r\n\t\t\t\t\t$.trigger(input, 'change');\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t} else if (classList.contains('mui-checkbox')) {\r\n\t\t\tvar input = cell.querySelector('input[type=checkbox]');\r\n\t\t\tif (input) {\r\n\t\t\t\t//\t\t\t\tinput.click();\r\n\t\t\t\tif (!input.disabled && !input.readOnly) {\r\n\t\t\t\t\tinput.checked = !input.checked;\r\n\t\t\t\t\t$.trigger(input, 'change');\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\t//fixed hashchange(android)\r\n\twindow.addEventListener($.EVENT_CLICK, function(e) {\r\n\t\tif (cell && cell.classList.contains('mui-collapse')) {\r\n\t\t\te.preventDefault();\r\n\t\t}\r\n\t});\r\n\twindow.addEventListener('doubletap', function(event) {\r\n\t\tif (cell) {\r\n\t\t\tradioOrCheckboxClick(event);\r\n\t\t}\r\n\t});\r\n\tvar preventDefaultException = /^(INPUT|TEXTAREA|BUTTON|SELECT)$/;\r\n\twindow.addEventListener('tap', function(event) {\r\n\t\tif (!cell) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tvar isExpand = false;\r\n\t\tvar classList = cell.classList;\r\n\t\tvar ul = cell.parentNode;\r\n\t\tif (ul && ul.classList.contains(CLASS_RADIO_VIEW)) {\r\n\t\t\tif (classList.contains(CLASS_SELECTED)) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tvar selected = ul.querySelector('li' + SELECTOR_SELECTED);\r\n\t\t\tif (selected) {\r\n\t\t\t\tselected.classList.remove(CLASS_SELECTED);\r\n\t\t\t}\r\n\t\t\tclassList.add(CLASS_SELECTED);\r\n\t\t\t$.trigger(cell, 'selected', {\r\n\t\t\t\tel: cell\r\n\t\t\t});\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tif (classList.contains('mui-collapse') && !cell.parentNode.classList.contains('mui-unfold')) {\r\n\t\t\tif (!preventDefaultException.test(event.target.tagName)) {\r\n\t\t\t\tevent.detail.gesture.preventDefault();\r\n\t\t\t}\r\n\r\n\t\t\tif (!classList.contains(CLASS_ACTIVE)) { //展开时,需要收缩其他同类\r\n\t\t\t\tvar collapse = cell.parentNode.querySelector('.mui-collapse.mui-active');\r\n\t\t\t\tif (collapse) {\r\n\t\t\t\t\tcollapse.classList.remove(CLASS_ACTIVE);\r\n\t\t\t\t}\r\n\t\t\t\tisExpand = true;\r\n\t\t\t}\r\n\t\t\tclassList.toggle(CLASS_ACTIVE);\r\n\t\t\tif (isExpand) {\r\n\t\t\t\t//触发展开事件\r\n\t\t\t\t$.trigger(cell, 'expand');\r\n\r\n\t\t\t\t//scroll\r\n\t\t\t\t//暂不滚动\r\n\t\t\t\t// var offsetTop = $.offset(cell).top;\r\n\t\t\t\t// var scrollTop = document.body.scrollTop;\r\n\t\t\t\t// var height = window.innerHeight;\r\n\t\t\t\t// var offsetHeight = cell.offsetHeight;\r\n\t\t\t\t// var cellHeight = (offsetTop - scrollTop + offsetHeight);\r\n\t\t\t\t// if (offsetHeight > height) {\r\n\t\t\t\t// \t$.scrollTo(offsetTop, 300);\r\n\t\t\t\t// } else if (cellHeight > height) {\r\n\t\t\t\t// \t$.scrollTo(cellHeight - height + scrollTop, 300);\r\n\t\t\t\t// }\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tradioOrCheckboxClick(event);\r\n\t\t}\r\n\t});\r\n})(mui, window, document);\r\n(function($, window) {\r\n\t/**\r\n\t * 警告消息框\r\n\t */\r\n\t$.alert = function(message, title, btnValue, callback) {\r\n\t\tif ($.os.plus) {\r\n\t\t\tif (typeof message === 'undefined') {\r\n\t\t\t\treturn;\r\n\t\t\t} else {\r\n\t\t\t\tif (typeof title === 'function') {\r\n\t\t\t\t\tcallback = title;\r\n\t\t\t\t\ttitle = null;\r\n\t\t\t\t\tbtnValue = '确定';\r\n\t\t\t\t} else if (typeof btnValue === 'function') {\r\n\t\t\t\t\tcallback = btnValue;\r\n\t\t\t\t\tbtnValue = null;\r\n\t\t\t\t}\r\n\t\t\t\t$.plusReady(function() {\r\n\t\t\t\t\tplus.nativeUI.alert(message, callback, title, btnValue);\r\n\t\t\t\t});\r\n\t\t\t}\r\n\r\n\t\t} else {\r\n\t\t\t//TODO H5版本\r\n\t\t\twindow.alert(message);\r\n\t\t}\r\n\t};\r\n\r\n})(mui, window);\r\n(function($, window) {\r\n\t/**\r\n\t * 确认消息框\r\n\t */\r\n\t$.confirm = function(message, title, btnArray, callback) {\r\n\t\tif ($.os.plus) {\r\n\t\t\tif (typeof message === 'undefined') {\r\n\t\t\t\treturn;\r\n\t\t\t} else {\r\n\t\t\t\tif (typeof title === 'function') {\r\n\t\t\t\t\tcallback = title;\r\n\t\t\t\t\ttitle = null;\r\n\t\t\t\t\tbtnArray = null;\r\n\t\t\t\t} else if (typeof btnArray === 'function') {\r\n\t\t\t\t\tcallback = btnArray;\r\n\t\t\t\t\tbtnArray = null;\r\n\t\t\t\t}\r\n\t\t\t\t$.plusReady(function() {\r\n\t\t\t\t\tplus.nativeUI.confirm(message, callback, title, btnArray);\r\n\t\t\t\t});\r\n\t\t\t}\r\n\r\n\t\t} else {\r\n\t\t\t//H5版本，0为确认，1为取消\r\n\t\t\tif (window.confirm(message)) {\r\n\t\t\t\tcallback({\r\n\t\t\t\t\tindex: 0\r\n\t\t\t\t});\r\n\t\t\t} else {\r\n\t\t\t\tcallback({\r\n\t\t\t\t\tindex: 1\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\r\n})(mui, window);\r\n(function($, window) {\r\n\t/**\r\n\t * 输入对话框\r\n\t */\r\n\t$.prompt = function(text, defaultText, title, btnArray, callback) {\r\n\t\tif ($.os.plus) {\r\n\t\t\tif (typeof message === 'undefined') {\r\n\t\t\t\treturn;\r\n\t\t\t} else {\r\n\r\n\t\t\t\tif (typeof defaultText === 'function') {\r\n\t\t\t\t\tcallback = defaultText;\r\n\t\t\t\t\tdefaultText = null;\r\n\t\t\t\t\ttitle = null;\r\n\t\t\t\t\tbtnArray = null;\r\n\t\t\t\t} else if (typeof title === 'function') {\r\n\t\t\t\t\tcallback = title;\r\n\t\t\t\t\ttitle = null;\r\n\t\t\t\t\tbtnArray = null;\r\n\t\t\t\t} else if (typeof btnArray === 'function') {\r\n\t\t\t\t\tcallback = btnArray;\r\n\t\t\t\t\tbtnArray = null;\r\n\t\t\t\t}\r\n\t\t\t\t$.plusReady(function() {\r\n\t\t\t\t\tplus.nativeUI.prompt(text, callback, title, defaultText, btnArray);\r\n\t\t\t\t});\r\n\t\t\t}\r\n\r\n\t\t} else {\r\n\t\t\t//H5版本(确认index为0，取消index为1)\r\n\t\t\tvar result = window.prompt(text);\r\n\t\t\tif (result) {\r\n\t\t\t\tcallback({\r\n\t\t\t\t\tindex: 0,\r\n\t\t\t\t\tvalue: result\r\n\t\t\t\t});\r\n\t\t\t} else {\r\n\t\t\t\tcallback({\r\n\t\t\t\t\tindex: 1,\r\n\t\t\t\t\tvalue: ''\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\r\n})(mui, window);\r\n(function($, window) {\r\n\tvar CLASS_ACTIVE = 'mui-active';\r\n\t/**\r\n\t * 自动消失提示框\r\n\t */\r\n\t$.toast = function(message,options) {\r\n\t\tvar durations = {\r\n\t\t    'long': 3500,\r\n\t\t    'short': 2000\r\n\t\t};\r\n\r\n\t\t//计算显示时间\r\n\t\t options = $.extend({\r\n\t        duration: 'short'\r\n\t    }, options || {});\r\n\r\n\r\n\t\tif ($.os.plus && options.type !== 'div') {\r\n\t\t\t//默认显示在底部；\r\n\t\t\t$.plusReady(function() {\r\n\t\t\t\tplus.nativeUI.toast(message, {\r\n\t\t\t\t\tverticalAlign: 'bottom',\r\n\t\t\t\t\tduration:options.duration\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\tif (typeof options.duration === 'number') {\r\n\t\t        duration = options.duration>0 ? options.duration:durations['short'];\r\n\t\t    } else {\r\n\t\t        duration = durations[options.duration];\r\n\t\t    }\r\n\t\t    if (!duration) {\r\n\t\t        duration = durations['short'];\r\n\t\t    }\r\n\t\t\tvar toast = document.createElement('div');\r\n\t\t\ttoast.classList.add('mui-toast-container');\r\n\t\t\ttoast.innerHTML = '<div class=\"' + 'mui-toast-message' + '\">' + message + '</div>';\r\n\t\t\ttoast.addEventListener('webkitTransitionEnd', function() {\r\n\t\t\t\tif (!toast.classList.contains(CLASS_ACTIVE)) {\r\n\t\t\t\t\ttoast.parentNode.removeChild(toast);\r\n\t\t\t\t\ttoast = null;\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\t//点击则自动消失\r\n\t\t\ttoast.addEventListener('click', function() {\r\n\t\t        toast.parentNode.removeChild(toast);\r\n\t\t        toast = null;\r\n\t\t    });\r\n\t\t\tdocument.body.appendChild(toast);\r\n\t\t\ttoast.offsetHeight;\r\n\t\t\ttoast.classList.add(CLASS_ACTIVE);\r\n\t\t\tsetTimeout(function() {\r\n\t\t\t\ttoast && toast.classList.remove(CLASS_ACTIVE);\r\n\t\t\t}, duration);\r\n\t\t\t\r\n\t\t\treturn {\r\n\t\t        isVisible: function() {return !!toast;}\r\n\t\t    }\r\n\t\t}   \r\n\t};\r\n\r\n})(mui, window);\r\n/**\r\n * Popup(alert,confirm,prompt)  \r\n * @param {Object} $\r\n * @param {Object} window\r\n * @param {Object} document\r\n */\r\n(function($, window, document) {\r\n    var CLASS_POPUP = 'mui-popup';\r\n    var CLASS_POPUP_BACKDROP = 'mui-popup-backdrop';\r\n    var CLASS_POPUP_IN = 'mui-popup-in';\r\n    var CLASS_POPUP_OUT = 'mui-popup-out';\r\n    var CLASS_POPUP_INNER = 'mui-popup-inner';\r\n    var CLASS_POPUP_TITLE = 'mui-popup-title';\r\n    var CLASS_POPUP_TEXT = 'mui-popup-text';\r\n    var CLASS_POPUP_INPUT = 'mui-popup-input';\r\n    var CLASS_POPUP_BUTTONS = 'mui-popup-buttons';\r\n    var CLASS_POPUP_BUTTON = 'mui-popup-button';\r\n    var CLASS_POPUP_BUTTON_BOLD = 'mui-popup-button-bold';\r\n    var CLASS_POPUP_BACKDROP = 'mui-popup-backdrop';\r\n    var CLASS_ACTIVE = 'mui-active';\r\n\r\n    var popupStack = [];\r\n    var backdrop = (function() {\r\n        var element = document.createElement('div');\r\n        element.classList.add(CLASS_POPUP_BACKDROP);\r\n        element.addEventListener($.EVENT_MOVE, $.preventDefault);\r\n        element.addEventListener('webkitTransitionEnd', function() {\r\n            if (!this.classList.contains(CLASS_ACTIVE)) {\r\n                element.parentNode && element.parentNode.removeChild(element);\r\n            }\r\n        });\r\n        return element;\r\n    }());\r\n\r\n    var createInput = function(placeholder) {\r\n        return '<div class=\"' + CLASS_POPUP_INPUT + '\"><input type=\"text\" autofocus placeholder=\"' + (placeholder || '') + '\"/></div>';\r\n    };\r\n    var createInner = function(message, title, extra) {\r\n        return '<div class=\"' + CLASS_POPUP_INNER + '\"><div class=\"' + CLASS_POPUP_TITLE + '\">' + title + '</div><div class=\"' + CLASS_POPUP_TEXT + '\">' + message.replace(/\\r\\n/g, \"<br/>\").replace(/\\n/g, \"<br/>\") + '</div>' + (extra || '') + '</div>';\r\n    };\r\n    var createButtons = function(btnArray) {\r\n        var length = btnArray.length;\r\n        var btns = [];\r\n        for (var i = 0; i < length; i++) {\r\n            btns.push('<span class=\"' + CLASS_POPUP_BUTTON + (i === length - 1 ? (' ' + CLASS_POPUP_BUTTON_BOLD) : '') + '\">' + btnArray[i] + '</span>');\r\n        }\r\n        return '<div class=\"' + CLASS_POPUP_BUTTONS + '\">' + btns.join('') + '</div>';\r\n    };\r\n\r\n    var createPopup = function(html, callback) {\r\n        var popupElement = document.createElement('div');\r\n        popupElement.className = CLASS_POPUP;\r\n        popupElement.innerHTML = html;\r\n        var removePopupElement = function() {\r\n            popupElement.parentNode && popupElement.parentNode.removeChild(popupElement);\r\n            popupElement = null;\r\n        };\r\n        popupElement.addEventListener($.EVENT_MOVE, $.preventDefault);\r\n        popupElement.addEventListener('webkitTransitionEnd', function(e) {\r\n            if (popupElement && e.target === popupElement && popupElement.classList.contains(CLASS_POPUP_OUT)) {\r\n                removePopupElement();\r\n            }\r\n        });\r\n        popupElement.style.display = 'block';\r\n        document.body.appendChild(popupElement);\r\n        popupElement.offsetHeight;\r\n        popupElement.classList.add(CLASS_POPUP_IN);\r\n\r\n        if (!backdrop.classList.contains(CLASS_ACTIVE)) {\r\n            backdrop.style.display = 'block';\r\n            document.body.appendChild(backdrop);\r\n            backdrop.offsetHeight;\r\n            backdrop.classList.add(CLASS_ACTIVE);\r\n        }\r\n        var btns = $.qsa('.' + CLASS_POPUP_BUTTON, popupElement);\r\n        var input = popupElement.querySelector('.' + CLASS_POPUP_INPUT + ' input');\r\n        var popup = {\r\n            element: popupElement,\r\n            close: function(index, animate) {\r\n                if (popupElement) {\r\n                    var result = callback && callback({\r\n                        index: index || 0,\r\n                        value: input && input.value || ''\r\n                    });\r\n                    if (result === false) { //返回false则不关闭当前popup\r\n                        return;\r\n                    }\r\n                    if (animate !== false) {\r\n                        popupElement.classList.remove(CLASS_POPUP_IN);\r\n                        popupElement.classList.add(CLASS_POPUP_OUT);\r\n                    } else {\r\n                        removePopupElement();\r\n                    }\r\n                    popupStack.pop();\r\n                    //如果还有其他popup，则不remove backdrop\r\n                    if (popupStack.length) {\r\n                        popupStack[popupStack.length - 1]['show'](animate);\r\n                    } else {\r\n                        backdrop.classList.remove(CLASS_ACTIVE);\r\n                    }\r\n                }\r\n            }\r\n        };\r\n        var handleEvent = function(e) {\r\n            popup.close(btns.indexOf(e.target));\r\n        };\r\n        $(popupElement).on('tap', '.' + CLASS_POPUP_BUTTON, handleEvent);\r\n        if (popupStack.length) {\r\n            popupStack[popupStack.length - 1]['hide']();\r\n        }\r\n        popupStack.push({\r\n            close: popup.close,\r\n            show: function(animate) {\r\n                popupElement.style.display = 'block';\r\n                popupElement.offsetHeight;\r\n                popupElement.classList.add(CLASS_POPUP_IN);\r\n            },\r\n            hide: function() {\r\n                popupElement.style.display = 'none';\r\n                popupElement.classList.remove(CLASS_POPUP_IN);\r\n            }\r\n        });\r\n        return popup;\r\n    };\r\n    var createAlert = function(message, title, btnValue, callback, type) {\r\n        if (typeof message === 'undefined') {\r\n            return;\r\n        } else {\r\n            if (typeof title === 'function') {\r\n                callback = title;\r\n                type = btnValue;\r\n                title = null;\r\n                btnValue = null;\r\n            } else if (typeof btnValue === 'function') {\r\n                type = callback;\r\n                callback = btnValue;\r\n                btnValue = null;\r\n            }\r\n        }\r\n        if (!$.os.plus || type === 'div') {\r\n            return createPopup(createInner(message, title || '提示') + createButtons([btnValue || '确定']), callback);\r\n        }\r\n        return plus.nativeUI.alert(message, callback, title || '提示', btnValue || '确定');\r\n    };\r\n    var createConfirm = function(message, title, btnArray, callback, type) {\r\n        if (typeof message === 'undefined') {\r\n            return;\r\n        } else {\r\n            if (typeof title === 'function') {\r\n                callback = title;\r\n                type = btnArray;\r\n                title = null;\r\n                btnArray = null;\r\n            } else if (typeof btnArray === 'function') {\r\n                type = callback;\r\n                callback = btnArray;\r\n                btnArray = null;\r\n            }\r\n        }\r\n        if (!$.os.plus || type === 'div') {\r\n            return createPopup(createInner(message, title || '提示') + createButtons(btnArray || ['取消', '确认']), callback);\r\n        }\r\n        return plus.nativeUI.confirm(message, callback, title, btnArray || ['取消', '确认']);\r\n    };\r\n    var createPrompt = function(message, placeholder, title, btnArray, callback, type) {\r\n        if (typeof message === 'undefined') {\r\n            return;\r\n        } else {\r\n            if (typeof placeholder === 'function') {\r\n                callback = placeholder;\r\n                type = title;\r\n                placeholder = null;\r\n                title = null;\r\n                btnArray = null;\r\n            } else if (typeof title === 'function') {\r\n                callback = title;\r\n                type = btnArray;\r\n                title = null;\r\n                btnArray = null;\r\n            } else if (typeof btnArray === 'function') {\r\n                type = callback;\r\n                callback = btnArray;\r\n                btnArray = null;\r\n            }\r\n        }\r\n        if (!$.os.plus || type === 'div') {\r\n            return createPopup(createInner(message, title || '提示', createInput(placeholder)) + createButtons(btnArray || ['取消', '确认']), callback);\r\n        }\r\n        return plus.nativeUI.prompt(message, callback, title || '提示', placeholder, btnArray || ['取消', '确认']);\r\n    };\r\n    var closePopup = function() {\r\n        if (popupStack.length) {\r\n            popupStack[popupStack.length - 1]['close']();\r\n            return true;\r\n        } else {\r\n            return false;\r\n        }\r\n    };\r\n    var closePopups = function() {\r\n        while (popupStack.length) {\r\n            popupStack[popupStack.length - 1]['close']();\r\n        }\r\n    };\r\n\r\n    $.closePopup = closePopup;\r\n    $.closePopups = closePopups;\r\n    $.alert = createAlert;\r\n    $.confirm = createConfirm;\r\n    $.prompt = createPrompt;\r\n})(mui, window, document);\r\n(function($, document) {\r\n\tvar CLASS_PROGRESSBAR = 'mui-progressbar';\r\n\tvar CLASS_PROGRESSBAR_IN = 'mui-progressbar-in';\r\n\tvar CLASS_PROGRESSBAR_OUT = 'mui-progressbar-out';\r\n\tvar CLASS_PROGRESSBAR_INFINITE = 'mui-progressbar-infinite';\r\n\r\n\tvar SELECTOR_PROGRESSBAR = '.mui-progressbar';\r\n\r\n\tvar _findProgressbar = function(container) {\r\n\t\tcontainer = $(container || 'body');\r\n\t\tif (container.length === 0) return;\r\n\t\tcontainer = container[0];\r\n\t\tif (container.classList.contains(CLASS_PROGRESSBAR)) {\r\n\t\t\treturn container;\r\n\t\t}\r\n\t\tvar progressbars = container.querySelectorAll(SELECTOR_PROGRESSBAR);\r\n\t\tif (progressbars) {\r\n\t\t\tfor (var i = 0, len = progressbars.length; i < len; i++) {\r\n\t\t\t\tvar progressbar = progressbars[i];\r\n\t\t\t\tif (progressbar.parentNode === container) {\r\n\t\t\t\t\treturn progressbar;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\t/**\r\n\t * 创建并显示进度条 \r\n\t * @param {Object} container  可选，默认body，支持selector,DOM Node,mui wrapper\r\n\t * @param {Object} progress 可选，undefined表示循环，数字表示具体进度\r\n\t * @param {Object} color 可选，指定颜色样式(目前暂未提供实际样式，可暂时不暴露此参数)\r\n\t */\r\n\tvar showProgressbar = function(container, progress, color) {\r\n\t\tif (typeof container === 'number') {\r\n\t\t\tcolor = progress;\r\n\t\t\tprogress = container;\r\n\t\t\tcontainer = 'body';\r\n\t\t}\r\n\t\tcontainer = $(container || 'body');\r\n\t\tif (container.length === 0) return;\r\n\t\tcontainer = container[0];\r\n\t\tvar progressbar;\r\n\t\tif (container.classList.contains(CLASS_PROGRESSBAR)) {\r\n\t\t\tprogressbar = container;\r\n\t\t} else {\r\n\t\t\tvar progressbars = container.querySelectorAll(SELECTOR_PROGRESSBAR + ':not(.' + CLASS_PROGRESSBAR_OUT + ')');\r\n\t\t\tif (progressbars) {\r\n\t\t\t\tfor (var i = 0, len = progressbars.length; i < len; i++) {\r\n\t\t\t\t\tvar _progressbar = progressbars[i];\r\n\t\t\t\t\tif (_progressbar.parentNode === container) {\r\n\t\t\t\t\t\tprogressbar = _progressbar;\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif (!progressbar) {\r\n\t\t\t\tprogressbar = document.createElement('span');\r\n\t\t\t\tprogressbar.className = CLASS_PROGRESSBAR + ' ' + CLASS_PROGRESSBAR_IN + (typeof progress !== 'undefined' ? '' : (' ' + CLASS_PROGRESSBAR_INFINITE)) + (color ? (' ' + CLASS_PROGRESSBAR + '-' + color) : '');\r\n\t\t\t\tif (typeof progress !== 'undefined') {\r\n\t\t\t\t\tprogressbar.innerHTML = '<span></span>';\r\n\t\t\t\t}\r\n\t\t\t\tcontainer.appendChild(progressbar);\r\n\t\t\t} else {\r\n\t\t\t\tprogressbar.classList.add(CLASS_PROGRESSBAR_IN);\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (progress) setProgressbar(container, progress);\r\n\t\treturn progressbar;\r\n\t};\r\n\t/**\r\n\t * 关闭进度条 \r\n\t * @param {Object} container 可选，默认body，支持selector,DOM Node,mui wrapper\r\n\t */\r\n\tvar hideProgressbar = function(container) {\r\n\t\tvar progressbar = _findProgressbar(container);\r\n\t\tif (!progressbar) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tvar classList = progressbar.classList;\r\n\t\tif (!classList.contains(CLASS_PROGRESSBAR_IN) || classList.contains(CLASS_PROGRESSBAR_OUT)) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tclassList.remove(CLASS_PROGRESSBAR_IN);\r\n\t\tclassList.add(CLASS_PROGRESSBAR_OUT);\r\n\t\tprogressbar.addEventListener('webkitAnimationEnd', function() {\r\n\t\t\tprogressbar.parentNode && progressbar.parentNode.removeChild(progressbar);\r\n\t\t\tprogressbar = null;\r\n\t\t});\r\n\t\treturn;\r\n\t};\r\n\t/**\r\n\t * 设置指定进度条进度 \r\n\t * @param {Object} container  可选，默认body，支持selector,DOM Node,mui wrapper\r\n\t * @param {Object} progress 可选，默认0 取值范围[0-100]\r\n\t * @param {Object} speed 进度条动画时间\r\n\t */\r\n\tvar setProgressbar = function(container, progress, speed) {\r\n\t\tif (typeof container === 'number') {\r\n\t\t\tspeed = progress;\r\n\t\t\tprogress = container;\r\n\t\t\tcontainer = false;\r\n\t\t}\r\n\t\tvar progressbar = _findProgressbar(container);\r\n\t\tif (!progressbar || progressbar.classList.contains(CLASS_PROGRESSBAR_INFINITE)) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tif (progress) progress = Math.min(Math.max(progress, 0), 100);\r\n\t\tprogressbar.offsetHeight;\r\n\t\tvar span = progressbar.querySelector('span');\r\n\t\tif (span) {\r\n\t\t\tvar style = span.style;\r\n\t\t\tstyle.webkitTransform = 'translate3d(' + (-100 + progress) + '%,0,0)';\r\n\t\t\tif (typeof speed !== 'undefined') {\r\n\t\t\t\tstyle.webkitTransitionDuration = speed + 'ms';\r\n\t\t\t} else {\r\n\t\t\t\tstyle.webkitTransitionDuration = '';\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn progressbar;\r\n\t};\r\n\t$.fn.progressbar = function(options) {\r\n\t\tvar progressbarApis = [];\r\n\t\toptions = options || {};\r\n\t\tthis.each(function() {\r\n\t\t\tvar self = this;\r\n\t\t\tvar progressbarApi = self.mui_plugin_progressbar;\r\n\t\t\tif (!progressbarApi) {\r\n\t\t\t\tself.mui_plugin_progressbar = progressbarApi = {\r\n\t\t\t\t\toptions: options,\r\n\t\t\t\t\tsetOptions: function(options) {\r\n\t\t\t\t\t\tthis.options = options;\r\n\t\t\t\t\t},\r\n\t\t\t\t\tshow: function() {\r\n\t\t\t\t\t\treturn showProgressbar(self, this.options.progress, this.options.color);\r\n\t\t\t\t\t},\r\n\t\t\t\t\tsetProgress: function(progress) {\r\n\t\t\t\t\t\treturn setProgressbar(self, progress);\r\n\t\t\t\t\t},\r\n\t\t\t\t\thide: function() {\r\n\t\t\t\t\t\treturn hideProgressbar(self);\r\n\t\t\t\t\t}\r\n\t\t\t\t};\r\n\t\t\t} else if (options) {\r\n\t\t\t\tprogressbarApi.setOptions(options);\r\n\t\t\t}\r\n\t\t\tprogressbarApis.push(progressbarApi);\r\n\t\t});\r\n\t\treturn progressbarApis.length === 1 ? progressbarApis[0] : progressbarApis;\r\n\t};\r\n\t//\t$.setProgressbar = setProgressbar;\r\n\t//\t$.showProgressbar = showProgressbar;\r\n\t//\t$.hideProgressbar = hideProgressbar;\r\n})(mui, document);\r\n/**\r\n * Input(TODO resize)\r\n * @param {type} $\r\n * @param {type} window\r\n * @param {type} document\r\n * @returns {undefined}\r\n */\r\n(function($, window, document) {\r\n\tvar CLASS_ICON = 'mui-icon';\r\n\tvar CLASS_ICON_CLEAR = 'mui-icon-clear';\r\n\tvar CLASS_ICON_SPEECH = 'mui-icon-speech';\r\n\tvar CLASS_ICON_SEARCH = 'mui-icon-search';\r\n\tvar CLASS_ICON_PASSWORD = 'mui-icon-eye';\r\n\tvar CLASS_INPUT_ROW = 'mui-input-row';\r\n\tvar CLASS_PLACEHOLDER = 'mui-placeholder';\r\n\tvar CLASS_TOOLTIP = 'mui-tooltip';\r\n\tvar CLASS_HIDDEN = 'mui-hidden';\r\n\tvar CLASS_FOCUSIN = 'mui-focusin';\r\n\tvar SELECTOR_ICON_CLOSE = '.' + CLASS_ICON_CLEAR;\r\n\tvar SELECTOR_ICON_SPEECH = '.' + CLASS_ICON_SPEECH;\r\n\tvar SELECTOR_ICON_PASSWORD = '.' + CLASS_ICON_PASSWORD;\r\n\tvar SELECTOR_PLACEHOLDER = '.' + CLASS_PLACEHOLDER;\r\n\tvar SELECTOR_TOOLTIP = '.' + CLASS_TOOLTIP;\r\n\r\n\tvar findRow = function(target) {\r\n\t\tfor (; target && target !== document; target = target.parentNode) {\r\n\t\t\tif (target.classList && target.classList.contains(CLASS_INPUT_ROW)) {\r\n\t\t\t\treturn target;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn null;\r\n\t};\r\n\tvar Input = function(element, options) {\r\n\t\tthis.element = element;\r\n\t\tthis.options = options || {\r\n\t\t\tactions: 'clear'\r\n\t\t};\r\n\t\tif (~this.options.actions.indexOf('slider')) { //slider\r\n\t\t\tthis.sliderActionClass = CLASS_TOOLTIP + ' ' + CLASS_HIDDEN;\r\n\t\t\tthis.sliderActionSelector = SELECTOR_TOOLTIP;\r\n\t\t} else { //clear,speech,search\r\n\t\t\tif (~this.options.actions.indexOf('clear')) {\r\n\t\t\t\tthis.clearActionClass = CLASS_ICON + ' ' + CLASS_ICON_CLEAR + ' ' + CLASS_HIDDEN;\r\n\t\t\t\tthis.clearActionSelector = SELECTOR_ICON_CLOSE;\r\n\t\t\t}\r\n\t\t\tif (~this.options.actions.indexOf('speech')) { //only for 5+\r\n\t\t\t\tthis.speechActionClass = CLASS_ICON + ' ' + CLASS_ICON_SPEECH;\r\n\t\t\t\tthis.speechActionSelector = SELECTOR_ICON_SPEECH;\r\n\t\t\t}\r\n\t\t\tif (~this.options.actions.indexOf('search')) {\r\n\t\t\t\tthis.searchActionClass = CLASS_PLACEHOLDER;\r\n\t\t\t\tthis.searchActionSelector = SELECTOR_PLACEHOLDER;\r\n\t\t\t}\r\n\t\t\tif (~this.options.actions.indexOf('password')) {\r\n\t\t\t\tthis.passwordActionClass = CLASS_ICON + ' ' + CLASS_ICON_PASSWORD;\r\n\t\t\t\tthis.passwordActionSelector = SELECTOR_ICON_PASSWORD;\r\n\t\t\t}\r\n\t\t}\r\n\t\tthis.init();\r\n\t};\r\n\tInput.prototype.init = function() {\r\n\t\tthis.initAction();\r\n\t\tthis.initElementEvent();\r\n\t};\r\n\tInput.prototype.initAction = function() {\r\n\t\tvar self = this;\r\n\r\n\t\tvar row = self.element.parentNode;\r\n\t\tif (row) {\r\n\t\t\tif (self.sliderActionClass) {\r\n\t\t\t\tself.sliderAction = self.createAction(row, self.sliderActionClass, self.sliderActionSelector);\r\n\t\t\t} else {\r\n\t\t\t\tif (self.searchActionClass) {\r\n\t\t\t\t\tself.searchAction = self.createAction(row, self.searchActionClass, self.searchActionSelector);\r\n\t\t\t\t\tself.searchAction.addEventListener('tap', function(e) {\r\n\t\t\t\t\t\t$.focus(self.element);\r\n\t\t\t\t\t\te.stopPropagation();\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t\tif (self.speechActionClass) {\r\n\t\t\t\t\tself.speechAction = self.createAction(row, self.speechActionClass, self.speechActionSelector);\r\n\t\t\t\t\tself.speechAction.addEventListener('click', $.stopPropagation);\r\n\t\t\t\t\tself.speechAction.addEventListener('tap', function(event) {\r\n\t\t\t\t\t\tself.speechActionClick(event);\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t\tif (self.clearActionClass) {\r\n\t\t\t\t\tself.clearAction = self.createAction(row, self.clearActionClass, self.clearActionSelector);\r\n\t\t\t\t\tself.clearAction.addEventListener('tap', function(event) {\r\n\t\t\t\t\t\tself.clearActionClick(event);\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t\tif (self.passwordActionClass) {\r\n\t\t\t\t\tself.passwordAction = self.createAction(row, self.passwordActionClass, self.passwordActionSelector);\r\n\t\t\t\t\tself.passwordAction.addEventListener('tap', function(event) {\r\n\t\t\t\t\t\tself.passwordActionClick(event);\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\tInput.prototype.createAction = function(row, actionClass, actionSelector) {\r\n\t\tvar action = row.querySelector(actionSelector);\r\n\t\tif (!action) {\r\n\t\t\tvar action = document.createElement('span');\r\n\t\t\taction.className = actionClass;\r\n\t\t\tif (actionClass === this.searchActionClass) {\r\n\t\t\t\taction.innerHTML = '<span class=\"' + CLASS_ICON + ' ' + CLASS_ICON_SEARCH + '\"></span><span>' + this.element.getAttribute('placeholder') + '</span>';\r\n\t\t\t\tthis.element.setAttribute('placeholder', '');\r\n\t\t\t\tif (this.element.value.trim()) {\r\n\t\t\t\t\trow.classList.add('mui-active');\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\trow.insertBefore(action, this.element.nextSibling);\r\n\t\t}\r\n\t\treturn action;\r\n\t};\r\n\tInput.prototype.initElementEvent = function() {\r\n\t\tvar element = this.element;\r\n\r\n\t\tif (this.sliderActionClass) {\r\n\t\t\tvar tooltip = this.sliderAction;\r\n\t\t\tvar timer = null;\r\n\t\t\tvar showTip = function() { //每次重新计算是因为控件可能被隐藏，初始化时计算是不正确的\r\n\t\t\t\ttooltip.classList.remove(CLASS_HIDDEN);\r\n\t\t\t\tvar offsetLeft = element.offsetLeft;\r\n\t\t\t\tvar width = element.offsetWidth - 28;\r\n\t\t\t\tvar tooltipWidth = tooltip.offsetWidth;\r\n\t\t\t\tvar distince = Math.abs(element.max - element.min);\r\n\t\t\t\tvar scaleWidth = (width / distince) * Math.abs(element.value - element.min);\r\n\t\t\t\ttooltip.style.left = (14 + offsetLeft + scaleWidth - tooltipWidth / 2) + 'px';\r\n\t\t\t\ttooltip.innerText = element.value;\r\n\t\t\t\tif (timer) {\r\n\t\t\t\t\tclearTimeout(timer);\r\n\t\t\t\t}\r\n\t\t\t\ttimer = setTimeout(function() {\r\n\t\t\t\t\ttooltip.classList.add(CLASS_HIDDEN);\r\n\t\t\t\t}, 1000);\r\n\t\t\t};\r\n\t\t\telement.addEventListener('input', showTip);\r\n\t\t\telement.addEventListener('tap', showTip);\r\n\t\t\telement.addEventListener($.EVENT_MOVE, function(e) {\r\n\t\t\t\te.stopPropagation();\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\tif (this.clearActionClass) {\r\n\t\t\t\tvar action = this.clearAction;\r\n\t\t\t\tif (!action) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\t$.each(['keyup', 'change', 'input', 'focus', 'cut', 'paste'], function(index, type) {\r\n\t\t\t\t\t(function(type) {\r\n\t\t\t\t\t\telement.addEventListener(type, function() {\r\n\t\t\t\t\t\t\taction.classList[element.value.trim() ? 'remove' : 'add'](CLASS_HIDDEN);\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t})(type);\r\n\t\t\t\t});\r\n\t\t\t\telement.addEventListener('blur', function() {\r\n\t\t\t\t\taction.classList.add(CLASS_HIDDEN);\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t\tif (this.searchActionClass) {\r\n\t\t\t\telement.addEventListener('focus', function() {\r\n\t\t\t\t\telement.parentNode.classList.add('mui-active');\r\n\t\t\t\t});\r\n\t\t\t\telement.addEventListener('blur', function() {\r\n\t\t\t\t\tif (!element.value.trim()) {\r\n\t\t\t\t\t\telement.parentNode.classList.remove('mui-active');\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\tInput.prototype.setPlaceholder = function(text) {\r\n\t\tif (this.searchActionClass) {\r\n\t\t\tvar placeholder = this.element.parentNode.querySelector(SELECTOR_PLACEHOLDER);\r\n\t\t\tplaceholder && (placeholder.getElementsByTagName('span')[1].innerText = text);\r\n\t\t} else {\r\n\t\t\tthis.element.setAttribute('placeholder', text);\r\n\t\t}\r\n\t};\r\n\tInput.prototype.passwordActionClick = function(event) {\r\n\t\tif (this.element.type === 'text') {\r\n\t\t\tthis.element.type = 'password';\r\n\t\t} else {\r\n\t\t\tthis.element.type = 'text';\r\n\t\t}\r\n\t\tthis.passwordAction.classList.toggle('mui-active');\r\n\t\tevent.preventDefault();\r\n\t};\r\n\tInput.prototype.clearActionClick = function(event) {\r\n\t\tvar self = this;\r\n\t\tself.element.value = '';\r\n\t\t$.focus(self.element);\r\n\t\tself.clearAction.classList.add(CLASS_HIDDEN);\r\n\t\tevent.preventDefault();\r\n\t};\r\n\tInput.prototype.speechActionClick = function(event) {\r\n\t\tif (window.plus) {\r\n\t\t\tvar self = this;\r\n\t\t\tvar oldValue = self.element.value;\r\n\t\t\tself.element.value = '';\r\n\t\t\tdocument.body.classList.add(CLASS_FOCUSIN);\r\n\t\t\tplus.speech.startRecognize({\r\n\t\t\t\tengine: 'iFly'\r\n\t\t\t}, function(s) {\r\n\t\t\t\tself.element.value += s;\r\n\t\t\t\t$.focus(self.element);\r\n\t\t\t\tplus.speech.stopRecognize();\r\n\t\t\t\t$.trigger(self.element, 'recognized', {\r\n\t\t\t\t\tvalue: self.element.value\r\n\t\t\t\t});\r\n\t\t\t\tif (oldValue !== self.element.value) {\r\n\t\t\t\t\t$.trigger(self.element, 'change');\r\n\t\t\t\t\t$.trigger(self.element, 'input');\r\n\t\t\t\t}\r\n\t\t\t\t// document.body.classList.remove(CLASS_FOCUSIN);\r\n\t\t\t}, function(e) {\r\n\t\t\t\tdocument.body.classList.remove(CLASS_FOCUSIN);\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\talert('only for 5+');\r\n\t\t}\r\n\t\tevent.preventDefault();\r\n\t};\r\n\t$.fn.input = function(options) {\r\n\t\tvar inputApis = [];\r\n\t\tthis.each(function() {\r\n\t\t\tvar inputApi = null;\r\n\t\t\tvar actions = [];\r\n\t\t\tvar row = findRow(this.parentNode);\r\n\t\t\tif (this.type === 'range' && row.classList.contains('mui-input-range')) {\r\n\t\t\t\tactions.push('slider');\r\n\t\t\t} else {\r\n\t\t\t\tvar classList = this.classList;\r\n\t\t\t\tif (classList.contains('mui-input-clear')) {\r\n\t\t\t\t\tactions.push('clear');\r\n\t\t\t\t}\r\n\t\t\t\tif (!($.os.android && $.os.stream) && classList.contains('mui-input-speech')) {\r\n\t\t\t\t\tactions.push('speech');\r\n\t\t\t\t}\r\n\t\t\t\tif (classList.contains('mui-input-password')) {\r\n\t\t\t\t\tactions.push('password');\r\n\t\t\t\t}\r\n\t\t\t\tif (this.type === 'search' && row.classList.contains('mui-search')) {\r\n\t\t\t\t\tactions.push('search');\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tvar id = this.getAttribute('data-input-' + actions[0]);\r\n\t\t\tif (!id) {\r\n\t\t\t\tid = ++$.uuid;\r\n\t\t\t\tinputApi = $.data[id] = new Input(this, {\r\n\t\t\t\t\tactions: actions.join(',')\r\n\t\t\t\t});\r\n\t\t\t\tfor (var i = 0, len = actions.length; i < len; i++) {\r\n\t\t\t\t\tthis.setAttribute('data-input-' + actions[i], id);\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tinputApi = $.data[id];\r\n\t\t\t}\r\n\t\t\tinputApis.push(inputApi);\r\n\t\t});\r\n\t\treturn inputApis.length === 1 ? inputApis[0] : inputApis;\r\n\t};\r\n\t$.ready(function() {\r\n\t\t$('.mui-input-row input').input();\r\n\t});\r\n})(mui, window, document);\r\n(function($, window) {\r\n    var CLASS_ACTIVE = 'mui-active';\r\n    var rgbaRegex = /^rgba\\((\\d{1,3}),\\s*(\\d{1,3}),\\s*(\\d{1,3}),\\s*(\\d*(?:\\.\\d+)?)\\)$/;\r\n    var getColor = function(colorStr) {\r\n        var matches = colorStr.match(rgbaRegex);\r\n        if (matches && matches.length === 5) {\r\n            return [\r\n                matches[1],\r\n                matches[2],\r\n                matches[3],\r\n                matches[4]\r\n            ];\r\n        }\r\n        return [];\r\n    };\r\n    var Transparent = function(element, options) {\r\n        this.element = element;\r\n        this.options = $.extend({\r\n            top: 0, //距离顶部高度(到达该高度即触发)\r\n            offset: 150, //滚动透明距离\r\n            duration: 16, //过渡时间\r\n            scrollby: window//监听滚动距离容器\r\n        }, options || {});\r\n\r\n        this.scrollByElem = this.options.scrollby || window;\r\n        if (!this.scrollByElem) {\r\n            throw new Error(\"监听滚动的元素不存在\");\r\n        }\r\n        this.isNativeScroll = false;\r\n        if (this.scrollByElem === window) {\r\n            this.isNativeScroll = true;\r\n        } else if (!~this.scrollByElem.className.indexOf('mui-scroll-wrapper')) {\r\n            this.isNativeScroll = true;\r\n        }\r\n\r\n        this._style = this.element.style;\r\n        this._bgColor = this._style.backgroundColor;\r\n        var color = getColor(mui.getStyles(this.element, 'backgroundColor'));\r\n        if (color.length) {\r\n            this._R = color[0];\r\n            this._G = color[1];\r\n            this._B = color[2];\r\n            this._A = parseFloat(color[3]);\r\n            this.lastOpacity = this._A;\r\n            this._bufferFn = $.buffer(this.handleScroll, this.options.duration, this);\r\n            this.initEvent();\r\n        } else {\r\n            throw new Error(\"元素背景颜色必须为RGBA\");\r\n        }\r\n    };\r\n\r\n    Transparent.prototype.initEvent = function() {\r\n        this.scrollByElem.addEventListener('scroll', this._bufferFn);\r\n        if (this.isNativeScroll) { //原生scroll\r\n            this.scrollByElem.addEventListener($.EVENT_MOVE, this._bufferFn);\r\n        }\r\n    }\r\n    Transparent.prototype.handleScroll = function(e) {\r\n        var y = window.scrollY;\r\n        if (!this.isNativeScroll && e && e.detail) {\r\n            y = -e.detail.y;\r\n        }\r\n        var opacity = (y - this.options.top) / this.options.offset + this._A;\r\n        opacity = Math.min(Math.max(this._A, opacity), 1);\r\n        this._style.backgroundColor = 'rgba(' + this._R + ',' + this._G + ',' + this._B + ',' + opacity + ')';\r\n        if (opacity > this._A) {\r\n            this.element.classList.add(CLASS_ACTIVE);\r\n        } else {\r\n            this.element.classList.remove(CLASS_ACTIVE);\r\n        }\r\n        if (this.lastOpacity !== opacity) {\r\n            $.trigger(this.element, 'alpha', {\r\n                alpha: opacity\r\n            });\r\n            this.lastOpacity = opacity;\r\n        }\r\n    };\r\n    Transparent.prototype.destory = function() {\r\n        this.scrollByElem.removeEventListener('scroll', this._bufferFn);\r\n        this.scrollByElem.removeEventListener($.EVENT_MOVE, this._bufferFn);\r\n        this.element.style.backgroundColor = this._bgColor;\r\n        this.element.mui_plugin_transparent = null;\r\n    };\r\n    $.fn.transparent = function(options) {\r\n        options = options || {};\r\n        var transparentApis = [];\r\n        this.each(function() {\r\n            var transparentApi = this.mui_plugin_transparent;\r\n            if (!transparentApi) {\r\n                var top = this.getAttribute('data-top');\r\n                var offset = this.getAttribute('data-offset');\r\n                var duration = this.getAttribute('data-duration');\r\n                var scrollby = this.getAttribute('data-scrollby');\r\n                if (top !== null && typeof options.top === 'undefined') {\r\n                    options.top = top;\r\n                }\r\n                if (offset !== null && typeof options.offset === 'undefined') {\r\n                    options.offset = offset;\r\n                }\r\n                if (duration !== null && typeof options.duration === 'undefined') {\r\n                    options.duration = duration;\r\n                }\r\n                if (scrollby !== null && typeof options.scrollby === 'undefined') {\r\n                    options.scrollby = document.querySelector(scrollby) || window;\r\n                }\r\n                transparentApi = this.mui_plugin_transparent = new Transparent(this, options);\r\n            }\r\n            transparentApis.push(transparentApi);\r\n        });\r\n        return transparentApis.length === 1 ? transparentApis[0] : transparentApis;\r\n    };\r\n    $.ready(function() {\r\n        $('.mui-bar-transparent').transparent();\r\n    });\r\n})(mui, window);\r\n/**\r\n * 数字输入框\r\n * varstion 1.0.1\r\n * by Houfeng\r\n * Houfeng@DCloud.io\r\n */\r\n\r\n(function($) {\r\n\r\n    var touchSupport = ('ontouchstart' in document);\r\n    var tapEventName = touchSupport ? 'tap' : 'click';\r\n    var changeEventName = 'change';\r\n    var holderClassName = 'mui-numbox';\r\n    var plusClassSelector = '.mui-btn-numbox-plus,.mui-numbox-btn-plus';\r\n    var minusClassSelector = '.mui-btn-numbox-minus,.mui-numbox-btn-minus';\r\n    var inputClassSelector = '.mui-input-numbox,.mui-numbox-input';\r\n\r\n    var Numbox = $.Numbox = $.Class.extend({\r\n        /**\r\n         * 构造函数\r\n         **/\r\n        init: function(holder, options) {\r\n            var self = this;\r\n            if (!holder) {\r\n                throw \"构造 numbox 时缺少容器元素\";\r\n            }\r\n            self.holder = holder;\r\n            options = options || {};\r\n            options.step = parseInt(options.step || 1);\r\n            self.options = options;\r\n            self.input = $.qsa(inputClassSelector, self.holder)[0];\r\n            self.plus = $.qsa(plusClassSelector, self.holder)[0];\r\n            self.minus = $.qsa(minusClassSelector, self.holder)[0];\r\n            self.checkValue();\r\n            self.initEvent();\r\n        },\r\n        /**\r\n         * 初始化事件绑定\r\n         **/\r\n        initEvent: function() {\r\n            var self = this;\r\n            self.plus.addEventListener(tapEventName, function(event) {\r\n                var val = parseInt(self.input.value) + self.options.step;\r\n                self.input.value = val.toString();\r\n                $.trigger(self.input, changeEventName, null);\r\n            });\r\n            self.minus.addEventListener(tapEventName, function(event) {\r\n                var val = parseInt(self.input.value) - self.options.step;\r\n                self.input.value = val.toString();\r\n                $.trigger(self.input, changeEventName, null);\r\n            });\r\n            self.input.addEventListener(changeEventName, function(event) {\r\n                self.checkValue();\r\n                var val = parseInt(self.input.value);\r\n                //触发顶层容器\r\n                $.trigger(self.holder, changeEventName, {\r\n                    value: val\r\n                });\r\n            });\r\n        },\r\n        /**\r\n         * 获取当前值\r\n         **/\r\n        getValue: function() {\r\n            var self = this;\r\n            return parseInt(self.input.value);\r\n        },\r\n        /**\r\n         * 验证当前值是法合法\r\n         **/\r\n        checkValue: function() {\r\n            var self = this;\r\n            var val = self.input.value;\r\n            if (val == null || val == '' || isNaN(val)) {\r\n                self.input.value = self.options.min || 0;\r\n                self.minus.disabled = self.options.min != null;\r\n            } else {\r\n                var val = parseInt(val);\r\n                if (self.options.max != null && !isNaN(self.options.max) && val >= parseInt(self.options.max)) {\r\n                    val = self.options.max;\r\n                    self.plus.disabled = true;\r\n                } else {\r\n                    self.plus.disabled = false;\r\n                }\r\n                if (self.options.min != null && !isNaN(self.options.min) && val <= parseInt(self.options.min)) {\r\n                    val = self.options.min;\r\n                    self.minus.disabled = true;\r\n                } else {\r\n                    self.minus.disabled = false;\r\n                }\r\n                self.input.value = val;\r\n            }\r\n        },\r\n        /**\r\n         * 更新选项\r\n         **/\r\n        setOption: function(name, value) {\r\n            var self = this;\r\n            self.options[name] = value;\r\n        },\r\n        /**\r\n         * 动态设置新值\r\n         **/\r\n        setValue: function(value) {\r\n            this.input.value = value;\r\n            this.checkValue();\r\n        }\r\n    });\r\n\r\n    $.fn.numbox = function(options) {\r\n        var instanceArray = [];\r\n        //遍历选择的元素\r\n        this.each(function(i, element) {\r\n            if (element.numbox) {\r\n                return;\r\n            }\r\n            if (options) {\r\n                element.numbox = new Numbox(element, options);\r\n            } else {\r\n                var optionsText = element.getAttribute('data-numbox-options');\r\n                var options = optionsText ? JSON.parse(optionsText) : {};\r\n                options.step = element.getAttribute('data-numbox-step') || options.step;\r\n                options.min = element.getAttribute('data-numbox-min') || options.min;\r\n                options.max = element.getAttribute('data-numbox-max') || options.max;\r\n                element.numbox = new Numbox(element, options);\r\n            }\r\n        });\r\n        return this[0] ? this[0].numbox : null;\r\n    }\r\n\r\n    //自动处理 class='mui-locker' 的 dom\r\n    $.ready(function() {\r\n        $('.' + holderClassName).numbox();\r\n    });\r\n\r\n}(mui));\r\n/**\r\n * Button\r\n * @param {type} $\r\n * @param {type} window\r\n * @param {type} document\r\n * @returns {undefined}\r\n */\r\n(function($, window, document) {\r\n    var CLASS_ICON = 'mui-icon';\r\n    var CLASS_DISABLED = 'mui-disabled';\r\n\r\n    var STATE_RESET = 'reset';\r\n    var STATE_LOADING = 'loading';\r\n\r\n    var defaultOptions = {\r\n        loadingText: 'Loading...', //文案\r\n        loadingIcon: 'mui-spinner' + ' ' + 'mui-spinner-white', //图标，可为空\r\n        loadingIconPosition: 'left' //图标所处位置，仅支持left|right\r\n    };\r\n\r\n    var Button = function(element, options) {\r\n        this.element = element;\r\n        this.options = $.extend({}, defaultOptions, options);\r\n        if (!this.options.loadingText) {\r\n            this.options.loadingText = defaultOptions.loadingText;\r\n        }\r\n        if (this.options.loadingIcon === null) {\r\n            this.options.loadingIcon = 'mui-spinner';\r\n            if ($.getStyles(this.element, 'color') === 'rgb(255, 255, 255)') {\r\n                this.options.loadingIcon += ' ' + 'mui-spinner-white';\r\n            }\r\n        }\r\n        this.isInput = this.element.tagName === 'INPUT';\r\n        this.resetHTML = this.isInput ? this.element.value : this.element.innerHTML;\r\n        this.state = '';\r\n    };\r\n    Button.prototype.loading = function() {\r\n        this.setState(STATE_LOADING);\r\n    };\r\n    Button.prototype.reset = function() {\r\n        this.setState(STATE_RESET);\r\n    };\r\n    Button.prototype.setState = function(state) {\r\n        if (this.state === state) {\r\n            return false;\r\n        }\r\n        this.state = state;\r\n        if (state === STATE_RESET) {\r\n            this.element.disabled = false;\r\n            this.element.classList.remove(CLASS_DISABLED);\r\n            this.setHtml(this.resetHTML);\r\n        } else if (state === STATE_LOADING) {\r\n            this.element.disabled = true;\r\n            this.element.classList.add(CLASS_DISABLED);\r\n            var html = this.isInput ? this.options.loadingText : ('<span>' + this.options.loadingText + '</span>');\r\n            if (this.options.loadingIcon && !this.isInput) {\r\n                if (this.options.loadingIconPosition === 'right') {\r\n                    html += '&nbsp;<span class=\"' + this.options.loadingIcon + '\"></span>';\r\n                } else {\r\n                    html = '<span class=\"' + this.options.loadingIcon + '\"></span>&nbsp;' + html;\r\n                }\r\n            }\r\n            this.setHtml(html);\r\n        }\r\n    };\r\n    Button.prototype.setHtml = function(html) {\r\n        if (this.isInput) {\r\n            this.element.value = html;\r\n        } else {\r\n            this.element.innerHTML = html;\r\n        }\r\n    }\r\n    $.fn.button = function(state) {\r\n        var buttonApis = [];\r\n        this.each(function() {\r\n            var buttonApi = this.mui_plugin_button;\r\n            if (!buttonApi) {\r\n                var loadingText = this.getAttribute('data-loading-text');\r\n                var loadingIcon = this.getAttribute('data-loading-icon');\r\n                var loadingIconPosition = this.getAttribute('data-loading-icon-position');\r\n                this.mui_plugin_button = buttonApi = new Button(this, {\r\n                    loadingText: loadingText,\r\n                    loadingIcon: loadingIcon,\r\n                    loadingIconPosition: loadingIconPosition\r\n                });\r\n            }\r\n            if (state === STATE_LOADING || state === STATE_RESET) {\r\n                buttonApi.setState(state);\r\n            }\r\n            buttonApis.push(buttonApi);\r\n        });\r\n        return buttonApis.length === 1 ? buttonApis[0] : buttonApis;\r\n    };\r\n})(mui, window, document);","\r\nimport Scroll from \"./index.vue\";\r\n\r\nlet plug = {}\r\n\r\nplug.install = function (Vue, options){\r\n    \r\n    Vue.component(Scroll.name, Scroll)\r\n}\r\n\r\nexport default plug","import Vue from 'vue'\r\nimport VueRouter from 'vue-router'\r\n\r\nVue.use(VueRouter)\r\n\r\n\tconst routes = [\r\n\t{\r\n\t\tpath: '/',\r\n\t\tname: 'Login',\r\n\t\tcomponent: () => import('@/views/Login.vue'),\r\n\t\tmeta: {\r\n\t\t\ttitle: '登录',\r\n\t\t\tback: 1,\r\n\t\t\tfull: true,\r\n\t\t}\r\n\t},\r\n\t{\r\n\t\tpath: '/nav',\r\n\t\tname: 'Nav',\r\n\t\tcomponent: () => import('@/views/Nav.vue'),\r\n\t\tmeta: {\r\n\t\t\ttitle: '导航',\r\n\t\t\tback: 1,\r\n\t\t}\r\n\t},\r\n\t{\r\n\t\tpath: '/home',\r\n\t\tname: 'Home',\r\n\t\tcomponent: () => import('@/views/Home.vue'),\r\n\t\tmeta: {\r\n\t\t\ttitle: '首页',\r\n\t\t\tback: 2,\r\n\t\t\tfull: true,\r\n\t\t}\r\n\t},\r\n\t{\r\n\t\tpath: '/sell',\r\n\t\tname: 'Sell',\r\n\t\tcomponent: () => import('@/views/Sell.vue'),\r\n\t\tmeta: {\r\n\t\t\ttitle: '出售音豆',\r\n\t\t\tback: 3,\r\n\t\t}\r\n\t},\r\n\t{\r\n\t\tpath: '/buy',\r\n\t\tname: 'Buy',\r\n\t\tcomponent: () => import('@/views/Buy.vue'),\r\n\t\tmeta: {\r\n\t\t\ttitle: '购买音豆',\r\n\t\t\tback: 3,\r\n\t\t}\r\n\t},\r\n\t{\r\n\t\tpath: '/changePass',\r\n\t\tname: 'ChangePass',\r\n\t\tcomponent: () => import('@/views/ChangePass.vue'),\r\n\t\tmeta: {\r\n\t\t\ttitle: '联系我们',\r\n\t\t\tback: 4,\r\n\t\t}\r\n\t},\r\n\t{\r\n\t\tpath: '/order',\r\n\t\tname: 'Order',\r\n\t\tcomponent: () => import('@/views/Order.vue'),\r\n\t\tmeta: {\r\n\t\t\ttitle: '订单记录',\r\n\t\t\tback: 4,\r\n\t\t\tright: 1,\r\n\t\t}\r\n\t},\r\n\t{\r\n\t\tpath: '/set',\r\n\t\tname: 'Set',\r\n\t\tcomponent: () => import('@/views/Set.vue'),\r\n\t\tmeta: {\r\n\t\t\ttitle: '设置',\r\n\t\t\tback: 3\r\n\t\t}\r\n\t},\r\n\t{\r\n\t\tpath: '/bind',\r\n\t\tname: 'Bind',\r\n\t\tcomponent: () => import('@/views/Bind.vue'),\r\n\t\tmeta: {\r\n\t\t\ttitle: '绑定帐户信息',\r\n\t\t\tback: 4\r\n\t\t}\r\n\t},\r\n\t{\r\n\t\tpath: '/rule',\r\n\t\tname: 'Rule',\r\n\t\tcomponent: () => import('@/views/Rule.vue'),\r\n\t\tmeta: {\r\n\t\t\ttitle: '交易规则',\r\n\t\t\tback: 4\r\n\t\t}\r\n\t},\r\n\t{\r\n\t\tpath: '/order_info',\r\n\t\tname: 'OrderInfo',\r\n\t\tcomponent: () => import('@/views/OrderInfo.vue'),\r\n\t\tmeta: {\r\n\t\t\ttitle: '订单详情',\r\n\t\t\tback: 5\r\n\t\t}\r\n\t},\r\n\t{\r\n\t\tpath: '/order_info1',\r\n\t\tname: 'OrderInfo1',\r\n\t\tcomponent: () => import('@/views/OrderInfo1.vue'),\r\n\t\tmeta: {\r\n\t\t\ttitle: '订单详情',\r\n\t\t\tback: 5\r\n\t\t}\r\n\t},\r\n\t{\r\n\t\tpath: '/show_data',\r\n\t\tname: 'ShowData',\r\n\t\tcomponent: () => import('@/views/ShowData.vue'),\r\n\t\tmeta: {\r\n\t\t\ttitle: '收款信息',\r\n\t\t\tback: 6\r\n\t\t}\r\n\t},\r\n\t{\r\n\t\tpath: '/demo',\r\n\t\tname: 'Demo',\r\n\t\tcomponent: () => import('@/views/demo.vue'),\r\n\t\tmeta: {\r\n\t\t\ttitle: '演示',\r\n\t\t\tback: 6\r\n\t\t}\r\n\t}\r\n]\r\n\r\nconst router = new VueRouter({\r\n\tmode: \"hash\",\r\n\tbase: process.env.BASE_URL,\r\n\troutes\r\n})\r\n\r\nrouter.afterEach(to => {\r\n\tvar config = {\r\n\t\ttype: 1,\r\n\t\t...to.meta\r\n\t}\r\n\trouter.app.$options.store.commit('Betting/SET_TITLE_CONFIG', config);\r\n})\r\n\r\nexport default router\r\n","\r\nimport $api from '../api/index.js'\r\n\r\nexport function store(api, module, fp_state, fp_getters, fp_mutations, fp_actions) {\r\n\r\n    let state = {\r\n        ...fp_state\r\n    }\r\n\r\n    let getters = {\r\n        ...fp_getters\r\n    }\r\n\r\n    let mutations = {\r\n        ...fp_mutations\r\n    }\r\n\r\n    let actions = {\r\n        ...fp_actions\r\n    }\r\n    console.log(api, module);\r\n    module.forEach(item => {\r\n        mutations[item] = (state, payload) => {\r\n            state[item] = payload\r\n        },\r\n        actions[item] = ({ commit }, payload={}) => {\r\n            return new Promise((resolve, reject) => {\r\n                $api[api][item](payload)\r\n                .then(res => {\r\n                    commit(item, res)\r\n                    resolve(res)\r\n                })\r\n                .catch(error => {\r\n                    commit(item, -1)\r\n                    reject(error)\r\n                })\r\n            })\r\n        }\r\n    })\r\n\r\n    return {\r\n        namespaced: true,\r\n        state,\r\n        getters,\r\n        mutations,\r\n        actions\r\n    }\r\n}","import request from '@/tool/utils/request.js'\r\n\r\n\r\nconst config = new Object\r\n\r\n\r\n// 用户基本信息\r\nconfig.userinfo = params => request.globalRequest(`/trade_ase/user_info`, 'POST', params, 3, 1)\r\n\r\n// 出售音豆\r\nconfig.trade_sellr = params => request.globalRequest(`/trade_ase/sellr`, 'POST', params, 3, 1)\r\n\r\n// 买入音豆\r\nconfig.order_order = params => request.globalRequest(`/trade_ase/order`, 'POST', params, 3, 1)\r\n\r\n// 买家收购订单列表\r\nconfig.orderRecord = params => request.globalRequest(`/trade_ase/public_index`, 'POST', params, 3, 1)\r\n\r\n// 出售列表\r\nconfig.chuRecord = params => request.globalRequest(`/trade_ase/chuRecord`, 'POST', params, 3, 1)\r\n\r\n// 添加银行卡保存\r\nconfig.user_bank_save = params => request.globalRequest(`/user_bank/save`, 'POST', params, 3, 1)\r\n\r\n// 信息\r\nconfig.user_bank_index = params => request.globalRequest(`/user_bank/index`, 'POST', params, 3, 1)\r\n\r\n// 首页系统信息\r\nconfig.trade_index = params => request.globalRequest(`/trade_ase/index`, 'POST', params, 3, 1)\r\n\r\n// 七牛云\r\nconfig.qiniu = params => request.globalRequest(`/upload/qiniu`, 'POST', params, 3, 1)\r\n\r\n// 变更\r\nconfig.user_bank = params => request.globalRequest(`/user_bank/upd`, 'POST', params, 3, 1)\r\n\r\n// 订单详情\r\nconfig.orderDetail = params => request.globalRequest(`/user_bank/upd`, 'POST', params, 3, 1)\r\n\r\n// 订单详情\r\nconfig.sell_index = params => request.globalRequest(`/trade_ase/sell_index`, 'POST', params, 3, 1)\r\n\r\n// 出售\r\nconfig.order_detail = params => request.globalRequest(`/trade_ase/order_detail`, 'POST', params, 3, 1)\r\n\r\n// 上传图片\r\nconfig.upload_pic = params => request.globalRequest(`/trade_ase/upload_pic`, 'POST', params, 3, 1)\r\n\r\n// 变更\r\nconfig.trade_status = params => request.globalRequest(`/trade_ase/status`, 'POST', params, 3, 1)\r\n\r\n// 登录\r\nconfig.sign = params => request.globalRequest(`/Login/username_sign2`, 'POST', params, 3, 0)\r\n\r\n// 音豆\r\nconfig.record = params => request.globalRequest(`/user/record_ase`, 'POST', params, 3, 1)\r\n\r\nexport default config","\r\nimport { store } from \"@/tool/store/store.js\";\r\n\r\nimport {\r\n    USER,\r\n    USER_INFO,\r\n    TRADE_INDEX,\r\n} from \"../../common/constants\";\r\n\r\n\r\nconst state = {\r\n    [USER_INFO]: false,\r\n    userToken: false,\r\n    [TRADE_INDEX]: false,\r\n    current_sell: false,\r\n    current_chu: false,\r\n    show_data: false,\r\n}\r\n\r\nconst getters = {\r\n    \r\n}\r\n\r\nconst mutations = {\r\n    // 设置Token\r\n    SET_TOKEN(state, payload){\r\n        state.userToken = payload\r\n    },\r\n    // 设置当前数据\r\n    SET_CURRENT_SELL(state, payload){\r\n        state.current_sell = payload\r\n    },\r\n    // 设置当前数据\r\n    SET_CURRENT_SELL1(state, payload) {\r\n        state.current_chu = payload\r\n    },\r\n    // 设置当前数据\r\n    SET_CURRENT_SELL2(state, payload) {\r\n        state.show_data = payload\r\n    },\r\n    // 设置当前数据\r\n    SET_CURRENT_STATUS(state, payload) {\r\n        state.current_chu.status = payload\r\n    },\r\n}\r\n\r\nconst actions = {\r\n\r\n}\r\n\r\n\r\nexport default store('user', USER, state, getters, mutations, actions)","import mod from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Berror.vue?vue&type=style&index=0&id=f9755a96&lang=stylus&scoped=true&\"; export default mod; export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Berror.vue?vue&type=style&index=0&id=f9755a96&lang=stylus&scoped=true&\"","import Vue from \"vue\";\r\n\r\nimport serverUrl, { base } from '../common/config.js'\r\n// const _this = Vue.prototype\r\n\r\nconst request = {}\r\n\r\n    // application/x-www-form-urlencoded\r\nfunction contentType(data){\r\n    var arr = []\r\n    for (var item in data) {\r\n        var str = `${item}=${data[item]}`\r\n        arr.push(str)\r\n    }\r\n    return arr.join('&')\r\n}\r\n\r\nrequest.globalRequest = (url, method, data = {}, type, power) => {\r\n\r\n    data = {...data, ...base}\r\n\r\n    if(type==3){\r\n        url = url  + '?' + contentType(data);\r\n    }\r\n\r\n    const headers = {\r\n        'Content-Type': \"text/plain\",\r\n        'Accept': \"*/*\",\r\n    }\r\n\r\n    let form = new FormData()\r\n\r\n    for (var item in data){\r\n        form.append(item, data[item])\r\n    }\r\n\r\n    let formData = null\r\n\r\n    switch (type) {\r\n        case 1:\r\n            formData = form\r\n            break;\r\n        case 2:\r\n            formData = JSON.stringify(data)\r\n            headers['content-type'] = 'application/json;charset=UTF-8'\r\n            break;\r\n        default:\r\n            formData = JSON.stringify({})\r\n            break;\r\n    }\r\n    if (power){\r\n        let result = window.localStorage.getItem('dd_user')\r\n        headers['x2-token'] = result ? JSON.parse(result)['token'] : false\r\n    }\r\n    const machiningData = {\r\n        body: formData,\r\n        headers: headers,\r\n        mode: \"cors\",\r\n        // mode: \"no-cors\", // 如果不使世界跨域通过的话， 设置为 no-cors 但是responnse 中是没有值得\r\n        cache: \"force-cache\",\r\n    }\r\n    if (method=='POST') machiningData.method = 'POST'\r\n    return new Promise(function(resove, reject) {\r\n        fetch(serverUrl.concat(url), machiningData)\r\n        .then(function(response) {\r\n            return response.json();\r\n        })\r\n        .then(function(myJson) {\r\n            resove(myJson)\r\n        })\r\n        .catch(error => {\r\n            reject(error)\r\n        })\r\n    })\r\n}\r\n\r\nexport default request\r\n","<template>\r\n\t<div class=\"scroll-view\"\r\n\t\t@touchstart=\"touchstart\"\r\n\t\t@touchmove.prevent.stop=\"touchmove\"\r\n\t\t@touchend=\"touchend\"\r\n\t\tref=\"scroll\"\r\n\t>\r\n\t\t<div class=\"scroll-wrapper\"\r\n\t\t:style=\"{\r\n\t\t\ttransform:`translate3d(0px, ${curr}px, 0px) translateZ(0px)`,\r\n\t\t\ttransitionDuration: `${duration}ms`,\r\n\t\t\ttransitionTimingFunction: 'cubic-bezier(0.165, 0.84, 0.44, 1)'\r\n\t\t\t}\"\r\n\t\t>\r\n\t\t\t<div class=\"content\" ref=\"content\">\r\n\t\t\t\t<slot></slot>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\n\texport default {\r\n\t\tname: 'scroll-view',\r\n\t\tdata(){\r\n\t\t\treturn {\r\n\t\t\t\tsy: 0,\r\n\t\t\t\tcy: 0,\r\n\t\t\t\tey: 0,\r\n\r\n\t\t\t\tduration:0,\r\n\r\n\t\t\t\tboxHeight:0,\r\n\t\t\t\tdomHeight:0,\r\n\r\n\t\t\t\tcurr:0,\r\n\t\t\t}\r\n\t\t},\r\n\t\tcreated(){\r\n\r\n\t\t},\r\n\t\tmounted(){\r\n\t\t\tthis.boxHeight = this.$refs.scroll.clientHeight\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\ttouchstart(e){\r\n\t\t\t\tthis.domHeight = this.$refs.content.clientHeight\r\n\t\t\t\tthis.duration = 0\r\n\t\t\t\tthis.sy = e.touches[0].clientY\r\n\t\t\t},\r\n\t\t\ttouchmove(e){\r\n\t\t\t\tvar y = e.changedTouches[0].clientY\r\n\t\t\t\tvar res = y - this.sy\r\n\t\t\t\tthis.cy = res\r\n\t\t\t\tthis.curr = res / 1.4 + this.ey\r\n\t\t\t},\r\n\t\t\ttouchend(e){\r\n\t\t\t\tvar y = e.changedTouches[0].clientY\r\n\t\t\t\t\r\n\t\t\t\tif( this.domHeight <= this.boxHeight){\r\n\t\t\t\t\t// 高度小于盒子的高度\r\n\t\t\t\t\tthis.duration = 500\r\n\t\t\t\t\tthis.curr = 0\r\n\t\t\t\t\tthis.ey = 0\r\n\t\t\t\t}else if(this.domHeight > this.boxHeight){\r\n\t\t\t\t\tif(this.curr > 0){\r\n\t\t\t\t\t\tthis.duration = 500\r\n\t\t\t\t\t\tthis.curr = 0\r\n\t\t\t\t\t\tthis.ey = 0\r\n\t\t\t\t\t}else if(this.curr < this.boxHeight - this.domHeight){\r\n\t\t\t\t\t\tconsole.log(this.curr);\r\n\t\t\t\t\t\tconsole.log(this.boxHeight - this.domHeight);\r\n\t\t\t\t\t\tthis.duration = 500\r\n\t\t\t\t\t\tthis.curr = this.boxHeight - this.domHeight\r\n\t\t\t\t\t\tthis.ey = this.boxHeight - this.domHeight\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\tthis.ey = this.ey + (y - this.sy) / 1.4\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t},\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style lang=\"stylus\" scoped>\r\n\t.scroll-view\r\n\t\tposition fixed\r\n\t\toverflow hidden\r\n\t\tleft 0\r\n\t\tright 0\r\n\t\tbottom 0\r\n\t\ttop .88rem\r\n\t\t// height calc(100vh - 88px)\r\n\t\t.content\r\n\t\t\tfloat left\r\n\t\t\twidth 100%\r\n</style>","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{ref:\"scroll\",staticClass:\"scroll-view\",on:{\"touchstart\":_vm.touchstart,\"touchmove\":function($event){$event.preventDefault();$event.stopPropagation();return _vm.touchmove($event)},\"touchend\":_vm.touchend}},[_c('div',{staticClass:\"scroll-wrapper\",style:({\n\t\ttransform:(\"translate3d(0px, \" + _vm.curr + \"px, 0px) translateZ(0px)\"),\n\t\ttransitionDuration: (_vm.duration + \"ms\"),\n\t\ttransitionTimingFunction: 'cubic-bezier(0.165, 0.84, 0.44, 1)'\n\t\t})},[_c('div',{ref:\"content\",staticClass:\"content\"},[_vm._t(\"default\")],2)])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[(!_vm.full)?_c('AppBar'):_vm._e(),_c('transition',{attrs:{\"name\":_vm.transitionName}},[_c('router-view',{class:['app-router', {'pt': !_vm.full}]})],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { render, staticRenderFns } from \"./Binput.vue?vue&type=template&id=5eebf2fa&\"\nimport script from \"./Binput.vue?vue&type=script&lang=js&\"\nexport * from \"./Binput.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","\r\n// 显示环境信息\r\nconsole.log(process.env);\r\n\r\nlet serverURL\r\n\r\nlet base = {\r\n    // test: 'xxxxxxxxxxx',\r\n}\r\n\r\nif(process.env.NODE_ENV === 'development'){\r\n    // 本地地址\r\n\t// serverURL = '/dev'\r\n\tserverURL = 'http://hzasdbf.cn/public/index.php'\r\n}else{\r\n    // 线上地址\r\n    serverURL = 'http://hzasdbf.cn/public/index.php'\r\n}\r\n\r\nexport default serverURL\r\n\r\nexport {\r\n    base\r\n}\r\n","import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=6a22282d&lang=stylus&scoped=true&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=6a22282d&lang=stylus&scoped=true&\"","\r\n// Game.js\r\nexport const GAME_GET_HISTORY_OPEN_CODE = 'getHistoryOpenCode'\r\nexport const GAME_GET_PLAY_TYPE_LIST = 'getPlayTypeList'\r\nexport const GAME_POST_BET = 'bet'\r\nexport const GAME_GET_NEW_OPEN_TIME = 'getNewOpentime'\r\n\r\nexport const GAME_GET_ODDS_LIST = 'getOddsList'\r\nexport const GAME_UPLOAD_ENV_INFO = 'uploadEnvInfo'\r\n\r\n// 获取玩法说明\r\nexport const GAME_GET_PLAY_TYPE_DESC = 'getPlayTypeDesc'\r\nexport const GAME_GET_GAME_LIST = 'getGameList'\r\nexport const GAME_GET_LOTTERY_SERIES = 'getLotterySeries'\r\n\r\nexport const GAME = [\r\n    GAME_GET_HISTORY_OPEN_CODE,\r\n    GAME_GET_PLAY_TYPE_LIST,\r\n    GAME_GET_NEW_OPEN_TIME,\r\n    GAME_GET_ODDS_LIST,\r\n    GAME_POST_BET,\r\n    GAME_GET_PLAY_TYPE_DESC,\r\n    GAME_GET_GAME_LIST,\r\n    GAME_GET_LOTTERY_SERIES\r\n]\r\n\r\n\r\n// User.js\r\nexport const USER_INFO = 'userinfo'\r\nexport const TRADE_INDEX = 'trade_index'\r\n\r\nexport const USER = [USER_INFO, TRADE_INDEX]\r\n\r\n// Betting.js\r\nexport const BETTING = []\r\n\r\n// Record.js\r\nexport const RECORD = []","\r\nexport default {\r\n    // 获取当前浏览器环境\r\n    getUserAgent() {\r\n        var env = {}\r\n        env.isAndroid = navigator.userAgent.indexOf('Android') > -1 || navigator.userAgent.indexOf('Linux') > -1; //安卓端\r\n        env.isIOS = !!navigator.userAgent.match(/\\(i[^;]+;( U;)? CPU.+Mac OS X/); //ios终端\r\n        return env\r\n    },\r\n    // 获取屏幕像素\r\n    getScreenInfo(){\r\n        var info = {}\r\n        info.width = document.body.clientWidth\r\n        info.height = document.body.clientHeight\r\n        return info\r\n    },\r\n    // 获取节点信息\r\n    getDomInfo(query){\r\n        let info = {}\r\n        const obj = document.querySelector(query).getBoundingClientRect()\r\n        info.width = obj.width\r\n        info.height = obj.height\r\n        info.top = obj.top\r\n        info.bottom = obj.bottom\r\n        info.left = obj.left\r\n        info.right = obj.right\r\n        return info\r\n    },\r\n    // 本地存储\r\n    setLocalStorage(key, content){\r\n        window.localStorage.setItem(key, JSON.stringify(content));\r\n    },\r\n    // 读取存储\r\n    getLocalStorage(key){\r\n        let result = window.localStorage.getItem(key)\r\n        return result ? JSON.parse(result) : false\r\n    },\r\n    // 删除缓存\r\n    removeLocalStorage(key){\r\n        window.localStorage.removeItem(key);\r\n    },\r\n    // 调整顺序\r\n    sortArray(source, sort) {\r\n        let _sort = []\r\n        if (sort.length === 0) return source\r\n        sort.forEach(item1 => {\r\n            source.forEach(item2 => {\r\n                if (item1 === item2.name) {\r\n                    _sort.push(item2)\r\n                }\r\n            });\r\n        });\r\n        return _sort\r\n    },\r\n    // 对象深层拷贝\r\n    deepClone(obj) {\r\n        var _obj = JSON.stringify(obj),\r\n        objClone = JSON.parse(_obj)\r\n        return objClone\r\n    },\r\n    // 判断对象是否在数组里\r\n    contains(obj, source) {\r\n        var a = false\r\n        source.forEach(item => {\r\n            if(obj===item){\r\n                a = true\r\n            }\r\n        })\r\n        return a\r\n    },\r\n    // 生成随机数\r\n    random_number(len, count) {\r\n        var arr = []\r\n        var original = new Array;\r\n        for (let i = 0; i < count; i++) {\r\n            original[i] = i;\r\n        }\r\n        original.sort(function() {\r\n            return 0.5 - Math.random();\r\n        });\r\n        for (let i = 0; i < len; i++) {\r\n            arr.push(original[i])\r\n        }\r\n        console.log(arr);\r\n        return arr\r\n    },\r\n}","import { render, staticRenderFns } from \"./AppBar.vue?vue&type=template&id=7f70433e&\"\nimport script from \"./AppBar.vue?vue&type=script&lang=js&\"\nexport * from \"./AppBar.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","\r\n\r\nexport default function directive(Vue) {\r\n    // 金额数字限制\r\n    Vue.directive('money', {\r\n        bind: function(el, binding, vnode) {\r\n           \r\n            // console.log(el);\r\n            // console.log(binding);\r\n            // console.log(vnode);\r\n            \r\n            var maxLength = binding.value\r\n            // var min = binding.modifiers.min || false\r\n            var str = el.value\r\n            var reg = /^\\d$/\r\n            el.oninput = function(e) {\r\n                var len = el.value.length\r\n                if (e.inputType == 'deleteContentBackward') {\r\n                    str = str.substring(0, str.length - 1)\r\n                }\r\n                if (e.data && e.data.length === 1 && len <= maxLength && e.data != '.') {                    \r\n                    if (reg.test(e.data)) {\r\n                        str += e.data\r\n                        if (len == 1) {\r\n                            if (e.data == '0') {\r\n                                str = ''\r\n                            }\r\n                        }\r\n                    }else{\r\n                        console.error('error number');\r\n                    }\r\n                }\r\n                el.value = str\r\n            }\r\n            el.onpaste = function(e) {\r\n                return false;\r\n            }\r\n            el.onbeforepaste = function(e) {\r\n                return false;\r\n            }\r\n        },\r\n        inserted: function(el, binding, vnode) {\r\n            // console.log('inserted');\r\n        },\r\n        update: function(el, binding, vnode) {\r\n            // console.log('update');\r\n        },\r\n        componentUpdated: function(el, binding, vnode) {\r\n            // console.log('componentUpdated');\r\n        }\r\n    })\r\n\r\n    Vue.directive('test', {\r\n        bind: function(el, binding, vnode) {\r\n            console.log(el);\r\n        }\r\n    })\r\n}","import dayjs from 'dayjs'\r\n\r\nfunction Double(val) {\r\n    return val < 10 ? '0' + val : val + ''\r\n}\r\n\r\nexport default function FilterStore(Vue) {\r\n    \r\n    // 小于10\r\n    Vue.filter('Double', data => {\r\n        return data < 10 ? '0' + data : '' + data\r\n    })\r\n    // 银行卡号\r\n    Vue.filter('number', function(data) {\r\n        var str = data\r\n        var s1 = str.substring(0, 6)\r\n        var s2 = str.substring(str.length - 3, str.length)\r\n        return s1 + '****' + s2\r\n    })\r\n    // 手机号隐藏\r\n    Vue.filter('mobile', function(data) {\r\n        var str = data\r\n        var s1 = str.substring(0, 3)\r\n        var s2 = str.substring(str.length - 4, str.length)\r\n        return s1 + '****' + s2\r\n    })\r\n    // 资金记录 类型\r\n    Vue.filter('zijin_type', data => {\r\n        switch (data) {\r\n            case 11:\r\n                return '投注/投注扣款'\r\n            case 17:\r\n                return '彩票返水'\r\n            case 27:\r\n                return '余额转开元'\r\n            case 12:\r\n                return '派奖/投注派奖'\r\n            default:\r\n                return data\r\n        }\r\n    })\r\n    // 时间戳 转 时间\r\n    Vue.filter('timer', data => dayjs(data).format('YYYY-MM-DD HH:mm:ss'))\r\n\r\n    // 期号\r\n    Vue.filter('lotteryNumber', (data, length) => {\r\n        // 202005220609\r\n        if(!data) return '000'\r\n\r\n        var len = data.length\r\n        var str = data.substring(len - length, len)\r\n        \r\n        return str\r\n    })\r\n    // 倒计时\r\n    Vue.filter('CountDown', (data) => {\r\n        if (data >= 0) {\r\n            var h = Double(Math.floor(data / 60 / 60))\r\n\r\n            var m = Double(Math.floor(data / 60))\r\n\r\n            var s = Double(data % 60)\r\n\r\n            var time = ''.concat(h, ':', m, ':', s);\r\n            return time\r\n        }else{\r\n            return '00:00:00'\r\n        }\r\n    })\r\n    // 保存小数\r\n    Vue.filter('toFixed', (data, digit, intercept=false) => {\r\n        let arr = data.toString().split('.')\r\n        if(arr.length == 1){\r\n            return arr[0]\r\n        }else{\r\n            if (intercept) {\r\n                return arr[0].concat('.', arr[1].substring(0, digit))\r\n            }\r\n            return data.toFixed(digit)\r\n        }\r\n    })\r\n    // 金额格式化显示\r\n    Vue.filter('moneyFixed', (data, digit) => {\r\n        if(data){\r\n            return data.toFixed(digit);\r\n        }else{\r\n            return '0.00';\r\n        }\r\n    })\r\n    // 彩种详情\r\n    Vue.filter('DetailName', (data) => {\r\n        switch (data) {\r\n            case 1:\r\n                return '分分时时彩'\r\n            case 2:\r\n                return '极速PK10'\r\n            case 3:\r\n                return '两分时时彩'\r\n            case 4:\r\n                return '三分时时彩'\r\n            case 5:\r\n                return '五分时时彩'\r\n            case 7:\r\n                return '五分六合彩'\r\n            case 13:\r\n                return '重庆时时彩'\r\n            case 14:\r\n                return '天津时时彩'\r\n            case 15:\r\n                return '新疆时时彩'\r\n            case 16:\r\n                return '快乐时时彩'\r\n            case 18:\r\n                return '安微快三'\r\n            case 29:\r\n                return '北京28'\r\n            default:\r\n                return data\r\n        }\r\n    })\r\n    \r\n}","<template>\r\n    <div class=\"header-wrapper pub-center\">\r\n        <div class=\"header-top\">\r\n            <div class=\"fl\" v-if=\"AppBar.back > 1\" @click=\"$router.back(-1)\"><span>返回</span></div>\r\n            <div class=\"title\" v-if=\"AppBar.type==1\">{{AppBar.title}}</div>\r\n             \r\n            <!-- 首页 -->\r\n            <div class=\"name\" v-if=\"AppBar.type==3\"><span>Hi! </span>{{MyInfo.account}}</div>\r\n\r\n            <div v-if=\"AppBar.type==2 && showTitle\"\r\n            :class=\"['title', {active: alertConfig.SelectMode}]\"\r\n            @click=\"h1(!alertConfig.SelectMode)\">\r\n                {{mode_config_result.title}}\r\n                <i></i>\r\n            </div>\r\n            <div class=\"title\" v-else-if=\"AppBar.type==2 && !showTitle\">{{playGroupId | DetailName}}</div>\r\n\r\n            <div class=\"fr\">\r\n                <div class=\"filter-text\" @click=\"h2(!alertConfig.Order)\" v-if=\"AppBar.right==1\">筛选</div>\r\n            </div>\r\n        </div>\r\n        <!-- <div class=\"header-null\"></div> -->\r\n    </div>\r\n\r\n</template>\r\n\r\n<script>\r\n    import { mapState } from \"vuex\";\r\n    export default {\r\n        data(){\r\n            return {\r\n                \r\n            }\r\n        },\r\n        computed: {\r\n            drawFtitle() {\r\n                const { id } =  this.$route.params;\r\n                if(id == 1) {\r\n                    return '走势'\r\n                }\r\n                if(id == 2) {\r\n                    return \"开奖\"\r\n                }\r\n            },\r\n            showTitle(){\r\n                var group_id = [1, 3, 4, 5, 13, 14, 15, 16, 2]\r\n                var istitle = true\r\n                group_id.forEach(item=>{\r\n                    if(item==this.playGroupId){\r\n                        istitle = false\r\n                    }\r\n                })\r\n                return istitle\r\n            },\r\n            ...mapState('Betting', {\r\n                AppBar: state => state.AppBar,\r\n            }),\r\n            ...mapState('User', {\r\n                MyInfo: state => state.getMyInfo\r\n            }),\r\n        },\r\n        created(){\r\n            \r\n        },\r\n        methods: {\r\n            h1(is){\r\n                this.$store.commit('Betting/SET_ALERT_CONFIG', {SelectMode: is});\r\n            },\r\n            h2(is){\r\n                this.$store.commit('Betting/SET_ALERT_CONFIG', {Order: is});\r\n            },\r\n        }\r\n    }\r\n</script>\r\n\r\n<style>\r\n\r\n</style>","import request from '@/tool/utils/request.js'\r\n\r\n\r\nconst config = new Object\r\n\r\n\r\n// 用户基本信息\r\nconfig.userinfo = params => request.globalRequest(`/Trade/user_info`, 'POST', params, 3, 1)\r\n\r\n// 出售音豆\r\nconfig.trade_sellr = params => request.globalRequest(`/Trade/sellr`, 'POST', params, 3, 1)\r\n\r\n// 买入音豆\r\nconfig.order_order = params => request.globalRequest(`/trade/order`, 'POST', params, 3, 1)\r\n\r\n// 买家收购订单列表\r\nconfig.orderRecord = params => request.globalRequest(`/Trade/public_index`, 'POST', params, 3, 1)\r\n\r\n// 出售列表\r\nconfig.chuRecord = params => request.globalRequest(`/Trade/chuRecord`, 'POST', params, 3, 1)\r\n\r\n// 添加银行卡保存\r\nconfig.user_bank_save = params => request.globalRequest(`/user_bank/save`, 'POST', params, 3, 1)\r\n\r\n// 信息\r\nconfig.user_bank_index = params => request.globalRequest(`/user_bank/index`, 'POST', params, 3, 1)\r\n\r\n// 首页系统信息\r\nconfig.trade_index = params => request.globalRequest(`/Trade/index`, 'POST', params, 3, 1)\r\n\r\n// 七牛云\r\nconfig.qiniu = params => request.globalRequest(`/upload/qiniu`, 'POST', params, 3, 1)\r\n\r\n// 变更\r\nconfig.user_bank = params => request.globalRequest(`/user_bank/upd`, 'POST', params, 3, 1)\r\n\r\n// 订单详情\r\nconfig.orderDetail = params => request.globalRequest(`/user_bank/upd`, 'POST', params, 3, 1)\r\n\r\n// 订单详情\r\nconfig.sell_index = params => request.globalRequest(`/Trade/sell_index`, 'POST', params, 3, 1)\r\n\r\n// 出售\r\nconfig.order_detail = params => request.globalRequest(`/Trade/order_detail`, 'POST', params, 3, 1)\r\n\r\n// 上传图片\r\nconfig.upload_pic = params => request.globalRequest(`/Trade/upload_pic`, 'POST', params, 3, 1)\r\n\r\n// 变更\r\nconfig.trade_status = params => request.globalRequest(`/Trade/status`, 'POST', params, 3, 1)\r\n\r\n// 登录\r\nconfig.sign = params => request.globalRequest(`/Login/username`, 'POST', params, 3, 0)\r\n\r\n// 音豆\r\nconfig.record = params => request.globalRequest(`/user/record`, 'POST', params, 3, 1)\r\n\r\nexport default config"],"sourceRoot":""}