{"version":3,"sources":["webpack:///src/views/Bind.vue","webpack:///./src/views/Bind.vue","webpack:///./src/views/Bind.vue?0c25","webpack:///./src/views/Bind.vue?e599"],"names":["component","render","_vm","this","_h","$createElement","_c","_self","staticClass","_v","directives","name","rawName","value","formData","expression","attrs","domProps","on","$event","target","composing","$set","model","callback","$$v","upload_one","zfb_number","_e","wx_number","submitFun","staticRenderFns"],"mappings":"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","file":"js/chunk-7941b532.50e5f9ef.js","sourcesContent":["<template>\n\t<div class=\"app\">\n\t\t<div class=\"bind-page\">\n\t\t\t<ul>\n\t\t\t\t<li>\n\t\t\t\t\t<span>开户姓名：</span>\n\t\t\t\t\t<div class=\"fr\">\n\t\t\t\t\t\t<input type=\"text\" v-model=\"formData.bank_name\" placeholder=\"请输入开户姓名\">\n\t\t\t\t\t</div>\n\t\t\t\t</li>\n\t\t\t\t<li>\n\t\t\t\t\t<span>开户银行：</span>\n\t\t\t\t\t<div class=\"fr\">\n\t\t\t\t\t\t<input type=\"text\" v-model=\"formData.bank_type\" placeholder=\"请输入开户银行\">\n\t\t\t\t\t</div>\n\t\t\t\t</li>\n\t\t\t\t<li>\n\t\t\t\t\t<span>开户账号：</span>\n\t\t\t\t\t<div class=\"fr\">\n\t\t\t\t\t\t<b-input type=\"text\" v-model=\"formData.bank_number\" placeholder=\"请输入开户账号\"></b-input>\n\t\t\t\t\t</div>\n\t\t\t\t</li>\n\t\t\t\t<li>\n\t\t\t\t\t<span>支付宝账号：</span>\n\t\t\t\t\t<div class=\"fr\">\n\t\t\t\t\t\t<input type=\"text\" v-model=\"formData.zfb_name\" placeholder=\"请输入支付宝账号\">\n\t\t\t\t\t</div>\n\t\t\t\t</li>\n\t\t\t\t<li>\n\t\t\t\t\t<span>支付宝收款码：</span>\n\t\t\t\t\t<div class=\"fr\">\n\t\t\t\t\t\t<div class=\"pub-upload\">\n\t\t\t\t\t\t\t<input @change=\"upload_one('zfb_number')\" type=\"file\" accept=\"image/gif, image/jpeg\">\n\t\t\t\t\t\t\t<img v-if=\"formData.zfb_number\" :src=\"'http://api.ohtbmgn.cn/' + formData.zfb_number\" alt=\"\">\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</li>\n\t\t\t\t<li>\n\t\t\t\t\t<span>微信收款码：</span>\n\t\t\t\t\t<div class=\"fr\">\n\t\t\t\t\t\t<div class=\"pub-upload\">\n\t\t\t\t\t\t\t<input @change=\"upload_one('wx_number')\" type=\"file\" accept=\"image/gif, image/jpeg\">\n\t\t\t\t\t\t\t<img v-if=\"formData.wx_number\" :src=\"'http://api.ohtbmgn.cn/' + formData.wx_number\" alt=\"\">\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</li>\n\t\t\t</ul>\n\t\t\t<div class=\"pub-button\">\n\t\t\t\t<button @click=\"submitFun\">保存</button>\n\t\t\t\t<!-- <div class=\"item\"><button @click=\"submitFun\">添加</button></div> -->\n\t\t\t\t<!-- <div class=\"item\"></div> -->\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</template>\n\n<script>\n\nexport default {\n\tname: 'Bind',\n\tdata(){\n\t\treturn {\n\t\t\tformData : {\n\t\t\t\tbank_name: '',\n\t\t\t\tbank_type:'',\n\t\t\t\tbank_number:'',\n\n\t\t\t\tzfb_name:'',\n\t\t\t\tzfb_number:'',\n\n\t\t\t\twx_name:'',\n\t\t\t\twx_number:'',\n\t\t\t},\n\t\t\tis_id: '',\n\t\t}\n\t},\n\tcreated(){\n\t\tthis.getNetWork();\n\t},\n\tmethods: {\n\t\tgetNetWork(){\n\t\t\tvar data = {\n\t\t\t\t...this.$user,\n\t\t\t\tpage: 1,\n\t\t\t}\n\t\t\tthis.$api.user.user_bank_index(data)\n\t\t\t.then(res=>{\n\t\t\t\tconsole.log(res);\n\t\t\t\tif(res.code){\n\t\t\t\t\tthis.is_id = res.data.id\n\t\t\t\t\tthis.formData.bank_name = res.data.bank_name\n\t\t\t\t\tthis.formData.bank_type = res.data.bank_type\n\t\t\t\t\tthis.formData.bank_number = res.data.bank_number\n\n\t\t\t\t\tthis.formData.zfb_name = res.data.zfb_name\n\t\t\t\t\tthis.formData.zfb_number = res.data.zfb_number\n\t\t\t\t\tthis.formData.wx_name = res.data.wx_name\n\t\t\t\t\tthis.formData.wx_number = res.data.wx_number\n\t\t\t\t}\n\t\t\t})\n\t\t},\n\t\tsubmitFun(){\n\t\t\tthis.loading('正在保存');\n\t\t\tlet data = {\n\t\t\t\t...this.$user,\n\t\t\t\t...this.formData,\n\t\t\t}\n\t\t\tif(this.is_id){\n\t\t\t\tdata.id = this.is_id\n\t\t\t}\n\t\t\tthis.$api.user.add_bank(data)\n\t\t\t.then(res=>{\n\t\t\t\tconsole.log(res);\n\t\t\t\tthis.$toast('保存成功');\n\t\t\t})\n\t\t},\n\t\tupload_one(field){\n\t\t\tconst _this = this\n\t\t\tvar file = event.target.files;\n\t\t\tthis.$api.user.qiniu(this.$user)\n\t\t\t.then(res=>{\n\t\t\t\tconsole.log(res);\n\n\t\t\t\tvar formData = new FormData()\n\t\t\t\tformData.append('file', file[0])\n\t\t\t\tformData.append('token', res.token)\n\t\t\t\t// formData.append('key', file[0].name)\n\t\t\t\tformData.append('fname', file[0].name)\n\t\t\t\tformData.append('x:name', file[0].name)\n\t\t\t\n\t\t\t\tfetch('http://up-z2.qiniup.com', {\n\t\t\t\t\tmethod: 'POST',\n\t\t\t\t\tbody: formData,\n\t\t\t\t\t// credentials: 'same-origin',\n\t\t\t\t\t\"headers\":new Headers({\n\t\t\t\t\t\t// 'Content-Type': 'application/octet-stream',\n\t\t\t\t\t\t'Authorization': res.token\n\t\t\t\t\t})\n\t\t\t\t})\n\t\t\t\t.then(res => {\n\t\t\t\t\treturn res.json()\n\t\t\t\t})\n\t\t\t\t.then(res => {               \n\t\t\t\t\tconsole.log(res);\n\t\t\t\t\t_this.formData[field]= res.hash;\n\t\t\t\t})\n\t\t\t\t.catch(error => {\n\t\t\t\t\tconsole.log(error);\n\t\t\t\t})\n\t\t\t})\n\t\t},\n\t}\n}\n</script>\n","import { render, staticRenderFns } from \"./Bind.vue?vue&type=template&id=61b813d2&\"\nimport script from \"./Bind.vue?vue&type=script&lang=js&\"\nexport * from \"./Bind.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Bind.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Bind.vue?vue&type=script&lang=js&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"app\"},[_c('div',{staticClass:\"bind-page\"},[_c('ul',[_c('li',[_c('span',[_vm._v(\"开户姓名：\")]),_c('div',{staticClass:\"fr\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.formData.bank_name),expression:\"formData.bank_name\"}],attrs:{\"type\":\"text\",\"placeholder\":\"请输入开户姓名\"},domProps:{\"value\":(_vm.formData.bank_name)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.formData, \"bank_name\", $event.target.value)}}})])]),_c('li',[_c('span',[_vm._v(\"开户银行：\")]),_c('div',{staticClass:\"fr\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.formData.bank_type),expression:\"formData.bank_type\"}],attrs:{\"type\":\"text\",\"placeholder\":\"请输入开户银行\"},domProps:{\"value\":(_vm.formData.bank_type)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.formData, \"bank_type\", $event.target.value)}}})])]),_c('li',[_c('span',[_vm._v(\"开户账号：\")]),_c('div',{staticClass:\"fr\"},[_c('b-input',{attrs:{\"type\":\"text\",\"placeholder\":\"请输入开户账号\"},model:{value:(_vm.formData.bank_number),callback:function ($$v) {_vm.$set(_vm.formData, \"bank_number\", $$v)},expression:\"formData.bank_number\"}})],1)]),_c('li',[_c('span',[_vm._v(\"支付宝账号：\")]),_c('div',{staticClass:\"fr\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.formData.zfb_name),expression:\"formData.zfb_name\"}],attrs:{\"type\":\"text\",\"placeholder\":\"请输入支付宝账号\"},domProps:{\"value\":(_vm.formData.zfb_name)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.formData, \"zfb_name\", $event.target.value)}}})])]),_c('li',[_c('span',[_vm._v(\"支付宝收款码：\")]),_c('div',{staticClass:\"fr\"},[_c('div',{staticClass:\"pub-upload\"},[_c('input',{attrs:{\"type\":\"file\",\"accept\":\"image/gif, image/jpeg\"},on:{\"change\":function($event){return _vm.upload_one('zfb_number')}}}),(_vm.formData.zfb_number)?_c('img',{attrs:{\"src\":'http://api.ohtbmgn.cn/' + _vm.formData.zfb_number,\"alt\":\"\"}}):_vm._e()])])]),_c('li',[_c('span',[_vm._v(\"微信收款码：\")]),_c('div',{staticClass:\"fr\"},[_c('div',{staticClass:\"pub-upload\"},[_c('input',{attrs:{\"type\":\"file\",\"accept\":\"image/gif, image/jpeg\"},on:{\"change\":function($event){return _vm.upload_one('wx_number')}}}),(_vm.formData.wx_number)?_c('img',{attrs:{\"src\":'http://api.ohtbmgn.cn/' + _vm.formData.wx_number,\"alt\":\"\"}}):_vm._e()])])])]),_c('div',{staticClass:\"pub-button\"},[_c('button',{on:{\"click\":_vm.submitFun}},[_vm._v(\"保存\")])])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }"],"sourceRoot":""}