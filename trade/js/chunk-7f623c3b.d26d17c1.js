(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7f623c3b"],{"9e6e":function(t,i,s){"use strict";s.r(i);var e=s("b547"),n=s.n(e);for(var l in e)["default"].indexOf(l)<0&&function(t){s.d(i,t,(function(){return e[t]}))}(l);i["default"]=n.a},aa5b:function(t,i,s){"use strict";s.d(i,"a",(function(){return e})),s.d(i,"b",(function(){return n}));var e=function(){var t=this,i=t.$createElement,s=t._self._c||i;return s("div",{staticClass:"app bg-two"},[s("div",{staticClass:"order-page"},[s("div",{staticClass:"tabs"},[s("ul",[s("li",{class:{active:0==t.tabs},on:{click:function(i){return t.tabsToggle(0)}}},[t._v("购买音豆")]),s("li",{class:{active:1==t.tabs},on:{click:function(i){return t.tabsToggle(1)}}},[t._v("出售音豆")])])]),s("div",{staticClass:"list-wrppaer"},[s("scroller",{ref:"myscroller",attrs:{"on-refresh":t.refresh,"on-infinite":t.infinite}},[t.list_n&&0==t.tabs?s("div",{staticClass:"list"},[s("ul",t._l(t.list_n,(function(i){return s("li",{key:i.id},[s("div",{staticClass:"fl"},[s("h3",[t._v("数量："+t._s(i.number))]),s("p",[t._v("时间："+t._s(i.create_time))]),s("p",[t._v("状态："+t._s(t.mai_status1(i.status)))])]),s("div",{staticClass:"fr"},[0==i.status?s("span",{on:{click:function(s){return t.cancelOrder(i)}}},[t._v("取消订单")]):t._e(),0!=i.status&&5!=i.status?s("span",{on:{click:function(s){return t.gotoLink1(i)}}},[t._v("查看详情")]):t._e()])])})),0)]):t._e(),t.list1_n&&1==t.tabs?s("div",{staticClass:"list"},[s("ul",t._l(t.list1_n,(function(i){return s("li",{key:i.id,on:{click:function(s){return t.gotoLink(i)}}},[s("div",{staticClass:"fl"},[s("h3",[t._v("数量："+t._s(i.number))]),s("p",[t._v("时间："+t._s(i.create_time))]),s("p",[t._v("状态："+t._s(t.mai_status(i.status)))])]),s("div",{staticClass:"fr"},[s("span",[t._v("查看详情")])])])})),0)]):t._e(),s("div",{staticClass:"clear"})])],1)]),t.alertConfig.Order?s("div",{staticClass:"filter"},[0==t.tabs?s("div",{staticClass:"layout"},[s("ul",[s("li",{class:{active:""===t.filter1},on:{click:function(i){return t.toggle_filter1("")}}},[t._v("全部")]),s("li",{class:{active:0===t.filter1},on:{click:function(i){return t.toggle_filter1(0)}}},[t._v("发布中")]),s("li",{class:{active:1==t.filter1},on:{click:function(i){return t.toggle_filter1(1)}}},[t._v("交易中")]),s("li",{class:{active:3==t.filter1},on:{click:function(i){return t.toggle_filter1(3)}}},[t._v("已完成")]),s("li",{class:{active:4==t.filter1},on:{click:function(i){return t.toggle_filter1(4)}}},[t._v("订单取消")]),s("li",{class:{active:5==t.filter1},on:{click:function(i){return t.toggle_filter1(5)}}},[t._v("发布取消")])]),s("div",{staticClass:"confirm"},[s("button",{on:{click:function(i){return t.cancel(!1)}}},[t._v("取消")]),s("button",{on:{click:t.confirm1}},[t._v("确实")])])]):t._e(),1==t.tabs?s("div",{staticClass:"layout"},[s("ul",[s("li",{class:{active:""===t.filter2},on:{click:function(i){return t.toggle_filter2("")}}},[t._v("全部")]),s("li",{class:{active:1===t.filter2},on:{click:function(i){return t.toggle_filter2(1)}}},[t._v("交易中")]),s("li",{class:{active:2==t.filter2},on:{click:function(i){return t.toggle_filter2(2)}}},[t._v("待确认")]),s("li",{class:{active:3==t.filter2},on:{click:function(i){return t.toggle_filter2(3)}}},[t._v("已完成")]),s("li",{class:{active:4==t.filter2},on:{click:function(i){return t.toggle_filter2(4)}}},[t._v("已取消")])]),s("div",{staticClass:"confirm"},[s("button",{on:{click:function(i){return t.cancel(!1)}}},[t._v("取消")]),s("button",{on:{click:t.confirm2}},[t._v("确实")])])]):t._e()]):t._e()])},n=[]},b547:function(t,i,s){var e=s("4ea4");s("4de4"),s("4160"),s("159b"),Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var n=e(s("5530")),l={name:"Order",data:function(){return{tabs:0,filter1:"",filter2:"",state1:"",state2:"",list:[],list1:[],params:{},status:"all",page:0,buy_all_page:1,sell_all_page:1}},created:function(){this.params=this.$route.query,console.log(this.params),this.params.tabs&&(this.tabs=1*this.params.tabs)},computed:{list_n:function(){var t=this;return this.list.length>0&&(""===this.state1?this.list:this.list.filter((function(i){return i.status==t.state1})))},list1_n:function(){var t=this;return this.list1.length>0&&(""===this.state2?this.list1:this.list1.filter((function(i){return i.status==t.state2})))}},methods:{tabsToggle:function(t){this.tabs=t,this.goodsAll()},cancel:function(t){this.$store.commit("Betting/SET_ALERT_CONFIG",{Order:t})},toggle_filter1:function(t){this.filter1=t},toggle_filter2:function(t){this.filter2=t},confirm1:function(){this.cancel(!1),this.state1=this.filter1},confirm2:function(){this.cancel(!1),this.state2=this.filter2},getNetWork1:function(){var t=this,i=(0,n.default)((0,n.default)((0,n.default)({},this.$user),this.params),{},{type:0,page:1,to_from_id:this.$info.id,status:this.state1});this.$api.user.order_detail(i).then((function(i){console.log(i),t.list=i}))},getNetWork2:function(){var t=this,i=(0,n.default)((0,n.default)({},this.$user),{},{page:1,to_from_id:this.$info.id,type:1,status:this.state2});this.$api.user.order_detail(i).then((function(i){console.log(i),t.list1=i}))},getNetWork3:function(t){var i=this,s=(0,n.default)((0,n.default)({},this.$user),{},{page:this.page});this.$api.user.record(s).then((function(s){console.log(s),1==s.code&&(0==i.tabs?(i.list.push.apply(i.list,s.data.buy.data),console.log(i.list),i.buy_all_page=s.data.buy.all_page):(i.list1.push.apply(i.list1,s.data.sell.data),i.sell_all_page=s.data.sell.all_page),i.$refs.myscroller.finishInfinite(!0),t())}))},cancelOrder:function(t){var i=this;this.loading("正在取消");var s=(0,n.default)((0,n.default)({},this.$user),{},{trade_id:t.id,order_number:t.order_number,status:5});this.$api.user.trade_status(s).then((function(s){console.log(s),1==s.code&&(t.status=5),i.$toast(s.msg)}))},resultHandle:function(t){var i=0;return t.forEach((function(t){2==t.status&&(i+=t.number)})),i},quantityHandle:function(t){var i=0;return t.forEach((function(t){2==t.status&&(i+=1*t.amount)})),i},gotoLink:function(t){this.$store.commit("User/SET_CURRENT_SELL1",t),this.$router.push({path:"/order_info"})},gotoLink1:function(t){this.$store.commit("User/SET_CURRENT_SELL1",t),this.$router.push({path:"/order_info1"})},refresh:function(t){var i=this;setTimeout((function(){i.goodsAll(),t()}),1500)},infinite:function(t){var i=this;console.log("infinite"),0==this.tabs?console.log(this.page,this.buy_all_page):console.log(this.page,this.sell_all_page),0==this.tabs?this.page>=this.buy_all_page?setTimeout((function(){i.$refs.myscroller.finishInfinite(!0)}),1500):setTimeout((function(){i.page++,i.getNetWork3(t)}),500):this.page>=this.sell_all_page?setTimeout((function(){i.$refs.myscroller.finishInfinite(!0)}),1500):setTimeout((function(){i.page++,i.getNetWork3(t)}),500)},goodsAll:function(){this.status="all",this.page=0,this.buy_all_page=1,this.sell_all_page=1,this.$refs.myscroller.finishInfinite(!1),this.list=[],this.list1=[]}},destroyed:function(){this.cancel(!1)}};i.default=l},cf2a:function(t,i,s){"use strict";s.r(i);var e=s("aa5b"),n=s("9e6e");for(var l in n)["default"].indexOf(l)<0&&function(t){s.d(i,t,(function(){return n[t]}))}(l);var a=s("2877"),r=Object(a["a"])(n["default"],e["a"],e["b"],!1,null,null,null);i["default"]=r.exports}}]);
//# sourceMappingURL=chunk-7f623c3b.d26d17c1.js.map